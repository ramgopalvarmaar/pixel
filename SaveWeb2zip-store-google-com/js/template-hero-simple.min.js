(()=>{var e,t,i,s,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=(e,t,i,s)=>{for(var o,r=s>1?void 0:s?a(t,i):t,l=e.length-1;l>=0;l--)(o=e[l])&&(r=(s?o(t,i,r):o(r))||r);return s&&r&&n(t,i,r),r},r="DOMContentLoaded",l="mannequinImpendingNavigation";function c(e){return function(e,t){return t===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}(e,"boolean")}(t=e||(e={})).MQN_DEBUGGER="mqnDebugger",t.MQN_GLOBAL_DEBUG="mqnGlobalDebug",t.SITE_MAX_WIDTH="siteMaxWidth",t.MQN_GRID="mqnGrid",t.MQN_GRID2="grid",t.MQN_GOOGLE_ONE_USER="mqnGoogleOneUser",t.MQN_CONCIERGE_USER="mqnConciergeUser",t.MQN_ANALYTICS="MQN_DEBUG_ANALYTICS",t.MQN_DEBUG_LEVEL="MQN_DEBUG_LEVEL",t.MQN_HIGHLIGHT_ATTRIBUTE="mqnHighlightAttribute",t.MQN_INSPECT_A11Y="mqnInspectAccessibility",t.MQN_IS_SUBSCRIBED="mqnIsSubscribed",t.MQN_SHOW_SECURITY_POLICY_VIOLATIONS="mqnShowSecurityPolicyViolations",(s=i||(i={}))[s.NONE=0]="NONE",s[s.MQN_CONTROLLER=1]="MQN_CONTROLLER",s[s.MQN_SMOOTH_SCROLL=2]="MQN_SMOOTH_SCROLL",s[s.MQN_MODULE=3]="MQN_MODULE",s[s.ALL=4]="ALL";new class{constructor(){this.debugLevel=4;let t=function(e){let t=window.location.search.split(e+"=")[1];return t=t&&t.split("&")[0],t||null}(e.MQN_DEBUG_LEVEL);t&&i[t]?this.setDebugLevel(i[t]):this.setDebugLevel(0)}setDebugLevel(e){this.debugLevel=e}log(e,...t){0!==this.debugLevel&&(4===this.debugLevel&&console.log(t),e===this.debugLevel&&console.log(t))}printCurrentDebugLevel(){console.log(this.debugLevel)}};function d(...e){}var h,p=class extends Map{constructor(e=[],t=d){super(e),this.defaultFunction=t}static usingFunction(e){return new this([],e)}get(e){if(this.has(e))return super.get(e);{let t=this.defaultFunction(e);return this.set(e,t),t}}},u=class{static splitMethodCall(e){let t=e.startsWith("!")||null;t&&(e=e.substring(1));let i=e.trim().split(/\.(.+)/),s=i[0];i[1]||console.log("Could not parse invalid expression: "+e);let n=i[1].split("(")[0],a=null,o=null;i[1].includes("(")?a=n:o=n;let r=null;if(a)try{r=i[1].match(/\(.*\)/g)[0],r=r.substring(1).slice(0,-1),r?r.startsWith("'[")&&r.endsWith("]'")||r.startsWith("'{")&&r.endsWith("}'")?r=[r.substring(1).slice(0,-1)]:(r=e.includes(",")?r.match(/('[^']+'|[^,]+)/g):[r],r=r.map(((e,t)=>(e.includes("[")?e=JSON.parse(e):e=(e=e.trim()).replace(/'/g,""),e)))):r=[]}catch(t){console.error("Lex Error: Failed interpreting expression.   Make sure this is a valid expression: ",e),console.error(t)}return{hasNot:!!t,controllerName:s,propertyName:o,methodName:a,methodValue:r}}static stripWhiteSpace(e){return e=e.replace(/:\s/g,":").replace(/\s:/g,":").trim()}};function m(e,t){(function(e){return Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))})(e).forEach((e=>{let i=e.tabIndex;e.hasAttribute("originalTabIndex")||e.setAttribute("originalTabIndex",i+""),e.tabIndex=t}))}(h||(h={})).STATE_CHANGE="stateChange";var g=class{constructor(e,t){this.el=e,this.name=t,this.watcher=new window.MqnLib.DomWatcher,this.readWrite=new window.MqnLib.Raf,this.eventManager=new class{constructor(){this.callbacks=p.usingFunction((()=>new Set))}on(e,t){this.callbacks.get(e).add(t)}dispatch(e,...t){this.callbacks.get(e).forEach((e=>e(...t)))}off(e,t){let i=this.callbacks.get(e);i.delete(t),0===i.size&&this.callbacks.delete(e)}dispose(){let e=this.callbacks.values(),t=e.next();for(;!t.done;)t.value.clear(),t=e.next();this.callbacks.clear()}},window.MqnLib.debug.log(i.MQN_CONTROLLER,"Creating controller",this.name,this.el),this.makeAccessible(),this.setupDataOnWatchers(),this.setupEventBindings(),this.setupSwipeWatchers()}stateChange(){this.updateDataClassStates(),this.updateAttributeBinding(),this.eventManager.dispatch(h.STATE_CHANGE)}on(e,t){this.eventManager.on(e,t)}off(e,t){this.eventManager.off(e,t)}makeAccessible(){Array.from(this.el.querySelectorAll("[data-click]")).forEach((e=>{e.hasAttribute("data-click-disable-auto-a11y")||(e.setAttribute("role","button"),e.setAttribute("tabindex","0"))}))}updateAttributeBinding(){let e=Array.from(this.el.querySelectorAll("[data-attribute]"));this.el.dataset.attribute&&e.push(this.el),e.forEach((e=>{let t=e.dataset.attribute.trim();t=u.stripWhiteSpace(t),t.substring(1).slice(0,-1);let i=t.match(/:'[1-90a-zA-Z,.!]+\([^)]+\)'|:'[a-zA-Z,.\(\)]+/g);i=i.map((e=>(e.endsWith("'")&&(e=e.slice(0,-1)),e.substring(2))));let s=t.match(/\'[1-90a-zA-Z\_\-Z]+\':/g);s=s.map((e=>e.replace(/'/g,"").replace(/"/g,"").replace(/:/g,"")));let n={};try{s.forEach(((e,t)=>{n[e]=i[t]}))}catch(e){console.error("Something went wrong parsing data-bind attribute. Make sure it is not malformed.  Expressions should be strings and all method values should be strings."),console.log(t)}Object.keys(n).forEach((t=>{let i=n[t],s=u.splitMethodCall(i),a=s.controllerName,o=s.methodName,r=s.methodValue,l=s.propertyName,d=s.hasNot;if(a!==this.name)return;let h="";if(o){if(void 0===this[o])return void console.error("No method named: "+o+" available in "+this.name);h=this[o].apply(this,r)}else{if(void 0===this[l])return void console.error("No property named: "+l+" available in "+this.name);h=this[l]}if(void 0!==h){d&&c(h)&&(h=!h);let i=h+"";e.setAttribute(t,i),"aria-hidden"===t&&g.handleAriaHiddenChange(e,i)}}))}))}static handleAriaHiddenChange(e,t){var i;"true"===t.toLowerCase()?m(e,-1):(i=e,Array.from(i.querySelectorAll("[originalTabIndex]")).forEach((e=>{let t=e.getAttribute("originalTabIndex")||"";e.tabIndex=+t})),Array.from(e.querySelectorAll('[aria-hidden="true"]')).forEach((e=>m(e,-1))))}updateDataClassStates(){let e=Array.from(this.el.querySelectorAll("[data-class]"));this.el.dataset.class&&e.push(this.el),e.forEach((e=>{let t=e.dataset.class;t=u.stripWhiteSpace(t),t.substring(1).slice(0,-1);let i=t.match(/:'[1-90a-zA-Z,.!]+\([^)]+\)'|:'[a-zA-Z,.\(\)]+/g);i=i.map((e=>(e.endsWith("'")&&(e=e.slice(0,-1)),e.substring(2))));let s=t.match(/\'[1-90a-zA\_\-Z]+\':/g);s=s.map((e=>e.replace(/'/g,"").replace(/"/g,"").replace(/:/g,"")));let n={};try{s.forEach(((e,t)=>{n[e]=i[t]}))}catch(e){console.error("Something went wrong parsing data-class attribute. Make sure it is not malformed.  Expressions should be strings and all method values should be strings."),console.log(t)}Object.keys(n).forEach((t=>{let i=n[t],s=u.splitMethodCall(i),a=s.controllerName,o=s.methodName,r=s.methodValue,l=s.propertyName,c=s.hasNot;if(a!==this.name)return;let d=!1;if(o){if(void 0===this[o])return void console.error("No method named: "+o+" available in "+this.name);d=this[o].apply(this,r),c&&(d=!d)}else{if(void 0===this[l])return void console.error("No property named: "+l+" available in "+this.name);d=this[l],c&&(d=!d)}d?e.classList.add(t):e.classList.remove(t)}))}))}setupDataOnWatchers(){Array.from(this.el.querySelectorAll("[data-on]")).forEach((e=>{if(!e.hasAttribute("data-on-event"))return;let t=e.getAttribute("data-on-event").trim(),i=e.getAttribute("data-on"),s=u.splitMethodCall(i),n=s.controllerName,a=s.methodName,o=(s.propertyName,s.methodValue);s.hasNot;n===this.name&&a&&n===this.name&&void 0!==this[a]&&this.watcher.add({element:e,on:t,callback:()=>{this[a].apply(this,o)}})}))}setupEventBindings(){let e=Array.from(this.el.querySelectorAll("[data-click], [data-mouseenter], [data-mouseleave], [data-mousedown], [data-mouseup], [data-mouseover], [data-mouseout]")),t=(e,t,i,s=!1)=>{let n=i.getAttribute(e);if(!n)return;let a=u.splitMethodCall(n),o=a.controllerName,r=a.methodName,l=a.methodValue;if(o===this.name&&r&&o===this.name&&void 0!==this[r]){let e={};s&&(e.capture=!0),this.watcher.add({element:i,on:t,callback:()=>{this[r].apply(this,l)},eventOptions:e}),("click"===t||"mousedown"===t||"mouseup"===t)&&this.watcher.add({element:i,on:"keydown",callback:e=>{("Space"===e.code||"Enter"===e.code)&&this[r].apply(this,l)}})}};e.forEach((e=>{t("data-click","click",e),t("data-mousedown","mousedown",e),t("data-mouseup","mouseup",e),t("data-mouseenter","mouseenter",e),t("data-mouseleave","mouseleave",e),t("data-mouseover","mouseover",e),t("data-mouseout","mouseout",e),t("data-focus","focus",e,!0),t("data-blur","blur",e,!0)}))}setupSwipeWatchers(){let e=Array.from(this.el.querySelectorAll("[data-swipe-left], [data-swipe-right], [data-swipe-up], [data-swipe-down]")),t=(e,t)=>{let i=t.getAttribute(e);if(!i)return;let s=u.splitMethodCall(i),n=s.controllerName,a=s.methodName,o=s.methodValue;if(n===this.name&&a&&n===this.name&&void 0!==this[a]){let i,s,n=!1,r=!1,l=300,c=e=>{i=e.touches&&e.touches[0].clientX||e.x,s=e.touches&&e.touches[0].clientY||e.y,r=!0},d=e=>{r=!1},h=t=>{if(!i||!s||n||!r)return;let c=t.touches&&t.touches[0].clientX||t.x,d=t.touches&&t.touches[0].clientY||t.y,h=c-i,p=d-s;n=Math.abs(h)+Math.abs(p)>0,n&&(Math.abs(h)>Math.abs(p)?h>0?"data-swipe-left"===e&&this[a].apply(this,o):"data-swipe-right"===e&&this[a].apply(this,o):p>0?"data-swipe-up"===e&&this[a].apply(this,o):"data-swipe-down"===e&&this[a].apply(this,o),window.setTimeout((()=>{n=!1,r=!1}),l))};this.watcher.add({element:t,on:"touchstart",eventOptions:{passive:!0},callback:c}),this.watcher.add({element:t,on:"touchend",eventOptions:{passive:!0},callback:d}),this.watcher.add({element:t,on:"touchmove",eventOptions:{passive:!0},callback:h}),this.watcher.add({element:t,on:"mousedown",eventOptions:{passive:!0},callback:c}),this.watcher.add({element:t,on:"mouseup",eventOptions:{passive:!0},callback:d}),this.watcher.add({element:t,on:"mousemove",eventOptions:{passive:!0},callback:h})}};e.forEach((e=>{t("data-swipe-left",e),t("data-swipe-right",e),t("data-swipe-up",e),t("data-swipe-down",e)}))}getElement(){return this.el}dispose(){this.watcher.dispose()}},_=window.location.host.includes("google."),b=(window.location.host.includes("store.google."),_&&"/template"===window.location.pathname),v=window.location.pathname.includes("/intl/")||window.location.pathname.includes("/ideas/"),f=_&&!b&&!v,y={test:{url:"http://google.com",label:"Google",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:"_test",productName:"Test",productFamilyDocid:"test family",ariaLabel:"Test Aria Label"},test_disabled:{url:"http://google.com",label:"Google",source:null,imageUrl:null,behavior:"DISABLED",pageId:null,skuId:"_test",productName:"Test",productFamilyDocid:"test disabled family",ariaLabel:"Test Aria Label"},sample:{url:"http://google.com",label:"Google",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:"_sample",productName:"Test",productFamilyDocid:"sample family",ariaLabel:"Test Aria Label"},_sample_nosku:{url:"http://google.com",label:"Google",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Test",productFamilyDocid:"sample nosku family",ariaLabel:"Test Aria Label"},_google_pixel_stand_white:{url:null,label:"Unavailable",source:null,imageUrl:null,behavior:"DISABLED",pageId:null,skuId:"_google_pixel_stand_white",productName:"Google Pixel Stand White",productFamilyDocid:"family",ariaLabel:""},chromecast_google_tv:{url:"/config/chromecast_google_tv",label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Chromecast with Google TV",productFamilyDocid:"family",ariaLabel:"Buy Chromecast with Google TV"},nest_audio:{url:"/config/nest_audio",label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Nest Audio",productFamilyDocid:"family",ariaLabel:"Buy Nest Audio"},nest_thermostat:{url:"/config/nest_thermostat",label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Nest Thermostat",productFamilyDocid:"family",ariaLabel:"Buy Nest Thermostat"},nest_thermostat_e:{url:null,label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Nest Thermostat E",productFamilyDocid:"family",ariaLabel:""},pixel_4:{url:"/config/pixel_4",label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Google Pixel 4",productFamilyDocid:"_pixel_phone_4_fam",ariaLabel:"Buy Google Pixel 4"},pixel_4a_5g:{url:null,label:"No longer available",source:null,imageUrl:null,behavior:"DISABLED",pageId:null,skuId:null,productName:"Google Pixel 4a with 5G",productFamilyDocid:"_pixel_phone_4_fam",ariaLabel:""},pixel_4a_5g_case_fabric:{url:"/config/pixel_4a_5g_case_fabric",label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Google Pixel 4a (5G) Case",productFamilyDocid:"_pixel_phone_4_fam",ariaLabel:"Buy Google Pixel 4a (5G) Case"},pixel_6:{ariaLabel:"Buy Pixel 6",behavior:"REDIRECT",imageUrl:null,label:"Buy",pageId:null,productName:"Pixel 6",productFamilyDocid:"_pixel_phone_6_fam",skuId:null,source:null,url:"/config/pixel_6"},pixel_6a:{ariaLabel:"Buy Pixel 6a",behavior:"REDIRECT",imageUrl:null,label:"Buy",pageId:null,productName:"Pixel 6a",productFamilyDocid:"_pixel_phone_6_fam",skuId:null,source:null,url:"/config/pixel_6a"},pixel_5:{url:null,label:"No longer available",source:null,imageUrl:null,behavior:"DISABLED",pageId:null,skuId:null,productName:"Google Pixel 5",productFamilyDocid:"_pixel_phone_5_fam",ariaLabel:""},pixel_5_case_fabric:{url:"/config/pixel_5_case_fabric",label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Google Pixel 5 Case",productFamilyDocid:"_pixel_phone_5_fam",ariaLabel:"Buy Google Pixel 5 Case"},pixel_pass:{url:"#compare",label:"Subscribe ",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Pixel Pass",productFamilyDocid:"_pixel_pass_fam",ariaLabel:"Subscribe  Pixel Pass"},stadia:{url:"/product/gaming_entertainment_package",label:"Buy now",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Stadia Overview",productFamilyDocid:"_stadia_fam",ariaLabel:"Buy Stadia Overview"},google_pixel_watch:{url:"/config/google_pixel_watch",source:null,imageUrl:null,pageId:null,skuId:null,label:"購入",behavior:"REDIRECT",productName:"Google Pixel Watch",ariaLabel:"購入 Google Pixel Watch",productFamilyDocid:"_google_pixel_watch_fam"},example_waitlist:{url:null,label:"Join waitlist",source:null,imageUrl:null,behavior:"JOIN_WAITLIST",pageId:null,skuId:null,productName:"Example Overview",productFamilyDocid:"_example_fam",ariaLabel:"Join waitlist for Example"},example_sign_in_and_join_waitlist:{url:null,label:"Sign in to join waitlist",source:null,imageUrl:null,behavior:"SIGN_IN_AND_JOIN_WAITLIST",pageId:null,skuId:null,productName:"Example Overview",productFamilyDocid:"_example_fam",ariaLabel:"Sign in to join waitlist for Example"},usb_c_earbuds:{url:null,label:"Add to cart",source:null,imageUrl:null,behavior:"ADD_TO_CART",pageId:null,skuId:"_pixel_usb_c_earbuds_white",productName:"Google Pixel USB-C™ earbuds",productFamilyDocid:"_example_fam",ariaLabel:"Add Google Pixel USB-C™ earbuds to cart"},sunfish:{ariaLabel:"",behavior:"DISABLED",imageUrl:null,label:"Out of stock",pageId:null,productName:"sunfish overview",productFamilyDocid:"_example_fam",skuId:null,source:null,url:null},flame:{ariaLabel:"",behavior:"DISABLED",imageUrl:null,label:"Out of stock",pageId:null,productName:"sunfish overview",productFamilyDocid:"_example_fam",skuId:null,source:null,url:null}},w={_pixel_usb_c_earbuds_white:new Promise((e=>e(void 0)))},A={'[[{"docid":"_google_home_mini_chalk","quantity":1},{"docid":"_nest_learning_thermostat_3rd_gen","quantity":1}],"+"]':new Promise((e=>e({html:'<span class="jZS2Hf" data-test-is-price="">From CA$329</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"",was_price_micros:0,current_price:"CA$329",current_price_micros:329e6,currency_code:"CAD",is_discounted:!1,discount_amount:"",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"",epp_per_month_price:""},bento:{base:"From CA$329",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"",orMonthlyRateMessage:""}))),'[[{"docid":"_google_home_mini_chalk","quantity":1},{"docid":"_nest_learning_thermostat_3rd_gen","quantity":1}],""]':new Promise((e=>e({html:'<span class="jZS2Hf" data-test-is-price="">From CA$329</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"",was_price_micros:0,current_price:"CA$329",current_price_micros:329e6,currency_code:"CAD",is_discounted:!1,discount_amount:"",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"",epp_per_month_price:""},bento:{base:"From CA$329",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"",orMonthlyRateMessage:""}))),'[[{"docid":"_google_nest_hub_max_chalk","quantity":1},{"docid":"chromecast_google_tv","quantity":1}],"+"]':new Promise((e=>e({html:'<span class="BFggEc" data-test-discount-amount="">Save $60<sup>+</sup></span><span class="jZS2Hf" data-test-is-price="">From $169</span> <span class="h0uEUb" data-test-was-price="">$229</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span class="BFggEc">Save $60<sup>+</sup> </span>Pay $169 or $28.17/month</span></div><div class="obluzb"><span>with <b>6 months</b> special financing. </span></div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"$229",was_price_micros:229e6,current_price:"$169",current_price_micros:169e6,currency_code:"USD",is_discounted:!0,discount_amount:"$60",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"$38.17",epp_per_month_price:"$28.17",epp_number_of_months:6},bento:{base:"From CA$169",strikethrough:"$229",savings:"Save $60",eppFinancing:"Or $15.00 with 0% APR financing for 12 months.",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"Save $60",orMonthlyRateMessage:"or $28.17/month"}))),'[[{"docid":"_google_nest_hub_max_chalk","quantity":1},{"docid":"chromecast_google_tv","quantity":1}],""]':new Promise((e=>e({html:'<span class="BFggEc" data-test-discount-amount="">Save $60</span><span class="jZS2Hf" data-test-is-price="">From $169</span> <span class="h0uEUb" data-test-was-price="">$229</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span class="BFggEc">Save $60 </span>Pay $169 or $28.17/month</span></div><div class="obluzb"><span>with <b>6 months</b> special financing. </span></div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"$229",was_price_micros:229e6,current_price:"$169",current_price_micros:169e6,currency_code:"USD",is_discounted:!0,discount_amount:"$60",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"$38.17",epp_per_month_price:"$28.17",epp_number_of_months:6},bento:{base:"From CA$169",strikethrough:"$229",savings:"Save $60",eppFinancing:"Or $15.00 with 0% APR financing for 12 months.",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"Save $60",orMonthlyRateMessage:"or $28.17/month"}))),'[[{"docid":"_sample_nosku","quantity":1}],""]':new Promise((e=>e({html:'<span class="" data-test-is-price="">$299</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"",was_price_micros:229e6,current_price:"$169",current_price_micros:169e6,currency_code:"USD",is_discounted:!0,discount_amount:"",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"",epp_per_month_price:"",epp_number_of_months:6},bento:{base:"From CA$169",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"",orMonthlyRateMessage:""}))),'[[{"docid":"_sample","quantity":1}],""]':new Promise((e=>e({html:'<span class="" data-test-is-price="">$299</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"",was_price_micros:229e6,current_price:"$169",current_price_micros:169e6,currency_code:"USD",is_discounted:!0,discount_amount:"",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"",epp_per_month_price:"",epp_number_of_months:6},bento:{base:"From $169",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"",orMonthlyRateMessage:""}))),'[[{"docid":"_sample","quantity":1,"addons":["_nest_indoor_camera_installation"]}],""]':new Promise((e=>e({html:'<span class="" data-test-is-price="">$199</span>',financingHtml:"",ariaLabel:"Starting from $199.99.",priceInformation:{was_price:"",was_price_micros:229e6,current_price:"$199",current_price_micros:199e6,currency_code:"USD",is_discounted:!0,discount_amount:"",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"",epp_per_month_price:"",epp_number_of_months:6},bento:{base:"From $199",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"",orMonthlyRateMessage:""}))),'[[{"docid":"_sample-with-strike-and-save","quantity":1}],""]':new Promise((e=>e({html:'<span class="BFggEc" data-test-discount-amount="">Save $60<sup>+</sup></span><span class="jZS2Hf" data-test-is-price="">From $169</span> <span class="h0uEUb" data-test-was-price="">$229</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"$229",was_price_micros:229e6,current_price:"$169",current_price_micros:169e6,currency_code:"USD",is_discounted:!0,discount_amount:"$60",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"$38.17",epp_per_month_price:"$28.17",epp_number_of_months:6},bento:{base:"From CA$169",strikethrough:"$229",savings:"Save $60",eppFinancing:"Or $28.17 with 0% APR financing for 6 months.",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"Save&nbsp;$60",orMonthlyRateMessage:""}))),'[[{"docid":"_google_home_mini_chalk","quantity":1},{"docid":"_nest_learning_thermostat_3rd_gen","quantity":1}],null]':new Promise((e=>e({html:'<span class="" data-test-is-price="">From CA$329</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"",was_price_micros:0,current_price:"CA$329",current_price_micros:329e6,currency_code:"CAD",is_discounted:!1,discount_amount:"",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"",epp_per_month_price:""},save:"",orMonthlyRateMessage:"",bento:{base:"From CA$329",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"}}))),'[[{"docid":"_3m_privacy_filter_pixelbook_go","quantity":1}],""]':new Promise((e=>e({isSamePrice:!1,html:'<span class="" data-test-is-price="">From $38.99</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$38.99",current_price_micros:3899e4,discount_amount:"",epp_number_of_months:void 0,epp_per_month_price:"",is_discounted:!1,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"",was_price_micros:0},save:"",orMonthlyRateMessage:"",bento:{base:"From $38.99",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"}}))),'[[{"docid":"_doorbell_wired_2nd_gen_ash","quantity":1}],""]':new Promise((e=>e({isSamePrice:!1,html:'<span class="" data-test-is-price="">From $179.99</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span>Pay</span> $179.99 or $15.00/month</span></div><div class="obluzb"><span>with <b>12 months</b> special financing</span>. </div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$179.99",current_price_micros:17999e4,discount_amount:"",epp_number_of_months:12,epp_per_month_price:"$15.00",is_discounted:!1,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"",was_price_micros:0},save:"",orMonthlyRateMessage:"or $15.00/month",bento:{base:"From $179.99",strikethrough:"",savings:"",eppFinancing:"Or $15.00 with 0% APR financing for 12 months.",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"}}))),'[[{"docid":"_google_nest_hub_max_chalk","quantity":1}],""]':new Promise((e=>e({isSamePrice:!1,html:'<span class="" data-test-discount-amount="">Save $55</span><span class="" data-test-is-price="">From $174</span> <span class="ss9vM" data-test-was-price="">$229</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span class="BFggEc">Save $55<sup>Δ</sup> </span><span>Pay</span> $174 or $14.50/month</span></div><div class="obluzb"><span>with <b>12 months</b> special financing</span>. </div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$174",current_price_micros:174e6,discount_amount:"$55",epp_number_of_months:12,epp_per_month_price:"$14.50",is_discounted:!0,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"$19.08",was_price:"$229",was_price_micros:229e6},save:"Save $55",orMonthlyRateMessage:"or $14.50/month",bento:{base:"From $174",strikethrough:"$229",savings:"Save $55",eppFinancing:"Or $14.50 with 0% APR financing for 12 months.",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"}}))),'[[{"docid":"_google_nest_wifi_point_mist","quantity":1}],""]':new Promise((e=>e({isSamePrice:!1,html:'<span class="" data-test-discount-amount="">Save $50</span><span class="" data-test-is-price="">From $99</span> <span class="ss9vM" data-test-was-price="">$149</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$99",current_price_micros:99e6,discount_amount:"$50",epp_number_of_months:void 0,epp_per_month_price:"",is_discounted:!0,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"$149",was_price_micros:149e6},save:"Save $50",orMonthlyRateMessage:"",bento:{base:"From $99",strikethrough:"$149",savings:"Save $50",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"}})))};var C={'[["pixel_6a"],null]':new Promise((e=>e(new Map([["pixel_6a",{isSamePrice:!1,html:'<span class="" data-test-discount-amount="">Save $100</span><span class="" data-test-is-price="">From $349</span> <span class="ss9vM" data-test-was-price="">$449</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span class="BFggEc">Save $100<sup>Δ</sup> </span><span>Pay</span> $349 or $14.54/month</span></div><div class="obluzb"><span>with <b>24 months</b> financing</span>.<span class="footnote-pointer">*</span> </div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$349",current_price_micros:349e6,discount_amount:"$100",epp_number_of_months:24,epp_per_month_price:"$14.54",is_discounted:!0,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"$18.71",was_price:"$449",was_price_micros:449e6},save:"Save $100",orMonthlyRateMessage:"or $14.54/month",bento:{base:"From $349",strikethrough:"$449",savings:"Save $100",eppFinancing:"Or $14.54 with 0% APR financing for 24 months."}}]])))),'[["pixel_7"],null]':new Promise((e=>e({isSamePrice:!1,html:'<span class="" data-test-is-price="">From $599</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span>Pay</span> $599 or $24.96/month</span></div><div class="obluzb"><span>with <b>24 months</b> financing</span>.<span class="footnote-pointer">*</span> </div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$599",current_price_micros:599e6,discount_amount:"",epp_number_of_months:24,epp_per_month_price:"$24.96",is_discounted:!1,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"",was_price_micros:0},save:"",orMonthlyRateMessage:"or $24.96/month",bento:{base:"From $599",strikethrough:"",savings:"",eppFinancing:"Or $24.96 with 0% APR financing for 24 months."}}))),'[["pixel_buds_a_series"],null]':new Promise((e=>e({isSamePrice:!1,html:'<span class="" data-test-discount-amount="">Save $30</span><span class="" data-test-is-price="">From $69</span> <span class="ss9vM" data-test-was-price="">$99</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$69",current_price_micros:69e6,discount_amount:"$30",epp_number_of_months:void 0,epp_per_month_price:"",is_discounted:!0,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"$99",was_price_micros:99e6},save:"Save $30",orMonthlyRateMessage:"",bento:{base:"From $69",strikethrough:"$99",savings:"Save $30",eppFinancing:""}}))),'[["nest_audio"],null]':new Promise((e=>e({isSamePrice:!0,html:'<span class="" data-test-is-price="">$99.99</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$99.99",current_price_micros:9999e4,discount_amount:"",epp_number_of_months:void 0,epp_per_month_price:"",is_discounted:!1,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!0,was_epp_per_month_price:"",was_price:"",was_price_micros:0},save:"",orMonthlyRateMessage:"",bento:{base:"$99.99",strikethrough:"",savings:"",eppFinancing:""}}))),'[["test"],null]':new Promise((e=>e({isSamePrice:!1,html:'<span class="" data-test-is-price="">From $599</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span>Pay</span> $599 or $24.96/month</span></div><div class="obluzb"><span>with <b>24 months</b> financing</span>.<span class="footnote-pointer">*</span> </div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$599",current_price_micros:599e6,discount_amount:"",epp_number_of_months:24,epp_per_month_price:"$24.96",is_discounted:!1,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"",was_price_micros:0},save:"",orMonthlyRateMessage:"or $24.96/month",bento:{base:"From $599",strikethrough:"",savings:"",eppFinancing:"Or $24.96 with 0% APR financing for 24 months."}}))),'[["test_disabled"],null]':new Promise((e=>e({isSamePrice:!1,html:'<span class="" data-test-discount-amount="">Save $30</span><span class="" data-test-is-price="">From $69</span> <span class="ss9vM" data-test-was-price="">$99</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$69",current_price_micros:69e6,discount_amount:"$30",epp_number_of_months:void 0,epp_per_month_price:"",is_discounted:!0,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"$99",was_price_micros:99e6},save:"Save $30",orMonthlyRateMessage:"",bento:{base:"From $69",strikethrough:"$99",savings:"Save $30",eppFinancing:""}})))},I={pixel_7:{message:"From $24.96/month",monthlyRate:"$24.96",numberOfMonths:24},pixel_7_pro:{message:"From $24.97/month",monthlyRate:"$24.97",numberOfMonths:36}},E={},S=class{constructor(){this._subscribeUserSucceeds=!0,this.productCtaDataMap=new Map,document.addEventListener("populatePrices",(()=>{document.querySelectorAll(".is-was-price-text").forEach((e=>{e.innerHTML="\n          <span>\n            <span data-test-is-price>$25</span>\n            <span data-test-was-price>$30</span>\n          </span>\n        "}))}))}fetchPostalCodeRebate(e){return new Promise((t=>t("94114"===e?"Rebate":"")))}launchTradeInFlowDialog({pageDocid:e,promotionalProductDocid:t}={}){return new Promise((e=>e({encryptedTradeInId:"xxx",deviceLabel:"Test, Apple, iPhone XS, 512 GB",formattedTradeInValue:"$165",tradeInValue:"USD,165"})))}removeTradeInDetailsFromUrl(){}fetchPixelPassSubscriptionPrice(e){if(I[e])return Promise.resolve(I[e]);throw new Error(`No mock Pixel Pass Subscript Price Data found for ${e}`)}fetchSubscriptionTypes(){return new Promise((e=>e([])))}static getMockProductCtaData(e){if(y[e])return y[e];throw new Error(`No mock Product Cta Data found for ${e}`)}static getMockResponse(e,t){let i=this.fnNameToMockResponse[e],s=JSON.stringify(t);if(!i[s]){let i=t.map((e=>JSON.stringify(e))).join(", ");if(!E.env.TEST)throw new Error(`No mock response is found for the call to mannequinService.${e}. Please run mannequinService.${e}(${i}).then((result) => console.log(JSON.stringify(result)));\nCopy the resulting string and put it in the appropriate mock response record for ${e} under the key: ${s}`)}return i[s]}isSubscribedToMarketingEmails(){let e=new URLSearchParams(window.location.search).has("subscribed");return new Promise((t=>t(e)))}getBundlePrice(e,t){return S.getMockResponse("getBundlePrice",[e,t])}getPriceByPageDocid(e,t){return new Promise((i=>i(S.getMockResponse("getPriceByPageDocid",[e,t]))))}setInnerHtml(e,t){E.env.TEST||console.warn("MockMannequinService does not properly implement setInnerHtml"),e.innerHTML=t}subscribeUser(){return new Promise(((e,t)=>{this._subscribeUserSucceeds?e():t()}))}redirectToLogin(){throw new Error("redirectToLogin not implemented in MannequinService mock")}async safeLoad(){throw new Error("safeLoad not implemented in MannequinService mock")}navigateToUrl(e){console.log(`Called mockMannequinService.navigateToUrl with ${e}`)}joinWaitlist(){return new Promise((e=>{e({updatedBehavior:D.LEAVE_WAITLIST,updatedLabel:"Leave Waitlist"})}))}leaveWaitlist(){return new Promise((e=>{e({updatedBehavior:D.JOIN_WAITLIST,updatedLabel:"Join Waitlist"})}))}addToCart(e,t){return t?.respectRedirect?(console.log("added to cart with respectRedirect"),S.getMockResponse("addToCart",[e])):S.getMockResponse("addToCart",[e])}fetchEnergyRebates(e){return new Promise((e=>e([{heading:"Get up to a $120 back on any Nest thermostat",copy:"<p>You can get a $50 rebate on a Nest Thermostat if you purchase, install, and connect it in your home. You can get one thermostat per household. You'll need to be a current PG&E residential customer and have home Wi-Fi. For a limited time, you can get an additional $70 bonus when you enroll in a Time of Use rate.  </p>",cta_label:"Learn more",cta_url:"https://www.pge.com/smartthermostat",logo_url:"https://s3.amazonaws.com/marketing-assets.nest.com/offers/offer/image_2x/211/incentive_avatar-19e29ddaa28ef548d9b40edf5a956704276c8091.png",type:3,rebate_amount:120,rebate_amount_formatted:"$120",currency_code:"USD"}])))}fetchProductCtaData(e){return e.forEach((e=>{this.productCtaDataMap.set(e,S.getMockProductCtaData(e))})),new Promise((e=>{if(E.env.TEST)e(new Map(this.productCtaDataMap));else{let t=function(e,t){return Math.floor(Math.random()*(t-e+1))+e}(500,3e3);window.setTimeout((()=>{e(new Map(this.productCtaDataMap))}),t)}}))}showConfigOverlay(e){console.log(`Showing Newton: ${e}`)}logEvent(e){return new Promise((t=>{window.dataLayer.push(e),t()}))}},$=S;$.fnNameToMockResponse={addToCart:w,getBundlePrice:A,getPriceByPageDocid:C};var k,D,F,T="undefined"!=typeof process&&process.env.USE_MOCK_MANNEQUIN_SERVICE?$:void 0;!function(e){e.UNKNOWN="UNKNOWN",e.NEST_AWARE="NEST_AWARE",e.CONCIERGE="CONCIERGE",e.PLATFORM="PLATFORM",e.BUNDLE="BUNDLE"}(k||(k={})),(F=D||(D={})).UNSPECIFIED="UNSPECIFIED",F.REDIRECT="REDIRECT",F.JOIN_WAITLIST="JOIN_WAITLIST",F.SIGN_IN_AND_JOIN_WAITLIST="SIGN_IN_AND_JOIN_WAITLIST",F.LEAVE_WAITLIST="LEAVE_WAITLIST",F.ADD_TO_CART="ADD_TO_CART",F.DISABLED="DISABLED";var x,L,M=()=>(window.MQN3_GLOBAL_MANNEQUIN_SERVICE_PROMISE||(window.MQN3_GLOBAL_MANNEQUIN_SERVICE_PROMISE=new Promise((e=>{window.mannequinService?e(window.mannequinService):f?document.addEventListener("mannequinServiceReady",(()=>{window.mannequinService=window.mannequinService,e(window.mannequinService)}),{once:!0}):T?(console.log("Using Mock Mannequin Service"),window.mannequinService=new T,e(window.mannequinService)):e(void 0)}))),window.MQN3_GLOBAL_MANNEQUIN_SERVICE_PROMISE),N=M;(L=x||(x={})).DOC_ID="mqn-dynamic-cta-doc-id",L.READY="mqn-dynamic-cta-done",L.TEXT="text";var P=class{constructor(e,t){this.el=e,this.textEl=e.querySelector(`[${x.TEXT}]`),this.docId="unspecified"!==t?t:P.GetDocIdFromUrl(),this.domWatcher=new window.MqnLib.DomWatcher,this.init()}static GetDocIdFromUrl(){return window.location.href.split("/").slice(-1)[0].split("?")[0].split("#")[0]}async init(){this.mannequinService=await N();this.mannequinService.fetchProductCtaData([this.docId]).then((e=>{this.data=e.get(this.docId),this.data||window.MqnLib.mqnGlobal.isProd?(this.el.removeAttribute("href"),this.updateFromData(),this.domWatcher.add({element:this.el,on:"click",callback:()=>this.handleClick()})):console.error(`No data found for product w/ docID ${this.docId}`)}),(()=>{if(this.docId!==P.GetDocIdFromUrl())return;let e=document.querySelector("#pdb button.transaction")||document.querySelector('button[data-test="cta"]');!e||(this.el.removeAttribute("href"),this.updateFromSniffedCta(e),this.domWatcher.add({element:this.el,on:"click",callback:()=>e.click()}))}))}updateFromSniffedCta(e){this.textEl.innerText=e.innerText,this.el.setAttribute("aria-label",e.getAttribute("aria-label")),this.el.disabled=e.disabled,this.el.setAttribute(x.READY,"true")}updateFromData(){this.textEl.innerText=this.data.label,this.data.ariaLabel&&this.el.setAttribute("aria-label",this.data.ariaLabel),this.setDisabledState(),this.el.setAttribute(x.READY,"true")}setDisabledState(){switch(this.data.behavior){case`${D.REDIRECT}`:case`${D.JOIN_WAITLIST}`:case`${D.SIGN_IN_AND_JOIN_WAITLIST}`:case`${D.LEAVE_WAITLIST}`:case`${D.ADD_TO_CART}`:this.el.disabled=!1;break;case`${D.UNSPECIFIED}`:case`${D.DISABLED}`:default:this.el.disabled=!0}}handleClick(){if(this.data.behavior===`${D.REDIRECT}`)this.data.url&&this.mannequinService.navigateToUrl(this.data.url);else if(this.data.behavior===`${D.JOIN_WAITLIST}`)this.el.disabled=!0,this.mannequinService.joinWaitlist(this.docId,this.data.productName).then((e=>{this.data.ariaLabel=e.updatedLabel,this.data.behavior=D.LEAVE_WAITLIST,this.el.disabled=!1}));else if(this.data.behavior===`${D.SIGN_IN_AND_JOIN_WAITLIST}`){let e=`https://accounts.google.com/ServiceLogin?ltmpl=googlestore&continue=${encodeURIComponent(location.href)}`;this.mannequinService.navigateToUrl(e)}else this.data.behavior===`${D.LEAVE_WAITLIST}`?(this.el.disabled=!0,this.mannequinService.leaveWaitlist(this.docId).then((e=>{this.data.ariaLabel=e.updatedLabel,this.data.behavior=D.JOIN_WAITLIST,this.el.disabled=!1}))):this.data.behavior===`${D.ADD_TO_CART}`&&(this.el.disabled=!0,this.mannequinService.addToCart(this.data.skuId))}dispose(){this.domWatcher.dispose()}},O=class extends g{constructor(e){super(e,"dynamicCtaCtrl"),this.ctas=Array.from(e.querySelectorAll(`[${x.DOC_ID}]`)).map((e=>new P(e,e.getAttribute(x.DOC_ID))))}dispose(){super.dispose(),this.ctas.forEach((e=>e.dispose())),this.ctas=[]}};function R(e,t,i){let s=e=>{let t=(e=e||window.event).target||e.srcElement;t=3===t.nodeType?t.parentNode:t;do{i(t,e),t.parentNode&&(t=t.parentNode)}while(t.parentNode)};return e.addEventListener(t,s),()=>{e.removeEventListener(t,s)}}function U(e){return Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))}var q,B=window,G=B.ShadowRoot&&(void 0===B.ShadyCSS||B.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,W=Symbol(),H=new WeakMap,z=class{constructor(e,t,i){if(this._$cssResult$=!0,i!==W)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(G&&void 0===e){let i=void 0!==t&&1===t.length;i&&(e=H.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&H.set(t,e))}return e}toString(){return this.cssText}},V=e=>new z("string"==typeof e?e:e+"",void 0,W),j=(e,...t)=>{let i=1===e.length?e[0]:t.reduce(((t,i,s)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1]),e[0]);return new z(i,e,W)},Z=G?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(let i of e.cssRules)t+=i.cssText;return V(t)})(e):e,J=window,Q=J.trustedTypes,Y=Q?Q.emptyScript:"",K=J.reactiveElementPolyfillSupport,X={toAttribute(e,t){switch(t){case Boolean:e=e?Y:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch(e){i=null}}return i}},ee=(e,t)=>t!==e&&(t==t||e==e),te={attribute:!0,type:String,converter:X,reflect:!1,hasChanged:ee},ie="finalized",se=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach(((t,i)=>{let s=this._$Ep(i,t);void 0!==s&&(this._$Ev.set(s,i),e.push(s))})),e}static createProperty(e,t=te){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let i="symbol"==typeof e?Symbol():"__"+e,s=this.getPropertyDescriptor(e,i,t);void 0!==s&&Object.defineProperty(this.prototype,e,s)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(s){let n=this[e];this[t]=s,this.requestUpdate(e,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||te}static finalize(){if(this.hasOwnProperty(ie))return!1;this[ie]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(let i of t)this.createProperty(i,e[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let i=new Set(e.flat(1/0).reverse());for(let e of i)t.unshift(Z(e))}else void 0!==e&&t.push(Z(e));return t}static _$Ep(e,t){let i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,i;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(i=e.hostConnected)||void 0===i||i.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;let t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{G?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{let i=document.createElement("style"),s=B.litNonce;void 0!==s&&i.setAttribute("nonce",s),i.textContent=t.cssText,e.appendChild(i)}))})(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EO(e,t,i=te){var s;let n=this.constructor._$Ep(e,i);if(void 0!==n&&!0===i.reflect){let a=(void 0!==(null===(s=i.converter)||void 0===s?void 0:s.toAttribute)?i.converter:X).toAttribute(t,i.type);this._$El=e,null==a?this.removeAttribute(n):this.setAttribute(n,a),this._$El=null}}_$AK(e,t){var i;let s=this.constructor,n=s._$Ev.get(e);if(void 0!==n&&this._$El!==n){let e=s.getPropertyOptions(n),a="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(i=e.converter)||void 0===i?void 0:i.fromAttribute)?e.converter:X;this._$El=n,this[n]=a.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,i){let s=!0;void 0!==e&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||ee)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===i.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,i))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}let e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);let t=!1,i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(i)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(i)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};se[ie]=!0,se.elementProperties=new Map,se.elementStyles=[],se.shadowRootOptions={mode:"open"},null==K||K({ReactiveElement:se}),(null!==(q=J.reactiveElementVersions)&&void 0!==q?q:J.reactiveElementVersions=[]).push("1.6.2");var ne,ae=window,oe=ae.trustedTypes,re=oe?oe.createPolicy("lit-html",{createHTML:e=>e}):void 0,le="$lit$",ce=`lit$${(Math.random()+"").slice(9)}$`,de="?"+ce,he=`<${de}>`,pe=document,ue=()=>pe.createComment(""),me=e=>null===e||"object"!=typeof e&&"function"!=typeof e,ge=Array.isArray,_e="[ \t\n\f\r]",be=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ve=/-->/g,fe=/>/g,ye=RegExp(`>|${_e}(?:([^\\s"'>=/]+)(${_e}*=${_e}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),we=/'/g,Ae=/"/g,Ce=/^(?:script|style|textarea|title)$/i,Ie=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),Ee=Ie(1),Se=(Ie(2),Symbol.for("lit-noChange")),$e=Symbol.for("lit-nothing"),ke=new WeakMap,De=pe.createTreeWalker(pe,129,null,!1),Fe=class{constructor({strings:e,_$litType$:t},i){let s;this.parts=[];let n=0,a=0,o=e.length-1,r=this.parts,[l,c]=((e,t)=>{let i,s=e.length-1,n=[],a=2===t?"<svg>":"",o=be;for(let t=0;t<s;t++){let s,r,l=e[t],c=-1,d=0;for(;d<l.length&&(o.lastIndex=d,r=o.exec(l),null!==r);)d=o.lastIndex,o===be?"!--"===r[1]?o=ve:void 0!==r[1]?o=fe:void 0!==r[2]?(Ce.test(r[2])&&(i=RegExp("</"+r[2],"g")),o=ye):void 0!==r[3]&&(o=ye):o===ye?">"===r[0]?(o=i??be,c=-1):void 0===r[1]?c=-2:(c=o.lastIndex-r[2].length,s=r[1],o=void 0===r[3]?ye:'"'===r[3]?Ae:we):o===Ae||o===we?o=ye:o===ve||o===fe?o=be:(o=ye,i=void 0);let h=o===ye&&e[t+1].startsWith("/>")?" ":"";a+=o===be?l+he:c>=0?(n.push(s),l.slice(0,c)+le+l.slice(c)+ce+h):l+ce+(-2===c?(n.push(void 0),t):h)}let r=a+(e[s]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==re?re.createHTML(r):r,n]})(e,t);if(this.el=Fe.createElement(l,i),De.currentNode=this.el.content,2===t){let e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(s=De.nextNode())&&r.length<o;){if(1===s.nodeType){if(s.hasAttributes()){let e=[];for(let t of s.getAttributeNames())if(t.endsWith(le)||t.startsWith(ce)){let i=c[a++];if(e.push(t),void 0!==i){let e=s.getAttribute(i.toLowerCase()+le).split(ce),t=/([.?@])?(.*)/.exec(i);r.push({type:1,index:n,name:t[2],strings:e,ctor:"."===t[1]?Me:"?"===t[1]?Pe:"@"===t[1]?Oe:Le})}else r.push({type:6,index:n})}for(let t of e)s.removeAttribute(t)}if(Ce.test(s.tagName)){let e=s.textContent.split(ce),t=e.length-1;if(t>0){s.textContent=oe?oe.emptyScript:"";for(let i=0;i<t;i++)s.append(e[i],ue()),De.nextNode(),r.push({type:2,index:++n});s.append(e[t],ue())}}}else if(8===s.nodeType)if(s.data===de)r.push({type:2,index:n});else{let e=-1;for(;-1!==(e=s.data.indexOf(ce,e+1));)r.push({type:7,index:n}),e+=ce.length-1}n++}}static createElement(e,t){let i=pe.createElement("template");return i.innerHTML=e,i}};function Te(e,t,i=e,s){var n,a,o,r;if(t===Se)return t;let l=void 0!==s?null===(n=i._$Co)||void 0===n?void 0:n[s]:i._$Cl,c=me(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(a=null==l?void 0:l._$AO)||void 0===a||a.call(l,!1),void 0===c?l=void 0:(l=new c(e),l._$AT(e,i,s)),void 0!==s?(null!==(o=(r=i)._$Co)&&void 0!==o?o:r._$Co=[])[s]=l:i._$Cl=l),void 0!==l&&(t=Te(e,l._$AS(e,t.values),l,s)),t}var xe=class{constructor(e,t,i,s){var n;this.type=2,this._$AH=$e,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=s,this._$Cp=null===(n=null==s?void 0:s.isConnected)||void 0===n||n}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){var i;e=Te(this,e,t),me(e)?e===$e||null==e||""===e?(this._$AH!==$e&&this._$AR(),this._$AH=$e):e!==this._$AH&&e!==Se&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):ge(i=e)||"function"==typeof(null==i?void 0:i[Symbol.iterator])?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==$e&&me(this._$AH)?this._$AA.nextSibling.data=e:this.$(pe.createTextNode(e)),this._$AH=e}g(e){var t;let{values:i,_$litType$:s}=e,n="number"==typeof s?this._$AC(e):(void 0===s.el&&(s.el=Fe.createElement(s.h,this.options)),s);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===n)this._$AH.v(i);else{let e=new class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:i},parts:s}=this._$AD,n=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:pe).importNode(i,!0);De.currentNode=n;let a=De.nextNode(),o=0,r=0,l=s[0];for(;void 0!==l;){if(o===l.index){let t;2===l.type?t=new xe(a,a.nextSibling,this,e):1===l.type?t=new l.ctor(a,l.name,l.strings,this,e):6===l.type&&(t=new Re(a,this,e)),this._$AV.push(t),l=s[++r]}o!==(null==l?void 0:l.index)&&(a=De.nextNode(),o++)}return De.currentNode=pe,n}v(e){let t=0;for(let i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}(n,this),t=e.u(this.options);e.v(i),this.$(t),this._$AH=e}}_$AC(e){let t=ke.get(e.strings);return void 0===t&&ke.set(e.strings,t=new Fe(e)),t}T(e){ge(this._$AH)||(this._$AH=[],this._$AR());let t,i=this._$AH,s=0;for(let n of e)s===i.length?i.push(t=new xe(this.k(ue()),this.k(ue()),this,this.options)):t=i[s],t._$AI(n),s++;s<i.length&&(this._$AR(t&&t._$AB.nextSibling,s),i.length=s)}_$AR(e=this._$AA.nextSibling,t){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,t);e&&e!==this._$AB;){let t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}},Le=class{constructor(e,t,i,s,n){this.type=1,this._$AH=$e,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=$e}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,i,s){let n=this.strings,a=!1;if(void 0===n)e=Te(this,e,t,0),a=!me(e)||e!==this._$AH&&e!==Se,a&&(this._$AH=e);else{let s,o,r=e;for(e=n[0],s=0;s<n.length-1;s++)o=Te(this,r[i+s],t,s),o===Se&&(o=this._$AH[s]),a||(a=!me(o)||o!==this._$AH[s]),o===$e?e=$e:e!==$e&&(e+=(o??"")+n[s+1]),this._$AH[s]=o}a&&!s&&this.j(e)}j(e){e===$e?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},Me=class extends Le{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===$e?void 0:e}},Ne=oe?oe.emptyScript:"",Pe=class extends Le{constructor(){super(...arguments),this.type=4}j(e){e&&e!==$e?this.element.setAttribute(this.name,Ne):this.element.removeAttribute(this.name)}},Oe=class extends Le{constructor(e,t,i,s,n){super(e,t,i,s,n),this.type=5}_$AI(e,t=this){var i;if((e=null!==(i=Te(this,e,t,0))&&void 0!==i?i:$e)===Se)return;let s=this._$AH,n=e===$e&&s!==$e||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,a=e!==$e&&(s===$e||n);n&&this.element.removeEventListener(this.name,this,s),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==i?i:this.element,e):this._$AH.handleEvent(e)}},Re=class{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){Te(this,e)}},Ue=ae.litHtmlPolyfillSupport;null==Ue||Ue(Fe,xe),(null!==(ne=ae.litHtmlVersions)&&void 0!==ne?ne:ae.litHtmlVersions=[]).push("2.7.4");var qe,Be,Ge=class extends se{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let i=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,i)=>{var s,n;let a=null!==(s=null==i?void 0:i.renderBefore)&&void 0!==s?s:t,o=a._$litPart$;if(void 0===o){let e=null!==(n=null==i?void 0:i.renderBefore)&&void 0!==n?n:null;a._$litPart$=o=new xe(t.insertBefore(ue(),e),e,void 0,i??{})}return o._$AI(e),o})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return Se}};Ge.finalized=!0,Ge._$litElement$=!0,null===(qe=globalThis.litElementHydrateSupport)||void 0===qe||qe.call(globalThis,{LitElement:Ge});var We=globalThis.litElementPolyfillSupport;null==We||We({LitElement:Ge}),(null!==(Be=globalThis.litElementVersions)&&void 0!==Be?Be:globalThis.litElementVersions=[]).push("3.3.2");var He=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(i){i.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}};function ze(e){return(t,i)=>void 0!==i?((e,t,i)=>{t.constructor.createProperty(i,e)})(e,t,i):He(e,t)}var Ve=({finisher:e,descriptor:t})=>(i,s)=>{var n;if(void 0===s){let s=null!==(n=i.originalKey)&&void 0!==n?n:i.key,a=null!=t?{kind:"method",placement:"prototype",key:s,descriptor:t(i.key)}:{...i,key:s};return null!=e&&(a.finisher=function(t){e(t,s)}),a}{let n=i.constructor;void 0!==t&&Object.defineProperty(i,s,t(s)),null==e||e(n,s)}};function je(e,t){return Ve({descriptor:i=>{let s={get(){var t,i;return null!==(i=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==i?i:null},enumerable:!0,configurable:!0};if(t){let t="symbol"==typeof i?Symbol():"__"+i;s.get=function(){var i,s;return void 0===this[t]&&(this[t]=null!==(s=null===(i=this.renderRoot)||void 0===i?void 0:i.querySelector(e))&&void 0!==s?s:null),this[t]}}return s}})}var Ze;null===(Ze=window.HTMLSlotElement)||void 0===Ze||Ze.prototype.assignedElements;function Je(e){return t=>window.customElements.get(e)?t:(e=>t=>"function"==typeof t?((e,t)=>(customElements.define(e,t),t))(e,t):((e,t)=>{let{kind:i,elements:s}=t;return{kind:i,elements:s,finisher(t){customElements.define(e,t)}}})(e,t))(e)(t)}var Qe=class extends class{constructor(){this.loadedScripts={},this.disposed=!1}load(e,t){let i=this.loadedScripts[e];if(i)return i;let s=new Promise(((i,s)=>{if(t.test())return void i();this.renderScriptTag(e,t);let n=Date.now(),a=t.timeout||5e3,o=()=>{this.disposed?s("script loader is disposed"):t.test()?i():Date.now()-n>a?s(`failed to load ${e} due to timeout`):window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}));return this.loadedScripts[e]=s,s.catch((t=>{console.error(`failed to load ${e}`),console.error(t),delete this.loadedScripts[e]})),s}renderScriptTag(e,t){let i=document.createElement("script");if(t?.attrs)for(let e in t.attrs){let s=t.attrs[e];i.setAttribute(e,s)}i.src=e,document.body.appendChild(i)}renderDom(e){this.renderScriptTag(e)}dispose(){this.loadedScripts={},this.disposed=!0}}{renderScriptTag(e,t){!location.hostname.endsWith(".google.com")||location.pathname.includes("/intl/")||location.pathname.includes("/ideas/")?super.renderScriptTag(e,t):N().then((i=>{i.safeLoad?i.safeLoad(e,t?.attrs):super.renderScriptTag(e)}))}};function Ye(...e){}var Ke,Xe=class extends Map{static usingFunction(e){return new this([],e)}constructor(e=[],t=Ye){super(e),this.defaultFunction=t}get(e){if(this.has(e))return super.get(e);{let t=this.defaultFunction(e);return this.set(e,t),t}}},et=e=>class extends e{connectedCallback(){super.connectedCallback(),this.eventManager=new class{constructor(){this.callbacks=Xe.usingFunction((()=>new Set))}on(e,t){this.callbacks.get(e).add(t)}dispatch(e,...t){this.callbacks.get(e).forEach((e=>e(...t)))}off(e,t){let i=this.callbacks.get(e);i.delete(t),0===i.size&&this.callbacks.delete(e)}dispose(){let e=this.callbacks.values(),t=e.next();for(;!t.done;)t.value.clear(),t=e.next();this.callbacks.clear()}}}on(e,t){this.eventManager.on(e,t)}off(e,t){this.eventManager.off(e,t)}dispatch(e,t){let i=new CustomEvent(e,{detail:t});this.dispatchEvent(i),this.eventManager?.dispatch(e,t)}disconnectedCallback(){super.disconnectedCallback(),this.eventManager?.dispose()}},tt=class{constructor(){this.resolve=()=>{},this.reject=()=>{},this.complete=!1,this.promise=new Promise(((e,t)=>{this.resolve=t=>(this.complete=!0,e(t)),this.reject=e=>(this.complete=!0,t(e))}))}getPromise(){return this.complete?new Promise((e=>{e()})):this.promise}};!function(e){e.STATE_CHANGE="stateChange"}(Ke||(Ke={}));var it=class extends(et(Ge)){constructor(){super(...arguments),this.enableJsApi=!1,this.autoplay=!1,this.scriptLoader=new Qe,this.youtubeReadyDefer=new tt}firstUpdated(){this.autoplay&&this.loadAndPlay(this.videoId,this.autoplay)}pause(){this.player?.pauseVideo?.()}get playerState(){return this.player?.getPlayerState()}play(){this?.player?.playVideo()}async focusWhenReady(){await this.youtubeReadyDefer.getPromise(),this.player.getIframe().focus()}async loadAndPlay(e,t=!1){if(e&&(this.videoId=e),this.player&&t)return void this.player.loadVideoById(this.videoId);this.player?.destroy(),await this.scriptLoader.load(`https://www.youtube.com/iframe_api?trustedtypes=1&origin=${location.href}`,{test:()=>!!window.YT&&1===window.YT.loaded});let i={autohide:1,autoplay:this.autoplay?1:0,fs:1,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,enablejsapi:this.enableJsApi?1:0,origin:location.href},s=Object.assign({},i),n={videoId:this.videoId,playerVars:s,events:{onReady:e=>{t&&(this.player=e.target,this.play(),this.youtubeReadyDefer.resolve())},onStateChange:e=>{let t=new CustomEvent(Ke.STATE_CHANGE,{detail:{event:e},bubbles:!0,composed:!0});this.dispatchEvent(t)}}};this.player=new YT.Player(this.playerElement,n)}render(){return Ee` <bento-box
      radius=${e=void 0!==this.radius?"28; tabletLt:20":void 0,e??$e}
      grow
    >
      <div class="container">
        <div class="container__player"></div></div
    ></bento-box>`;var e}disconnectedCallback(){super.disconnectedCallback(),this.scriptLoader.dispose()}};function st(){return/Android/i.test(navigator.userAgent)}function nt(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||-1!==navigator.userAgent.toLowerCase().indexOf("macintosh")&&Boolean(navigator.maxTouchPoints)&&navigator.maxTouchPoints>2}function at(e,t){let i=0,s=t=>{let s=window.innerWidth;(!nt()&&!st()||i!==s)&&(e(t),i=s)};return window.addEventListener("resize",s,t),()=>{window.removeEventListener("resize",s)}}it.styles=j`
    :host {
      aspect-ratio: var(--bento-youtube-inline-aspect-ratio, 16 / 9);
      width: 100%;
      display: inline-block;
    }
    .container {
      align-items: center;
      cursor: pointer;
      display: inline-flex;
      justify-content: center;
      position: relative;
      width: 100%;
      height: 100%;
    }
    .container__player {
      bottom: 0;
      height: 100%;
      left: 0;
      position: absolute;
      right: 0;
      top: 0;
      width: 100%;
      z-index: 1;
    }
  `,o([ze({type:String,attribute:"video-id",reflect:!0})],it.prototype,"videoId",2),o([ze({type:Boolean,attribute:"enable-js-api",reflect:!0})],it.prototype,"enableJsApi",2),o([ze({type:Boolean,attribute:"autoplay",reflect:!0})],it.prototype,"autoplay",2),o([je(".container__player")],it.prototype,"playerElement",2),o([ze({type:String})],it.prototype,"radius",2),it=o([Je("bento-youtube-inline")],it);var ot=class{constructor(){this.watcherConfigs=[]}add(e){Array.isArray(e.on)?e.on.forEach((t=>{let i=Object.assign({},e);i.on=t,this.addSingleEvent(i)})):this.addSingleEvent(e)}addSingleEvent(e){if(!e.element)return;let t=t=>{e.runWhen?e.runWhen()&&e.callback(t):e.callback(t)};if(e.listener=t,"smartResize"===e.on)e.remover=at(t,e.eventOptions||{});else if("resize"===e.on&&e.element!==window){let i=new ResizeObserver((e=>{t(e)}));i.observe(e.element),e.remover=()=>{i.unobserve(e.element)}}else if("mutation"===e.on){let i=new MutationObserver((e=>{t(e)}));i.observe(e.element,e.eventOptions),e.remover=()=>{i.disconnect()}}else e.element,MediaQueryList,e.element.addEventListener(e.on,t,e.eventOptions||{}),e.remover=()=>{e.element.removeEventListener(e.on,t,e.eventOptions||{})};this.watcherConfigs.push(e)}removeById(e){this.watcherConfigs=this.watcherConfigs.filter((t=>{if(t.id&&t.id===e){let e=t.remover;return e&&e(),!1}return t}))}removeAll(){this.watcherConfigs.forEach((e=>{let t=e.remover;t&&t()})),this.watcherConfigs=[]}run(e){this.watcherConfigs.filter((t=>t.id&&t.id===e)).forEach((e=>{e.callback()&&e.callback()}))}dispose(){this.removeAll()}},rt=e=>class extends e{connectedCallback(){super.connectedCallback(),this.watcher=new ot}disconnectedCallback(){super.disconnectedCallback(),this.watcher&&this.watcher.dispose()}};function lt(e){return new URLSearchParams(window.location.search).has(e)}var ct,dt,ht=class{static inview(e,t={},i){let s=null,n=null,a=null,o=!1,r=new tt,l=window.location.search.split("evBypass=")[1];if(l=l&&l.split("&")[0],"true"===l)return window.setTimeout((()=>{i&&i(e,{isIntersecting:!0,isVisible:!0},(()=>{})),r.resolve()})),{observer:null,dispose:()=>{},state:()=>({ready:!0,inview:!0}),readyPromise:r.getPromise()};let c=()=>{d&&d.unobserve(e),d&&d.disconnect(),s=[],n=null},d=new IntersectionObserver((t=>{t.length>=1&&(s=t,n=t.slice(-1)[0],a=n.isIntersecting,o=!0,r.resolve()),i&&i(e,t.slice(-1)[0],c)}),t);return d.observe(e),{observer:d,dispose:c,state:()=>({changes:s,lastChange:n,inview:a,ready:o}),readyPromise:r.getPromise()}}};(dt=ct||(ct={}))[dt.INVIEW=0]="INVIEW",dt[dt.OUTVIEW=1]="OUTVIEW",dt[dt.CLICK=2]="CLICK",dt.TRACK_CLICK="track-click";var pt=["mqn-autotrack-label","track-label"],ut=["mqn-autotrack-category","track-category"],mt=["mqn-autotrack-event","track-event"],gt=["mqn-autotrack-label","track-click"],_t=["mqn-autotrack-partial-type","track-template","template"],bt=["template_external_spacer","blockSpacer","template-geo-flex.soy","template_query_param_control"];var vt,ft=class{constructor(e,t=!1){this.delegateDisposer=null,this.initialized=!1,this.app=e,this.watcher=new ot,f&&!t?this.watcher.add({element:document,on:Yt.Event.NEO_TRACKING_NAVIGATION,callback:()=>{this.init()},eventOptions:{once:!0}}):this.init(),this.watcher.add({element:this.app,on:Yt.Event.DISCONNECTED,callback:this.dispose.bind(this)});let i=Array.from(this.app.querySelectorAll("a[href]:not([track-click]), a[data-ak-youtubemodal-video-id]:not([track-click])"));for(let e of i)"BENTO-BUTTON"!==e.parentElement.tagName&&e.setAttribute("track-click",e.href||e.innerText)}static register(e){return new ft(e)}init(){this.initialized||(this.initialized=!0,this.setupInviewMonitoring(),this.setupClickMonitoring())}getAttributes(e,t,i=null){for(let i of t){let t=e.getAttribute(i);if(t)return t}return i}async track(e,t,i){!function(...e){(lt("MQN_ANALYTICS")||localStorage.getItem("MQN_ANALYTICS"))&&console.log("[analytics]",...e)}("track",e);let s=await this.getTrackingPayload(e,t,i);this.trackDataLayer(s)}async getTrackingPayload(e,t,i){return new Promise((s=>{(async()=>{let n,a=window.location.pathname,o=i?.linkText||e?.getAttribute("track-link-text")||i?.label||"(not set)",r=this.getAttributes(this.app,_t),l=this.app.id||r,c=this.getAttributes(e,pt,"module interaction"),d=(()=>{let e=document.querySelector("[data-product-family-docid]");return e?e.getAttribute("data-product-family-docid"):""})(),h=(()=>{let e=document.querySelector("[data-product-docid]");return e?e.getAttribute("data-product-docid"):""})(),p=i?.destinationUrl??e.getAttribute("href"),u=p?.startsWith("http")||p?.startsWith("/");if(p?.startsWith("http")&&(p=p.replace(/^https?:\/\//,""),p=p.split(/[?#]/)[0]),2===t){d=void 0,h=void 0,h=e.getAttribute("doc-id")||e.getAttribute("price-doc-id")||e.getAttribute("track-product-doc-id"),(p?.includes("/product")||p?.includes("/config"))&&(n=p.match(/(category|config|magazine|product)\/([^/?]+)/)?.[2]);let t=h||n;if(t){let e=await(await N()).fetchProductCtaData([t]);e.get(t)&&(d=e.get(t)?.productFamilyDocid)}}let m,g=this.getAttributes(e,mt,"module interaction"),_=this.getAttributes(e,ut,"module click"),b=u?p:i?.label||c;if(2===t)m={event:g,eventAction:i?.eventAction??l,eventCategory:_,eventLabel:b,nonInteraction:"0",eventParams:{moduleName:i?.moduleName??l,moduleType:r,pageName:a,actionDetails:b,destinationUrl:u?p:void 0,linkText:o,productDetailsPageDocId:n,productFamilyDocId:d,productDocId:h}};else{let s=0===t;if(s&&(this.inviewStartTime=Date.now()),m={event:s?"module inview":"module outview",eventAction:i?.eventAction??l,eventCategory:this.getAttributes(e,ut,s?"module inview":"module outview"),eventLabel:o,nonInteraction:"1",eventParams:{moduleName:i?.moduleName??l,moduleType:r,pageName:a,productDetailsPageDocId:h,productDocId:h}},!s){let e=(Date.now()-this.inviewStartTime)/1e3;m.eventParams.secondsInView=e}}for(let e in m)m[e]||delete m[e];(c.includes("/config/")||p?.includes("/config/"))&&(this.trackDataLayer(m),m={...m,products:m.eventLabel.replace("/config/",""),event:"buy_now",eventAction:l,eventCategory:"module click",eventLabel:"buy now"}),s(m)})()}))}setupInviewMonitoring(){let e=()=>{this.outviewEv=ht.inview(this.app,{},((e,t,i)=>{!t.isIntersecting&&window.scrollY>=0&&(this.track(this.app,1),i())}))};this.inviewEv=ht.inview(this.app,{threshold:.3},((t,i,s)=>{i.isIntersecting&&(this.track(this.app,0),s(),e())}))}setupClickMonitoring(){this.delegateDisposer=R(this.app,"click",(e=>{if(e.isBentoTrackClick)return;let t=this.getAttributes(e,gt,e.getAttribute("label"));t&&this.track(e,2,{label:t})})),this.watcher.add({element:this.app,on:ct.TRACK_CLICK,callback:e=>{this.track(e.detail.target,2,{destinationUrl:e.detail.destinationUrl,label:e.detail.label,linkText:e.detail.options?.linkText})}})}trackDataLayer(e){!function(e){let t="eventParams"in e;t&&bt.includes(e.eventParams?.moduleType)||(t&&f?N().then((t=>{t.logEvent(e)})):(window.dataLayer=window.dataLayer||[],window.dataLayer.push(e)),(lt("MQN_ANALYTICS")||localStorage.getItem("MQN_ANALYTICS"))&&console.table(e))}(e)}dispose(){this.inviewEv&&this.inviewEv.dispose(),this.outviewEv&&this.outviewEv.dispose(),this.delegateDisposer&&this.delegateDisposer(),this.watcher&&this.watcher.dispose(),this.initialized=!1}};!function(e){e.OPEN="openmqn3youtubemodal"}(vt||(vt={}));var yt=class extends(rt(Ge)){constructor(){super(...arguments),this.isOpen=!1,this.clickDelegateDisposer=null,this.openEventDelegateDisposer=null,this.closeButtonAriaLabel="Close",this.youtubeIframeFocus=!1}init(e){this.frame=e,!this.frame.closest("bento-app:not(:scope)")&&(this.watcher||(this.watcher=new ot),this.watcher.add({element:this.frame,on:Yt.Event.FIRST_DOM_AVAILABLE,callback:this.listen.bind(this)}),this.watcher.add({element:this.frame,on:Yt.Event.MUTATION,callback:this.listen.bind(this)}))}listen(){this.clickDelegateDisposer&&this.clickDelegateDisposer(),this.clickDelegateDisposer=R(this.frame,"click",(e=>{if(e.isMqn3YoutubeModalTrigger)return;let t=e.getAttribute("youtube-modal");t&&this.openModalAndPlay(t)})),this.openEventDelegateDisposer&&this.openEventDelegateDisposer(),this.openEventDelegateDisposer=R(this.frame,vt.OPEN,((e,t)=>{t.detail?.youtubeId&&this.openModalAndPlay(t.detail?.youtubeId)}))}openModalAndPlay(e){this.isConnected||document.body.appendChild(this),window.setTimeout((()=>{this.youtubeId=e,window.setTimeout((()=>{this.watcher.removeById("toggle"),this.watcher.add({element:this.details,on:"toggle",id:"toggle",callback:this.onToggle.bind(this)}),this.detailsDialog.toggle(!0)}))}))}onToggle(){this.isOpen=this.details.open,this.isOpen&&this.youtubeInline?(this.youtubeInline.loadAndPlay(this.youtubeId,!0),this.watcher.add({element:this.youtubeInline,on:"focus",id:"youtubeFocus",callback:e=>{this.youtubeInline.focusWhenReady(),this.youtubeIframeFocus=!0}}),this.watcher.add({element:this.youtubeInline,on:"blur",id:"youtubeBlur",callback:e=>{this.youtubeIframeFocus=!1}}),this.closeButton.focus()):(this.watcher.removeById("keywatch"),this.watcher.removeById("youtubeBlur"),this.youtubeInline.pause())}toggle(e){this.detailsDialog.toggle(e)}render(){return Ee`
      <details class="modal">
        <summary></summary>
        <details-dialog aria-label="" role="dialog" aria-modal="true">
          <button
            style="border: none; background: none;"
            @focus=${()=>{this.youtubeInline.focusWhenReady(),this.youtubeIframeFocus=!0}}
          ></button>
          <button
            class="modal__close"
            data-close-dialog=""
            aria-label="${this.closeButtonAriaLabel}"
          ></button>
          <div class="modal__content">
            <bento-youtube-inline tabindex="0"></bento-youtube-inline>
          </div>
          <button
            style="border: none; background: none;"
            @focus=${()=>{this.closeButton.focus()}}
          ></button>
        </details-dialog>
      </details>
    `}disconnectedCallback(){super.disconnectedCallback(),this.watcher&&this.watcher.dispose(),this.clickDelegateDisposer&&this.clickDelegateDisposer(),this.openEventDelegateDisposer&&this.openEventDelegateDisposer()}dispose(){this.remove()}};yt.styles=j`
    :host {
      height: 100vh;
      width: 100vw;
      top: 0px;
      position: fixed;
      z-index: 99999;
      pointer-events: none;
    }

    .modal summary {
      display: none;
    }

    .modal[open] > summary {
      display: block;
      cursor: default;
    }

    details-dialog {
      position: fixed;
      top: 0;
      left: 0%;
      transform: 0;
      z-index: 2001;
      max-height: 100vh;
      max-width: 100vw;
      width: 100vw;
      height: 100vh;
      overflow: auto;
      pointer-events: all;
      background-color: #202124;
    }

    .modal__content {
      width: calc(100vw - 22.1912072575vw);
      height: calc(100vh - 7.3970690858vw);
      max-height: calc((100vw - 22.1912072575vw) * 9 / 16);
      max-width: calc((100vh - 7.3970690858vw) * 16 / 9);
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translateY(-50%) translateX(-50%);
      z-index: 2;
    }

    .modal__close {
      overflow: visible !important;
      background-color: transparent !important;
      border-radius: 100%;
      border: 2px solid rgba(95, 99, 104, 0.6);
      top: 35px !important;
      right: 50px !important;
      position: absolute;
      top: 0px;
      width: 60px;
      height: 60px;
      z-index: 1;
    }

    @media (max-width: 1024px) {
      .mqn3-modal__close {
        width: 46px;
        height: 46px;
      }
    }

    @media (max-width: 600px) {
      .mqn3-modal__close {
        width: 34px;
        height: 34px;
      }
    }

    .modal__close:before,
    .modal__close:after {
      content: '';
      display: block;
      position: absolute;
      transition: all 250ms linear;
    }
    .modal__close:before {
      top: 50%;
      left: 50%;
      width: 16px !important;
      height: 16px !important;
      margin-top: -8px;
      margin-left: -8px;
      background-repeat: no-repeat;
      background-position: center;
      background-size: 16px;
      background-image: url('data:image/svg+xml,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20fill%3D%22%23423F3F%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22m2.06.73%2013.577%2013.577-1.697%201.697L.363%202.427z%22%2F%3E%3Cpath%20d%3D%22M.363%2014.307%2013.94.73l1.697%201.697L2.06%2016.004z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E');
      z-index: 1;
      filter: invert(1);
    }
    .modal__close:after {
      width: calc(100% + 4px);
      height: calc(100% + 4px);
      top: -2px;
      right: -2px;
      opacity: 0;
      border-radius: 100%;
      background-color: #3c4043;
      transform-origin: center center;
      transform: scale3d(0.8, 0.8, 0.8);
      z-index: 0;
    }
    .modal__close:hover {
      border-color: transparent;
      cursor: pointer;
    }
    .modal__close:hover:before {
      background-repeat: no-repeat;
      background-position: center;
      background-size: 16px;
      background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjIgKDU3NTE5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5leGl0LXdoaXRlPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjIwLi1EZXNrdG9wLVVJLUVsZW1lbnRzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjM3LjAwMDAwMCwgLTExOTkuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgIDxnIGlkPSJFeGl0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDEuMDAwMDAwLCAxMTA1LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDY4LjAwMDAwMCkiIGlkPSJob3ZlciI+CiAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDcyLjU2NjQwNiwgMy44NTE1NjIpIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS40MzM1OTQsIDAuNTE1NjI1KSIgaWQ9ImV4aXQtd2hpdGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIuMDAwMDAwLCAyMi4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4LjAwMDAwMCwgOC4wMDAwMDApIHJvdGF0ZSgtMzE1LjAwMDAwMCkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiIHg9Ii0xLjYiIHk9IjYuOCIgd2lkdGg9IjE5LjIiIGhlaWdodD0iMi40Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDguMDAwMDAwKSByb3RhdGUoLTQ1LjAwMDAwMCkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiIHg9Ii0xLjYiIHk9IjYuOCIgd2lkdGg9IjE5LjIiIGhlaWdodD0iMi40Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==');
    }
    .modal__close:hover:after {
      opacity: 1;
      background-color: #ffffff;
      transform: scale3d(1, 1, 1);
    }
  `,o([je("summary")],yt.prototype,"summary",2),o([je("details-dialog")],yt.prototype,"detailsDialog",2),o([je("details")],yt.prototype,"details",2),o([je("bento-youtube-inline")],yt.prototype,"youtubeInline",2),o([je(".modal__close")],yt.prototype,"closeButton",2),o([ze({type:String,attribute:"close-button-label"})],yt.prototype,"closeButtonAriaLabel",2);var wt="https://storage.googleapis.com/mannequin/modules/view-in-ar/model-viewer.min.js",At="Enter",Ct="Escape",It="Tab",Et=class{constructor(e){let t=Array.from(e.querySelectorAll("[view-in-ar]"));this.viewInArs=t.map((e=>new St(e)))}static register(e){return new Et(e)}dispose(){this.viewInArs.forEach((e=>{e.dispose()}))}},St=class{constructor(e){this.glbOptionsList=[],this.viewInArModal=null,this.el=e,this.watcher=new ot,this.el.classList.add("id-no-nav");let t=JSON.parse(this.el.getAttribute("view-in-ar").replace(/'/g,'"'));this.setGlb(t[0])}setGlb(e){let t=this.el;if(st()){let i={file:e.glb};e.title&&(i.title=e.title),e.link&&e.link.startsWith("http")&&(i.link=e.link);let s=new URLSearchParams(i).toString(),n="intent://arvr.google.com/scene-viewer/1.1?"+s+"#Intent;scheme=https;package=com.google.android.googlequicksearchbox;action=android.intent.action.VIEW;S.browser_fallback_url="+("https://arvr.google.com/scene-viewer?"+s)+";end;";this.watcher.removeById("android-watcher"),this.watcher.add({element:t,on:"click",id:"android-watcher",callback:()=>{let e=document.createElement("img"),t=document.createElement("a");e.style.display="none",t.appendChild(e),t.setAttribute("href",n),t.setAttribute("rel","ar"),t.click()}})}else nt()&&e.usdz?(this.watcher.removeById("ios-watcher"),this.watcher.add({element:t,on:"click",id:"ios-watcher",callback:()=>{let t=document.createElement("img"),i=document.createElement("a");t.style.display="none",i.appendChild(t),i.setAttribute("href",e.usdz),i.setAttribute("rel","ar"),i.click()}})):this.openModelViewer(e,t)}openModelViewer(e,t){this.viewInArModal?this.viewInArModal.setOptions(e):(this.viewInArModal=new $t(e),this.viewInArModal.on("open",(()=>this.trackInview())),this.viewInArModal.on("close",(e=>this.trackOutview(e))),t.addEventListener("click",(e=>{e.preventDefault(),this.viewInArModal.open()})),t.addEventListener("keydown",(e=>{e.key===At&&(e.preventDefault(),this.viewInArModal.open())})))}dispose(){this.watcher&&this.watcher.dispose()}trackInview(){let e=this.el.closest("bento-app"),t=e.getAttribute("template")||"undefined";e.analytics.trackDataLayer({event:"module inview",nonInteraction:"1",eventCategory:"module inview",eventAction:"modal_view_in_ar",eventLabel:"(not set)",eventParams:{pageName:window.location.pathname,pageType:"modal",moduleName:"modal_view_in_ar",moduleType:t}})}trackOutview(e){let t=this.el.closest("bento-app"),i=t.getAttribute("template")||"undefined";t.analytics.trackDataLayer({event:"module outview",nonInteraction:"1",eventCategory:"module outview",eventAction:"modal_view_in_ar",eventLabel:"(not set)",eventParams:{pageName:window.location.pathname,pageType:"modal",moduleName:"modal_view_in_ar",moduleType:i,secondsInView:e.timeElapsed}})}},$t=class{constructor(e){this.listeners={},this.onKey=e=>{e.key!==Ct?e.key!==It||this.handleFocusTrap(e):this.close()},this.glb=e.glb,this.usdz=e.usdz,this.isOpen=!1,this.watcher=new ot,this.modalEl=null,this.watcher.add({element:document,on:"keydown",callback:e=>this.onKey(e)})}setOptions(e){this.glb=e.glb,this.usdz=e.usdz}open(){if(this.isOpen)return;this.lastKnownFocusedElement=document.activeElement,window.Mqn3.scriptLoader.load(wt,{test:()=>document.createElement("model-viewer").constructor!==HTMLElement,timeout:1e4}).then((()=>console.log("model viewer loaded")));let e=document.createElement("button");e.classList.add("mqn3-view-in-ar-modal__x"),e.setAttribute("aria-label","Close modal"),e.addEventListener("click",(()=>{this.close()}));let t=document.createElement("model-viewer");t.setAttribute("ar",""),t.setAttribute("src",this.glb),this.usdz&&t.setAttribute("ios-src",this.usdz),t.setAttribute("shadow-intensity","1"),t.setAttribute("camera-controls",""),t.setAttribute("auto-rotate",""),t.setAttribute("style",""),t.setAttribute("autoplay",""),t.setAttribute("tabindex","0"),this.watcher.add({element:t,on:"focus",callback:()=>{let e=t.shadowRoot.querySelector(".userInput");e.setAttribute("role","application"),e?.focus()}});let i=document.createElement("div");i.classList.add("mqn3-view-in-ar-modal"),i.setAttribute("role","dialog"),i.appendChild(e),i.appendChild(t),document.body.appendChild(i),this.modalEl=i,this.isOpen=!0,this.executeCallbacks("open"),this.timeOpened=Math.floor((new Date).getTime()/1e3),window.setTimeout((()=>{let e=U(this.modalEl);e.length>0?e[0].focus():document.activeElement&&document.activeElement.blur()}))}close(){!this.isOpen||(document.body.removeChild(this.modalEl),this.isOpen=!1,this.executeCallbacks("close"),this.timeOpened=void 0,this.lastKnownFocusedElement&&this.lastKnownFocusedElement.focus())}on(e,t){this.listeners[e]=t}executeCallbacks(e){if(this.listeners[e]){let t={modal:this};"close"===e&&(t.timeElapsed=Math.floor((new Date).getTime()/1e3)-this.timeOpened),this.listeners[e](t)}}dispose(){this.listeners={},this.watcher.dispose(),this.close()}handleFocusTrap(e){if(!this.isOpen||!this.modalEl)return;let t=U(this.modalEl),i=t[0],s=t[t.length-1];document.activeElement&&!this.modalEl.contains(document.activeElement)&&(e.preventDefault(),i.focus()),e.shiftKey?document.activeElement===i&&(e.preventDefault(),s.focus()):document.activeElement===s&&(e.preventDefault(),i.focus())}};var kt=class{constructor(e){this.app=e,this.hideBreakElementsFromScreenReaders()}static register(e){return new kt(e)}hideBreakElementsFromScreenReaders(){Array.from(this.app.querySelectorAll('[role="heading"] br, [role="text"] br')).forEach((e=>{e.setAttribute("aria-hidden","true")}))}},Dt=class{constructor(e){this.app=e,this.updateLegacyClasses()}static register(e){return new Dt(e)}updateLegacyClasses(){this.app.className.split(" ").forEach((e=>{let t=Dt.LegacyOptions[e];t&&this.app.classList.replace(e,t)}))}},Ft=Dt;Ft.LegacyOptions={"mqn-opt--expressive-display":"mqn-opt--standard-display","mqn-opt--expressive-display-2":"mqn-opt--standard-heading-1","mqn-opt--expressive-heading-1":"mqn-opt--standard-heading-2","mqn-opt--expressive-heading-2":"mqn-opt--standard-heading-3","mqn-opt--expressive-heading-3":"mqn-opt--standard-heading-4","mqn-opt--expressive-heading-4":"mqn-opt--standard-heading-5","mqn-opt--expressive-heading-5":"mqn-opt--standard-heading-6","mqn-opt--expressive-heading-6":"mqn-opt--standard-heading-7"};var Tt=class{constructor(e){this.app=e,this.applyDataPrice()}static register(e){return new Tt(e)}applyDataPrice(){let e=this.app.querySelectorAll("[data-price]");e.forEach((e=>{let t,i,s=e.getAttribute("data-price").split(":");1===s.length?(i="is-was",t=s[0].trim()):(i=s[0].trim(),t=s[1].trim()),e.classList.add("is-was-price-text"),e.setAttribute("jsname","xBognb"),e.setAttribute("data-docid",t),e.setAttribute("data-display",i)})),e.length>0&&document.dispatchEvent(new CustomEvent("populatePrices"))}},xt=class{constructor(e){this.app=e,this.watcher=new ot,this.watcher.add({element:this.app,on:Yt.Event.MUTATION,callback:this.rewriteUrls.bind(this)}),this.watcher.add({element:this.app,on:Yt.Event.DISCONNECTED,callback:this.dispose.bind(this)})}static register(e){return new xt(e)}rewriteUrls(){Array.from(this.app.querySelectorAll(['a[href^="https://apps.apple.com"]','a[href^="https://one.google.com"]','a[href^="https://play.google.com"]','a[href^="https://safety.google"]','a[href^="https://support.google.com"]'].join(", "))).forEach((e=>{e.target="_blank"}))}dispose(){this.watcher&&this.watcher.dispose()}},Lt=class{constructor(e){this.watcher=new ot,this.app=e,this.watcher.add({element:this.app,on:Yt.Event.FIRST_DOM_AVAILABLE,callback:this.refresh.bind(this)}),this.watcher.add({element:this.app,on:Yt.Event.MUTATION,callback:this.refresh.bind(this)}),this.watcher.add({element:this.app,on:Yt.Event.DISCONNECTED,callback:this.dispose.bind(this)}),this.refresh()}static register(e){return new Lt(e)}static replaceDataTooltips(e){let t=e.querySelectorAll("[data-tooltip]");for(let e of t)this.replaceDataTooltip(e)}static replaceDataTooltip(e){let t=e.getAttribute("data-tooltip"),i=e.innerHTML,s=document.createElement("bento-tooltip-text",{is:"bento-tooltip-text"}),n=document.createElement("bento-text",{is:"bento-text"});n.setAttribute("slot","content"),n.setAttribute("variant","body");let a=document.createElement("span");N().then((o=>{o.setInnerHtml(n,t),o.setInnerHtml(a,i),s.appendChild(a),s.appendChild(n),e.replaceWith(s),window.dispatchEvent(new Event("populateFootnotes"))}))}refresh(){Lt.replaceDataTooltips(this.app)}dispose(){this.watcher&&this.watcher.dispose()}},Mt=class extends Event{constructor(e,t,i){super("context-request",{bubbles:!0,composed:!0}),this.context=e,this.callback=t,this.subscribe=i}};var Nt=class extends Event{constructor(e){super("context-provider",{bubbles:!0,composed:!0}),this.context=e}};function Pt({context:e}){return Ve({finisher:(t,i)=>{let s=new WeakMap;t.addInitializer((t=>{s.set(t,new class extends class{constructor(e){this.callbacks=new Map,this.updateObservers=()=>{for(let[e,t]of this.callbacks)e(this.t,t)},void 0!==e&&(this.value=e)}get value(){return this.t}set value(e){this.setValue(e)}setValue(e,t=!1){let i=t||!Object.is(e,this.t);this.t=e,i&&this.updateObservers()}addCallback(e,t){t&&(this.callbacks.has(e)||this.callbacks.set(e,(()=>{this.callbacks.delete(e)}))),e(this.value)}clearCallbacks(){this.callbacks.clear()}}{constructor(e,t,i){super(i),this.host=e,this.context=t,this.onContextRequest=e=>{e.context===this.context&&e.composedPath()[0]!==this.host&&(e.stopPropagation(),this.addCallback(e.callback,e.subscribe))},this.attachListeners(),this.host.addController(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest)}hostConnected(){this.host.dispatchEvent(new Nt(this.context))}}(t,e))}));let n=Object.getOwnPropertyDescriptor(t.prototype,i),a=null==n?void 0:n.set,o={...n,set:function(e){var t;null===(t=s.get(this))||void 0===t||t.setValue(e),a&&a.call(this,e)}};Object.defineProperty(t.prototype,i,o)}})}function Ot({context:e,subscribe:t}){return Ve({finisher:(i,s)=>{i.addInitializer((i=>{new class{constructor(e,t,i,s=!1){this.host=e,this.context=t,this.callback=i,this.subscribe=s,this.provided=!1,this.value=void 0,this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new Mt(this.context,((e,t)=>{this.unsubscribe&&(this.unsubscribe!==t&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=e,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(e,t)),this.unsubscribe=t}),this.subscribe))}}(i,e,(e=>{i[s]=e}),t)}))}})}var Rt,Ut,qt,Bt=":host {\n  --bd-sys-color-primary: #8AB4F8;\n  --bd-sys-color-primaryContainer: magenta;\n  --bd-sys-color-onPrimary: #202124;\n  --bd-sys-color-secondary: #FFFFFF;\n  --bd-sys-color-secondaryContainer: magenta;\n  --bd-sys-color-onSecondary: magenta;\n  --bd-sys-color-tertiary: #34A853;\n  --bd-sys-color-tertiaryContainer: magenta;\n  --bd-sys-color-onTertiary: magenta;\n  --bd-sys-color-error: #EE675C;\n  --bd-sys-color-errorContainer: magenta;\n  --bd-sys-color-onError: magenta;\n  --bd-sys-color-background: #181A18;\n  --bd-sys-color-background-hover: #30332F;\n  --bd-sys-color-onBackground: #FFFFFF;\n  --bd-sys-color-onBackground-highContrast: #FFFFFF;\n  --bd-sys-color-surface: #181A18;\n  --bd-sys-color-surface1: #30332F;\n  --bd-sys-color-surface1-hover: #30332F;\n  --bd-sys-color-surface1-active: #30332F;\n  --bd-sys-color-surface2: #3C403B;\n  --bd-sys-color-onSurface: #FFFFFF;\n  --bd-sys-color-onSurfaceVariant: #FFFFFF;\n  --bd-sys-color-outline: #788076;\n  --bd-sys-color-divider: #788076;\n  --bd-sys-color-disabled: #5F6368;\n  --bd-sys-color-onDisabled: #9AA0A6;\n}",Gt=":host {\n  --bd-sys-color-primary: #1967D2;\n  --bd-sys-color-primaryContainer: #E8F0FE;\n  --bd-sys-color-onPrimary: #FFFFFF;\n  --bd-sys-color-secondary: #3C4043;\n  --bd-sys-color-secondaryContainer: #F8F9FA;\n  --bd-sys-color-onSecondary: #FFFFFF;\n  --bd-sys-color-tertiary: #188038;\n  --bd-sys-color-tertiaryContainer: #E6F4EA;\n  --bd-sys-color-onTertiary: #FFFFFF;\n  --bd-sys-color-error: #D93025;\n  --bd-sys-color-errorContainer: #FCE8E6;\n  --bd-sys-color-onError: #FFFFFF;\n  --bd-sys-color-background: #FFFFFF;\n  --bd-sys-color-background-hover: #EAF5D6;\n  --bd-sys-color-onBackground: #3C4043;\n  --bd-sys-color-onBackground-highContrast: #202124;\n  --bd-sys-color-surface: #FFFFFF;\n  --bd-sys-color-surface1: #EAF5D6;\n  --bd-sys-color-surface1-hover: #EAF5D6;\n  --bd-sys-color-surface1-active: #EAF5D6;\n  --bd-sys-color-surface2: #D2EE9F;\n  --bd-sys-color-onSurface: #3C4043;\n  --bd-sys-color-onSurfaceVariant: #5F6368;\n  --bd-sys-color-outline: #DADCE0;\n  --bd-sys-color-disabled: #DADCE0;\n  --bd-sys-color-onDisabled: #9AA0A6;\n  --bd-sys-color-divider: #DADCE0;\n}";(Ut=Rt||(Rt={})).LIGHT="light",Ut.DARK="dark",function(e){e.DEFAULT="default",e.C22="c22",e.P22="p22"}(qt||(qt={}));Object.values(qt),Object.values(Rt);var Wt=Object.freeze({[qt.DEFAULT]:{[Rt.LIGHT]:":host {\n  --bd-sys-color-primary: #1967D2;\n  --bd-sys-color-primaryContainer: #E8F0FE;\n  --bd-sys-color-onPrimary: #FFFFFF;\n  --bd-sys-color-secondary: #3C4043;\n  --bd-sys-color-secondaryContainer: #F8F9FA;\n  --bd-sys-color-onSecondary: #FFFFFF;\n  --bd-sys-color-tertiary: #188038;\n  --bd-sys-color-tertiaryContainer: #E6F4EA;\n  --bd-sys-color-onTertiary: #FFFFFF;\n  --bd-sys-color-error: #D93025;\n  --bd-sys-color-errorContainer: #FCE8E6;\n  --bd-sys-color-onError: #FFFFFF;\n  --bd-sys-color-background: #FFFFFF;\n  --bd-sys-color-background-hover: #EFF0F0;\n  --bd-sys-color-onBackground: #3C4043;\n  --bd-sys-color-onBackground-highContrast: #202124;\n  --bd-sys-color-surface: #FFFFFF;\n  --bd-sys-color-surface1: #F8F9FA;\n  --bd-sys-color-surface1-hover: #f0f2f4;\n  --bd-sys-color-surface1-active: #eceef0;\n  --bd-sys-color-surface2: #F1F3F4;\n  --bd-sys-color-onSurface: #3C4043;\n  --bd-sys-color-onSurfaceVariant: #5F6368;\n  --bd-sys-color-outline: #DADCE0;\n  --bd-sys-color-disabled: #DADCE0;\n  --bd-sys-color-onDisabled: #9AA0A6;\n  --bd-sys-color-divider: #DADCE0;\n}",[Rt.DARK]:":host {\n  --bd-sys-color-primary: #8AB4F8;\n  --bd-sys-color-primaryContainer: magenta;\n  --bd-sys-color-onPrimary: #202124;\n  --bd-sys-color-secondary: #FFFFFF;\n  --bd-sys-color-secondaryContainer: magenta;\n  --bd-sys-color-onSecondary: magenta;\n  --bd-sys-color-tertiary: #34A853;\n  --bd-sys-color-tertiaryContainer: magenta;\n  --bd-sys-color-onTertiary: magenta;\n  --bd-sys-color-error: #EE675C;\n  --bd-sys-color-errorContainer: magenta;\n  --bd-sys-color-onError: magenta;\n  --bd-sys-color-background: #050505;\n  --bd-sys-color-background-hover: #202124;\n  --bd-sys-color-onBackground: #FFFFFF;\n  --bd-sys-color-onBackground-highContrast: #FFFFFF;\n  --bd-sys-color-surface: #050505;\n  --bd-sys-color-surface1: #202124;\n  --bd-sys-color-surface1-hover: #313337;\n  --bd-sys-color-surface1-active: #393b3d;\n  --bd-sys-color-surface2: #3C4043;\n  --bd-sys-color-onSurface: #FFFFFF;\n  --bd-sys-color-onSurfaceVariant: #FFFFFF;\n  --bd-sys-color-outline: #F8F9FA;\n  --bd-sys-color-disabled: #5F6368;\n  --bd-sys-color-onDisabled: #9AA0A6;\n  --bd-sys-color-divider: #5F6368;\n}"},[qt.C22]:{[Rt.LIGHT]:Bt,[Rt.DARK]:Bt},[qt.P22]:{[Rt.LIGHT]:Gt,[Rt.DARK]:Gt}}),Ht="litBentoTokenContext",zt=e=>{let t=class extends e{constructor(){super(...arguments),this.tokenContext=t.generateContext(this)}static generateContext(e){return{get theme(){return e.theme},get mode(){return e.mode}}}get theme(){return this.explicitTheme??this.parentTokenContext?.theme??qt.DEFAULT}set theme(e){let t=this.theme;this.explicitTheme=e,this.requestUpdate("theme",t)}get mode(){return this.explicitMode??this.parentTokenContext?.mode??Rt.LIGHT}set mode(e){let t=this.mode;this.explicitMode=e,this.requestUpdate("mode",t)}getTokenCssVars(){return this.theme&&this.mode&&(this.theme!==this.parentTokenContext?.theme||this.mode!==this.parentTokenContext?.mode)?Wt[this.theme][this.mode]:""}},i=t;return o([Ot({context:Ht,subscribe:!0})],i.prototype,"parentTokenContext",2),o([Pt({context:Ht})],i.prototype,"tokenContext",2),o([ze({attribute:"theme",reflect:!0})],i.prototype,"theme",1),o([ze({attribute:"mode",reflect:!0})],i.prototype,"mode",1),i};function Vt(e){class t extends(zt(e)){connectedCallback(){super.connectedCallback(),this.setTempDarkClass()}setTempDarkClass(){this.classList.toggle("mqn-opt--dark",this.mode===Rt.DARK)}willUpdate(e){super.willUpdate(e),this.setTempDarkClass()}getTokenCssVars(){return`\n        ${V(super.getTokenCssVars())} :host {\n          --theme-text-color: var(--bd-sys-color-onBackground);\n        }\n      `}}return t}var jt,Zt=class extends(Vt(Ge)){render(){return Ee`
      <style>
        ${this.getTokenCssVars()}
      </style>
      <slot></slot>
    `}};Zt=o([Je("bento-theme")],Zt),function(e){e.NEO_TRACKING_NAVIGATION="trackingNavigationEvent",e.FIRST_UPDATED="firstUpdated",e.FIRST_DOM_AVAILABLE="firstDomAvailable",e.MUTATION="frameMutation",e.DISCONNECTED="disconnected"}(jt||(jt={}));var Jt,Qt=class extends(Vt(et(Ge))){constructor(){super(),this.optionsController=new class{constructor(e){this._options=[],(this.host=e).addController(this)}get options(){return this.extractOptions(),[...this._options]}hostConnected(){this.extractAndApplyOptions(),this.watcher=new ot,this.watcher.add({element:this.host,on:Yt.Event.MUTATION,callback:this.extractAndApplyOptions.bind(this)})}hostDisconnected(){this.watcher?.dispose()}extractOptions(){this._options=Array.from(this.host.classList).filter((e=>e.startsWith("mqn-opt"))).map((e=>e.replace("mqn-opt--","")))}parseGradientBackgroundOptions(){let e=0,t={};return this._options.forEach((i=>{i.includes("background-gradient-")&&(t["--cms-background-gradient-"+ ++e]="#"+i.replace("background-gradient-",""))})),t["--cms-background-gradient"]=e>=2?"linear-gradient(180deg, var(--cms-background-gradient-1) 0%, var(--cms-background-gradient-2) 100%)":"initial",t}parseSolidBackgroundOptions(){let e=this._options.find((e=>e.includes("background-color-")));return e?{"--cms-background-color":"#"+e.replace("background-color-","")}:{}}parseSurfaceOptions(){let e=this._options.find((e=>e.includes("color-surface1-")));return e?{"--cms-sys-color-surface1":"#"+e.replace("color-surface1-","")}:{}}extractAndApplyOptions(){this.extractOptions(),function(e,t){for(let i in t)e.style.setProperty(i,String(t[i]))}(this.host,{...this.parseSolidBackgroundOptions(),...this.parseGradientBackgroundOptions(),...this.parseSurfaceOptions()})}}(this),this.hasFirstUpdateCompleted=!1,window.Mqn3||(window.Mqn3={})}get options(){return this.optionsController.options}connectedCallback(){super.connectedCallback(),this.convertLegacyOptions=Ft.register(this),this.addUserConditions=Xt.register(this),this.disableAnalytics||(this.analytics=ft.register(this)),this.replaceDataTooltips=Lt.register(this),this.rewriteUrls=xt.register(this),window.Mqn3.scriptLoader||(window.Mqn3.scriptLoader=new Qe)}async firstUpdated(){await this.updateComplete,this.dispatch(Qt.Event.FIRST_UPDATED,{})}onSlotChange(){this.hasFirstUpdateCompleted||(this.hasFirstUpdateCompleted=!0,this.dispatch(Qt.Event.FIRST_DOM_AVAILABLE,{}),this.breakBrElements=kt.register(this),this.dataPrice=Tt.register(this),this.addViewInAr=Et.register(this),this.youtubeModal=class{constructor(e){this.app=e}static register(e){let t=new yt;return t.init(e),t}}.register(this)),this.updateProps(),this.dispatch(Qt.Event.MUTATION,{})}updateProps(){Array.from(this.querySelectorAll("bento-copy-group")).forEach((e=>{e.adoptFrameHeadlineSize&&(Qt.mapClassToAttribute(this.options,e,"headline-variant",{"standard-display":"display-large","standard-heading-1":"display-medium","standard-heading-2":"display-small","standard-heading-3":"headline-large","standard-heading-4":"headline-medium","standard-heading-5":"headline-small","standard-heading-6":"title-large","standard-heading-7":"title-medium"}),Qt.mapClassToAttribute(this.options,e,"vertical-stack-buttons",{"side-by-side-buttons":"false; tabletLt: true;","vertical-stack-buttons":"true"}))}))}static mapClassToAttribute(e,t,i,s){e.forEach((e=>{s[e]&&t.setAttribute(i,s[e])}))}render(){return Ee` <style>
        ${this.getTokenCssVars()}
      </style>
      <slot @slotchange=${this.onSlotChange}></slot>`}disconnectedCallback(){super.disconnectedCallback(),this.dispatch(Qt.Event.DISCONNECTED,{}),this.addUserConditions&&this.addUserConditions.dispose(),this.addViewInAr&&this.addViewInAr.dispose(),this.replaceDataTooltips&&this.replaceDataTooltips.dispose(),this.youtubeModal&&this.youtubeModal.dispose(),this.hasFirstUpdateCompleted=!1}},Yt=Qt;Yt.Event=jt,o([ze({type:Boolean,attribute:"disable-analytics"})],Yt.prototype,"disableAnalytics",2),function(e){e.MQN_GOOGLE_ONE_USER="mqnGoogleOneUser",e.MQN_CONCIERGE_USER="mqnConciergeUser"}(Jt||(Jt={}));var Kt=e=>{let t=e.classList.contains("mqn-opt--subscribed"),i=e.classList.contains("mqn-opt--not-subscribed");!t&&!i||M().then((s=>{s.isSubscribedToMarketingEmails().then((s=>{e.closest(".mannequin")?.classList.toggle("is-subscribed",s),t&&!s&&(e.style.display="none"),i&&s&&(e.style.display="none")}))}))},Xt=class{constructor(e){this.app=e,this.initUserConditions(),this.watcher=new ot,this.watcher.add({element:this.app,on:Yt.Event.MUTATION,callback:this.initUserConditions.bind(this)})}static register(e){return new Xt(e)}initUserConditions(){this.initGoogleOneUser(),this.initConciergeUser(),this.initMarketingEmailSubscription()}initMarketingEmailSubscription(){Kt(this.app)}initConciergeUser(){document.querySelectorAll(".mqn-opt--show-if-concierge-user, .mqn-opt--hide-if-concierge-user").length&&(this.decorateConditionalUserStatus(Jt.MQN_CONCIERGE_USER,"mqn-opt--is-concierge-user",!1),M().then((e=>{e.fetchSubscriptionTypes().then((e=>{let t=new Set(e).has(k.CONCIERGE);this.decorateConditionalUserStatus(Jt.MQN_CONCIERGE_USER,"mqn-opt--is-concierge-user",t)}))})))}initGoogleOneUser(){let e=!1;window._uc&&(e=JSON.parse(window._uc)[26]>0),this.decorateConditionalUserStatus(Jt.MQN_GOOGLE_ONE_USER,"mqn-opt--is-google-one-user",e)}decorateConditionalUserStatus(e,t,i){let s=new URLSearchParams(window.location.search);if(s.has(e)){let i="false"!==s.get(e);this.app.classList.toggle(t,i)}else i&&this.app.classList.add(t)}dispose(){this.watcher&&this.watcher.dispose()}};function ei(e){return function(e,t){return t===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}(e,"undefined")}function ti(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||-1!==navigator.userAgent.toLowerCase().indexOf("macintosh")&&Boolean(navigator.maxTouchPoints)&&navigator.maxTouchPoints>2||/Android/i.test(navigator.userAgent)}var ii=class{constructor(){this.resolve=()=>{},this.reject=()=>{},this.complete=!1,this.promise=new Promise(((e,t)=>{this.resolve=t=>(this.complete=!0,e(t)),this.reject=e=>(this.complete=!0,t(e))}))}getPromise(){return this.complete?new Promise((e=>{e()})):this.promise}};function si(){return Date.now()}function ni(e,t,i){let s;return function(...n){let a=this;i||(clearTimeout(s),s=+setTimeout((()=>{s=void 0,e.apply(a,n)}),t)),i&&void 0===s&&(e.apply(a,n),s=+setTimeout((()=>{s=void 0}),t))}}function ai(e,t=1e4){let i=[];return e.forEach((e=>{let s=new ii;i.push(s.getPromise()),function(e,t=0,i=100){let s,n,a=si(),o=new Promise(((e,t)=>{s=e,n=t})),r=()=>{let o=function(e,t){return t-e}(a,si());e()?s():t&&o>t?n("Wait until timed out"):setTimeout(r,i)};return r(),o}((()=>4===e.readyState),t,10).then((()=>{s.resolve()}))})),Promise.all(i)}function oi(e,t,i){let s=new CustomEvent(t,{detail:i});e.dispatchEvent(s)}function ri(e){return!!function(e){return"none"===window.getComputedStyle(e).display}(e)||!!e.parentElement&&ri(e.parentElement)}var li=class{static inview(e,t={},i){let s=null,n=null,a=null,o=!1,r=new ii,l=window.location.search.split("evBypass=")[1];if(l=l&&l.split("&")[0],"true"===l)return window.setTimeout((()=>{i&&i(e,{isIntersecting:!0,isVisible:!0},(()=>{})),r.resolve()})),{observer:null,dispose:()=>{},state:()=>({ready:!0,inview:!0}),readyPromise:r.getPromise()};let c=()=>{d&&d.unobserve(e),d&&d.disconnect(),s=[],n=null},d=new IntersectionObserver((t=>{t.length>=1&&(s=t,n=t.slice(-1)[0],a=n.isIntersecting,o=!0,r.resolve()),i&&i(e,t.slice(-1)[0],c)}),t);return d.observe(e),{observer:d,dispose:c,state:()=>({changes:s,lastChange:n,inview:a,ready:o}),readyPromise:r.getPromise()}}},ci="LOAD_START",di="LOAD_LOADED";new class extends class{constructor(e){this.id=e,this.moduleElements=[],this.mqnServiceDynamicCtaControllers=[],this.init()}init(){this.watchPageEvents()}watchPageEvents(){document.addEventListener(r,this.handleDOMContentLoaded.bind(this)),document.addEventListener(l,this.handleLeave.bind(this))}addBrowserNames(){!window.MqnLib||this.moduleElements.forEach((e=>{window.MqnLib.appendBrowserNameToElement(e)}))}handleDOMContentLoaded(){window.setTimeout((()=>{this.moduleElements=Array.from(document.querySelectorAll(`[mqn2-app-${this.id}]`)),this.moduleElements.length>=1&&(this.addBrowserNames(),this.mounted(),this.moduleElements.forEach((e=>{e.classList.add("ready"),this.setupDynamicCtas();let t=e.querySelector(".mqn-opt--subscribed,.mqn-opt--not-subscribed");t&&Kt(t)})))}))}mounted(){}handleLeave(){this.moduleElements.length>=1&&this.dispose(),this.moduleElements=[]}setupDynamicCtas(){this.mqnServiceDynamicCtaControllers=this.moduleElements.map((e=>new O(e)))}disposeDynamicCtas(){this.mqnServiceDynamicCtaControllers.forEach((e=>{e.dispose()})),this.mqnServiceDynamicCtaControllers=[]}dispose(){this.disposeDynamicCtas()}}{constructor(){super("template-hero-simple"),this.lazyVideoManagers=[]}mounted(){this.moduleElements.forEach((e=>{this.lazyVideoManagers.push(new class{constructor(e){this.lazyVideos=[],Array.from(e.querySelectorAll("[lazy-video]")).forEach((e=>{this.lazyVideos.push(new class{constructor(e){this.playOnInview=!0,this.el=e,this.video=this.el.parentElement,this.watcher=new class{constructor(){this.watcherConfigs=[]}add(e){Array.isArray(e.on)?e.on.forEach((t=>{let i=Object.assign({},e);i.on=t,this.addSingleEvent(i)})):this.addSingleEvent(e)}addSingleEvent(e){let t=t=>{e.runWhen?e.runWhen()&&e.callback(t):e.callback(t)};if(e.listener=t,"smartResize"===e.on)e.remover=function(e,t){let i=0,s=t=>{let s=window.innerWidth;(!ti()||i!==s)&&(e(t),i=s)};return window.addEventListener("resize",s,t),()=>{window.removeEventListener("resize",s)}}(t,e.eventOptions||{});else if("resize"===e.on&&e.element!==window){let i=new ResizeObserver((e=>{t(e)}));i.observe(e.element),e.remover=()=>{i.unobserve(e.element)}}else if("mutation"===e.on){let i=new MutationObserver((e=>{t(e)}));i.observe(e.element,e.eventOptions),e.remover=()=>{i.disconnect()}}else e.element,MediaQueryList,e.element.addEventListener(e.on,t,e.eventOptions||{}),e.remover=()=>{e.element.removeEventListener(e.on,t,e.eventOptions||{})};this.watcherConfigs.push(e)}removeById(e){this.watcherConfigs=this.watcherConfigs.filter((t=>{if(t.id&&t.id===e){let e=t.remover;return e&&e(),!1}return t}))}removeAll(){this.watcherConfigs.forEach((e=>{let t=e.remover;t&&t()})),this.watcherConfigs=[]}run(e){this.watcherConfigs.filter((t=>t.id&&t.id===e)).forEach((e=>{e.callback()&&e.callback()}))}dispose(){this.removeAll()}},this.watcher.add({element:window,on:"smartResize",callback:ni(this.onResize.bind(this),500)}),this.watcher.add({element:this.el,on:"force-lazy-load",callback:()=>{this.paint(!0)}});let t=this.el.getAttribute("lazy-video-forward-scalar");this.forwardLoadScalar=function(e){return!ei(e)}(t)?+t:1,this.url=this.el.getAttribute("lazy-video")||"",this.setComplete=!1,this.playOnInview=!this.el.hasAttribute("lazy-video-disable-inview-play"),this.ev=li.inview(this.video,{rootMargin:window.innerHeight*this.forwardLoadScalar+"px"},(()=>{this.paint()})),this.inviewEv=li.inview(this.video,{},(()=>{this.paint()})),this.ev.readyPromise.then((()=>{this.paint()}))}onResize(){this.setComplete||this.paint()}paint(e=!1){(this.isPainted()&&!this.setComplete||e)&&(this.setComplete=!0,this.el.setAttribute("src",this.url),ai([this.video]).then((()=>{oi(this.video,di,{}),this.playOnInview&&this.playVideo()})),this.video.load(),this.video.setAttribute("load","true"),this.video.pause(),oi(this.video,ci,{}),this.dispose()),this.setComplete&&this.playOnInview&&(this.isPainted()||this.inviewEv.state().inview?this.playVideo():(this.video.currentTime=0,this.video.pause()))}playVideo(){if((e=this.video).paused||e.ended||!(e.readyState>2)){let e=this.video.play();e&&e.catch((()=>{}))}var e}isPainted(){return!ri(this.video)&&this.ev.state().inview}dispose(){this.ev.dispose(),this.watcher.dispose()}}(e))}))}dispose(){this.lazyVideos&&this.lazyVideos.forEach((e=>{e.dispose()}))}}(e))}))}dispose(){this.lazyVideoManagers.forEach((e=>{e.dispose()})),this.lazyVideoManagers=[]}}})();